{"version":3,"sources":["Components/Dialogs/DialogsPage/DialogsPage.module.css","App.module.css","Components/Common/FormsControls/FormControl.module.css","Components/Common/Preloader/Preloader.module.css","Redux/Selectors/UsersSelector.ts","Components/Common/Paginator/Paginator.tsx","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Common/Paginator/Paginator.module.css","Components/Users/UserElement/UserElement.module.css","Components/LayOuts/Menu/Menu.module.css","Api/ApiChat.ts","Redux/Sagas/ChatSagas.ts","Components/Header/Header.module.css","Components/Users/UserElement/UserElement.tsx","accepts/images/React.png","accepts/images/React-redux-.png","accepts/images/ts.png","accepts/images/zina.jpg","accepts/images/IMG_2138.jpg","accepts/images/Bean Eater-2s-200px.svg","Components/Header/HeaderProfile/HeaderProfile.module.css","accepts/images/Bean Eater-1s-200px.svg","accepts/images/1615023361_preview_911308-russian-flag-wallpapers-2000x1333-htc.jpg","Components/Profile/ProfileInfo/ProfileInfo.module.css","Api/Api.ts","serviceWorker.js","Redux/Reducers/DialogsReducer.ts","Utils/HelperStopSubmit.ts","Redux/Reducers/ProfileReducer.ts","Redux/Reducers/NavbarReducer.ts","Redux/Reducers/AppReducer.ts","Redux/Reducers/NewsReducer.ts","Redux/Sagas/DialogsSagas.ts","Redux/ReduxStore.ts","HOC/withSuspense.tsx","Components/Profile/ProfileInfo/FileInputs/ProfilePhotoInputFile.tsx","Components/Profile/ProfileInfo/Status/StatusWithHooks.tsx","Components/Profile/ProfileInfo/ProfileDescriptionBlock.tsx","Components/Profile/ProfileInfo/ProfileInfoForm.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPostsForm.tsx","Components/Profile/MyPosts/MyPosts.tsx","Components/Profile/ProfileContainer.tsx","Components/Header/HeaderProfile/HeaderProfile.tsx","Components/Header/Header.tsx","Components/Header/HeaderContainer.tsx","Components/Common/Preloader/AppPreloader.tsx","Components/Friends/Friends.tsx","Components/Friends/FriendsContainer.tsx","Components/Dialogs/DialogsPage/DialogItem.tsx","Components/Dialogs/DialogsPage/DialogsPage.tsx","Components/Dialogs/MessagesPage/MyMessage.tsx","Components/Dialogs/MessagesPage/Message.tsx","Components/Dialogs/MessagesPage/MessagesPage.tsx","Components/LayOuts/Menu/Menu.tsx","App.tsx","index.js","Types/Types.ts","Components/Dialogs/MessagesPage/MessagesPage.module.css","Redux/Reducers/UsersReducer.ts","Redux/Reducers/ChatReducer.ts","Redux/Reducers/AuthReducer.ts","Components/Common/Preloader/Preloader.tsx","HOC/withAuthRedirect.tsx","accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg","Components/Common/FormsControls/FormControl.tsx","Components/Common/FormsControls/FieldCreator.tsx","Utils/Validators/validators.ts"],"names":["module","exports","getUsers","state","UsersPage","users","getUsersSuper","createSelector","filter","u","getPageSize","ProfilePage","ProfileInfo","profile","id","userId","pageSize","getTotalUsersCount","totalUsersCount","getIsFetching","isFetching","getFollowIsProgressing","followIsProgressing","Paginator","onPageChanged","totalItems","currentPage","currentPageAc","pagesCount","Math","ceil","dispatch","useDispatch","setCurrentPage","useCallback","page","useState","pageLeft","changePageLeft","pageRight","changePageRight","pages","i","push","className","s","PaginatorBlock","onClick","undefined","map","p","Page","emitter","ws","MessageHandler","e","ChatMessages","JSON","parse","data","console","error","ChatActions","SetChatMessages","CloseHandler","log","SetWSStatus","setTimeout","type","OpenedHandler","ErrorHandler","CleanUp","removeEventListener","close","chatAPI","eventChannel","emitt","WebSocket","addEventListener","message","send","wsSaga","SendMessageWorker","StopWSSaga","StopWSWorker","StartChatSagaActions","StartWsAC","SendMessageAC","CloseWSAC","takeEvery","call","channel","take","WSAction","put","action","UserElement","user","FollowOrUnfollow","isFriend","to","UserPhoto","src","photos","large","userPhoto","alt","Location","style","width","height","Rus","name","followed","icon","disabled","some","AxiosInstance","axios","create","withCredentials","headers","baseURL","DialogsApi","PutDialog","res","GetDialogs","get","GetUserDialog","url","PutMessage","post","body","DeleteMessage","messageId","delete","AuthAPI","AuthUser","then","response","AuthLogin","email","password","rememberMe","captcha","AuthLogOut","Captcha","UserAPI","friend","term","followUser","unfollowUser","getUserProfile","getProfileStatus","updateStatus","status","changeProfile","changeMainPhoto","photo","formData","FormData","append","Boolean","window","location","hostname","match","InitialState","DialogsData","MessagesData","CurrentMessagePage","TotalMessagesItems","DialogsActions","ShowMessagesAC","messagesData","SetDialogs","dialogsData","AddNewMessage","newMessage","SetCurrentPage","SetTotalItems","DialogReducer","HelperStopSubmit","errorMessages","ErrorsNames","newElement","split","substring","length","toLowerCase","ErrorObject","PostsData","likecount","ProfileStatus","submitWasSuccess","ProfileActions","postId","success","getState","a","getProfile","ProfileReducer","NewPost","FriendsBarData","Img","Name","OnOf","NavbarReducer","initialized","globalError","AppActions","AppReducer","NewsPost","Text","ReactPhoto","ReduxPhoto","tsPhoto","Title","Data","zina","og","NewsReducer","watchMessages","fetchShowMessages","fetchDeleteMessage","fetchAddNewDialog","fetchShowDialogs","fetchSendMessage","ActivateSagasActions","userID","userid","takeLatest","Number","totalCount","items","resultCode","ResultCodesEnum","Success","rootSaga","MainReducer","combineReducers","DialogsPage","NewsPage","NavbarPage","UsersReducer","Auth","AuthReducer","form","formReducer","App","Chat","ChatReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","all","run","__store__","Component","ProfilePhotoInputFile","props","Sprops","showUploadList","customRequest","info","onMainPhotoSelected","input__wrapper","UploadOutlined","StatusWithHooks","editMode","setEditeMode","setStatus","useSelector","useEffect","IDisCurrent","onDoubleClick","onChange","currentTarget","value","autoFocus","onBlur","UpdateProfileStatus","ContactsProfile","ContactTitle","ContactValue","Contacts","href","ProfileDescription","fullName","aboutMe","FriendsCount","totalFriendsCount","Description","title","subTitle","StatusBlock","FriendCountBlock","AboutMe","AboutMeTitle","AboutMeData","ProfileAdDescription","AdInfo","marginLeft","AdInfoLine","AdInfoBlock","Object","keys","contacts","k","key","AdditAboutMe","lookingForAJob","lookingForAJobDescription","maxLength100","maxLengthCreator","ContactsProfileField","FieldCreator","InputField","ProfileInfoInputReduxForm","reduxForm","handleSubmit","initialValues","onSubmit","ProfileForm","required","TextareaField","CheckOutlined","marginTop","htmlType","someoneError","CurrentUserId","DialogUrl","setProfileEditMode","ProfileEditMode","Preloader","Avatar","UserAvatar","Button1","file","AuthActions","SetCurrentUserProfile","EditOutlined","Button2","CloseOutlined","ProfileInfoForm","messages","stopSubmit","_error","Post","Likes","setLikes","CurrentUserPhoto","PostBlock","content","PostContent","HeartOutlined","color","CloseCircleOutlined","danger","datetime","moment","format","maxLength30","PostInputReduxForm","SpecialFormCreator","submitSucceeded","reset","MyPosts","React","memo","PostData","ProfileID","CurrentUserID","PostsElements","PostDescription","dataForm","postInput","posts","withAuthRedirect","useParams","Profile","HeaderProfile","LogoutOutlined","authLogOut","styles","LoginProfileHeader","login","Header","header","isAuth","HeaderContainer","this","connect","AppPreloader","AppLoadingBlock","PreloaderLogo","Friends","currentFriendPage","setCurrentFriendPageAC","friends","FriendsContainerClass","requestUsers","setFilter","UserActions","FriendsContainer","DialogItem","Dialog","UserDialogUrl","ProfileUrl","author","userName","avatar","Content","DialogBody","backgroundColor","newMessagesCount","showZero","count","MessageOutlined","Date","lastDialogActivityDate","DialogsComponentsArray","d","MailOutlined","CommentOutlined","MyMessage","Message","DeleteMode","setDeleteMode","viewed","NotViewed","MyMessageDate","addedAt","MessagesBody","onMouseMove","onMouseLeave","DeleteButton","String","recipientId","FriendAvatar","senderId","MessagesAuthor","senderName","history","useHistory","Form","useForm","dialogId","query","pathname","search","queryString","stringify","parsed","substr","actualPage","FriendId","MessagesComponentsArray","m","MessagesPage","onFinish","values","send_message_textarea","resetFields","Item","rules","TextArea","Sider","Layout","SubMenu","Menu","AppMenu","CurrentPage","MenuBlock","mode","selectedKeys","defaultOpenKeys","UserOutlined","exact","LaptopOutlined","NotificationOutlined","Music","lazy","Login","Settings","UserExit","ChatPage","catchAllErrors","reason","httpCode","errorMessage","setGlobalError","initializedApp","LayOut","padding","site_layout_content","SuspenseMainContent","Footer","appWrapperContent","path","render","ProfileContainer","from","fallback","AppContainer","authUser","withRouter","FirstReactApp","StrictMode","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","toggleFollowProgressing","isProgressing","FriendsPage","setCurrentPageAC","toggleFollow","setUsers","isFriendsArray","setTotalUsersCount","isFriends","setFetching","follow","HelperUsersArray","array","WSStatus","v1","index","CaptchaImg","SetAuthUserData","SetCaptchaImg","ProfileResponse","authLogin","CaptchaIsRequired","ActivateCaptcha","mapStateToPropsForRedirect","RedirectComponent","FormControl","meta","touched","children","hasError","formControl","input","restProps","allowClear","validate","component","placeholder","text","maxLength"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,WAAa,gCAAgC,WAAa,gCAAgC,QAAU,6BAA6B,KAAO,4B,oBCAzMD,EAAOC,QAAU,CAAC,kBAAoB,+BAA+B,YAAc,yBAAyB,oBAAsB,iCAAiC,OAAS,oBAAoB,OAAS,sB,oBCAzMD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,aAAe,kCAAkC,eAAiB,oCAAoC,WAAa,gCAAgC,aAAe,kCAAkC,YAAc,mC,oBCAtTD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,gBAAkB,qC,iCCD5H,uLAIMC,EAAW,SAACC,GACd,OAAOA,EAAMC,UAAUC,OASdC,EAAgBC,YAAeL,GAAU,SAACG,GACnD,OAAOA,EAAMG,QAAO,SAAAC,GAAC,OAAI,QAahBC,GAXwBH,YAAeL,GAV9B,SAACC,GACnB,OAAOA,EAAMQ,YAAYC,eASgD,SAACP,EAAMQ,GAChF,OAAKA,EAIMR,EAAMG,QAAO,SAAAC,GAAC,OAAIA,EAAEK,KAAOD,EAAQE,UAHnC,QASY,SAACZ,GACxB,OAAOA,EAAMC,UAAUY,WAEdC,EAAqB,SAACd,GAC/B,OAAOA,EAAMC,UAAUc,iBAEdC,EAAgB,SAAChB,GAC1B,OAAOA,EAAMC,UAAUgB,YAEdC,EAAyB,SAAClB,GACnC,OAAOA,EAAMC,UAAUkB,sB,yICpBdC,EAAgC,SAAC,GAsC1C,IAtCgH,IAArEC,EAAoE,EAApEA,cAAeC,EAAqD,EAArDA,WAAYT,EAAyC,EAAzCA,SAASU,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,cACxFC,EAAqBC,KAAKC,KAAKL,EAAaT,GAC1Ce,EAAWC,cACXC,EAAiBC,uBAAY,SAACC,GAChCJ,EAASJ,EAAcQ,MAAQ,CAACJ,EAASJ,IAJkE,EAK/ES,mBAAS,GALsE,mBAK1GC,EAL0G,KAKjGC,EALiG,OAM5EF,mBAAS,IANmE,mBAM1GG,EAN0G,KAM/FC,EAN+F,KAqC3GC,EAAuB,GAClBC,EAAIL,EAAUK,GAAKH,IACxBE,EAAME,KAAKD,KACPA,GAAKd,IAF0Bc,KAMvC,OAAO,yBAAKE,UAAWC,IAAEC,gBACN,IAAbT,EAAiB,KACb,8BAAM,kBAAC,IAAD,CAAQU,QAASV,EAAW,EAxBN,WAClCG,EAAgB,IAChBF,EAAe,GACfL,EAAe,GACfT,EAAc,SAoBsCwB,GAAxC,QACJ,kBAAC,IAAD,CAAQD,QAASV,EAAW,EAhCO,WAC3CJ,EAAeI,EAAS,IACxBG,EAAgBD,EAAU,IAC1BD,EAAeD,EAAS,IACxBb,EAAca,EAAS,UA4BkCW,GAAjD,WACPP,EAAMQ,KAAI,SAAAC,GACP,OAAO,kBAAC,IAAD,CAAQH,QAAS,WACpBd,EAAeiB,GACf1B,EAAc0B,IACfN,UAAWlB,IAAgBwB,EAAGL,IAAEnB,YAAamB,IAAEM,MAAOD,MAE7D,kBAAC,IAAD,CAAQH,QAASR,EAAYX,EA9Ce,WAC5CK,EAAeI,EAAS,IACxBG,EAAgBD,EAAU,IAC1BD,EAAeD,EAAS,IACxBb,EAAca,EAAS,UA0CqCW,GAA5D,UACA,kBAAC,IAAD,CAAQD,QAASR,EAAYX,EAzBM,WACnCU,EAAeV,EAAW,IAC1BY,EAAgBZ,GAChBK,EAAeL,EAAW,IAC1BJ,EAAcI,EAAW,UAqB0BoB,GAAnD,W,oBCxERhD,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,gBAAkB,mC,oBCAnED,EAAOC,QAAU,CAAC,GAAK,iBAAiB,YAAc,0BAA0B,UAAY,wBAAwB,OAAS,uB,oBCA7HD,EAAOC,QAAU,CAAC,YAAc,+BAA+B,KAAO,wBAAwB,eAAiB,oC,oBCA/GD,EAAOC,QAAU,CAAC,UAAY,+BAA+B,YAAc,iCAAiC,cAAgB,mCAAmC,SAAW,gC,oBCA1KD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,KAAO,mBAAmB,MAAQ,sB,2ICMpFmD,E,0CAHAC,EAAuB,KAMrBC,EAAiB,SAACC,GACpB,IAAIC,EAA8C,KAClD,IACIA,EAAeC,KAAKC,MAAMH,EAAEI,MAC9B,MAAMJ,GACJK,QAAQC,MAAR,0BAAiCN,EAAEI,OAEvC,GAAIH,EACA,OAAOJ,EAAQU,IAAYC,gBAAgBP,KAI7CQ,EAAe,WACjBJ,QAAQK,IAAI,UACZb,EAAQU,IAAYI,YAAY,WAChCC,YAAW,kBAAMf,EAAQ,CAAEgB,KAAM,uBAAsB,MAIrDC,EAAgB,WAClBT,QAAQK,IAAI,UACZb,EAAQU,IAAYI,YAAY,YAE9BI,EAAe,WACjBV,QAAQK,IAAI,SACZb,EAAQU,IAAYI,YAAY,WAG9BK,EAAU,WAAO,IAAD,UAChB,QAAF,EAAAlB,SAAA,SAAImB,oBAAoB,QAAQR,GAC9B,QAAF,EAAAX,SAAA,SAAImB,oBAAoB,UAAWlB,GACjC,QAAF,EAAAD,SAAA,SAAImB,oBAAoB,OAAQH,GAC9B,QAAF,EAAAhB,SAAA,SAAImB,oBAAoB,QAASF,GAC/B,QAAF,EAAAjB,SAAA,SAAIoB,SAmBKC,EAAU,WAEhB,OAhBIC,aAAa,SAACC,GAQjB,OAPAxB,EAAUwB,EACVL,KACAlB,EAAK,IAAIwB,UAAU,iEAChBC,iBAAiB,QAASd,GAC7BX,EAAGyB,iBAAiB,OAAQT,GAC5BhB,EAAGyB,iBAAiB,QAASR,GAC7BjB,EAAGyB,iBAAiB,UAAWxB,GACxB,iBAMFoB,EAAU,WAKfH,KALKG,EAAU,SAOPK,GAAiB,IAAD,EACtB,QAAF,EAAA1B,SAAA,SAAI2B,KAAKD,I,WCxDAE,G,WAaPC,G,WAKOC,G,WAIPC,GA/BGC,EAAuB,CAChCC,UAAW,iBAAO,CAAClB,KAAM,aACzBmB,cAAe,SAACR,GAAD,MAAsB,CAACX,KAAM,oBAAqBW,YACjES,UAAW,iBAAO,CAACpB,KAAM,sBAMtB,SAAUa,IAAV,iEACH,OADG,SACGQ,YAAyC,WAAhC,UAA4C,sFACP,OADO,SACDC,YAAKhB,GADJ,OAEvD,OADIiB,EADmD,gBAEjDF,YAA8C,oBAAqBP,GAFlB,OAIb,OAJa,SAIPU,YAAKD,GAJE,UAK7B,sBADhBE,EAJ6C,QAKtCzB,KALsC,iBAMtC,OANsC,UAMhCsB,YAAKhB,GAN2B,QAMhDiB,EANgD,+BAQ9C,OAR8C,UAQxCG,YAAID,GARoC,mEADxD,uCAaP,SAAUX,EAAkBa,GAA5B,iEACI,OADJ,SACUL,YAAKhB,EAAqBqB,EAAOhB,SAD3C,uCAKO,SAAUI,IAAV,iEACH,OADG,SACGM,YAA8C,mBAAoBL,GADrE,uCAIP,SAAUA,IAAV,iEACI,OADJ,SACUM,YAAKhB,GADf,OAEI,OAFJ,SAEUoB,YAAIhC,IAAYI,YAAY,YAFtC,yC,oBCnCAlE,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,wB,iCCD1D,oHAyCe+F,IAvBoB,SAAC,GAAkE,IAAjEC,EAAgE,EAAhEA,KAAK3E,EAA2D,EAA3DA,oBAAoB4E,EAAuC,EAAvCA,iBAAuC,IAArBC,gBAAqB,SACjG,OAAO,yBAAKvD,UAAWC,IAAEmD,aACrB,6BACQ,kBAAC,IAAD,CAASI,GAAI,YAAcH,EAAKnF,IAC5B,kBAAC,IAAD,CAAQ8B,UAAWC,IAAEwD,UAAWC,IAA2B,OAAtBL,EAAKM,OAAOC,MAAiBC,IAAYR,EAAKM,OAAOC,MAAOE,IAAK,OAIlH,6BACI,yBAAK9D,UAAaC,IAAE8D,UAApB,IAA+B,kBAAC,IAAD,CAAQC,MAAO,CAACC,MAAO,GAAIC,OAAO,IAAKR,IAAOS,MAA7E,iBACA,6BAAMd,EAAKe,OAEf,6BACMf,EAAKgB,SACD,kBAAC,IAAD,CAAQC,KAAM,kBAAC,IAAD,MAAwBC,SAAU7F,EAAoB8F,MAAK,SAAAtG,GAAE,OAAIA,IAAOmF,EAAKnF,MACnFiC,QAAS,WAAOmD,EAAiBD,EAAKnF,IAAG,EAAOqF,KADxD,YAGA,kBAAC,IAAD,CAAQe,KAAM,kBAAC,IAAD,MAAqBC,SAAU7F,EAAoB8F,MAAK,SAAAtG,GAAE,OAAIA,IAAOmF,EAAKnF,MAChFiC,QAAS,WAAOmD,EAAiBD,EAAKnF,IAAG,EAAMqF,KADvD,c,oBCnClBnG,EAAOC,QAAU,IAA0B,mC,kBCA3CD,EAAOC,QAAU,klZ,oBCAjBD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,0CCA3CD,EAAOC,QAAU,IAA0B,iD,oBCC3CD,EAAOC,QAAU,CAAC,mBAAqB,4C,oBCDvCD,EAAOC,QAAU,IAA0B,iD,oBCA3CD,EAAOC,QAAU,IAA0B,6F,mBCC3CD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,OAAS,4BAA4B,YAAc,iCAAiC,QAAU,6BAA6B,QAAU,6BAA6B,OAAS,4BAA4B,YAAc,iCAAiC,YAAc,iCAAiC,iBAAmB,sCAAsC,QAAU,6BAA6B,aAAe,kCAAkC,aAAe,kCAAkC,YAAc,iCAAiC,SAAW,8BAA8B,WAAa,gCAAgC,YAAc,mC,+OCGrrBoH,E,OAAgBC,EAAMC,OAAO,CAC/BC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEfC,QAAS,iDAwBAC,EAAa,CAChBC,UADgB,SACN7G,GAAiB,OAAD,0HACVsG,EAAcvB,IAAd,kBAAoD/E,IAD1C,cACtB8G,EADsB,yBAErBA,EAAIlE,MAFiB,8CAI1BmE,WALgB,WAKF,OAAD,0HACGT,EAAcU,IAA4B,WAD7C,cACTF,EADS,yBAERA,EAAIlE,MAFI,8CAIbqE,cATgB,SASFjH,EAAgBoB,GAAe,OAAD,mHACxC8F,EADwC,kBACvBlH,EADuB,0BACCoB,EADD,sBAE5BkF,EAAcU,IAA+BE,GAFjB,cAExCJ,EAFwC,yBAGvCA,EAAIlE,MAHmC,8CAK5CuE,WAdgB,SAcLnH,EAAgBgE,GAAkB,OAAD,mHACxCkD,EAAM,WAAalH,EAAS,YADY,SAE5BsG,EAAcc,KAA6BF,EAAK,CAACG,KAAMrD,IAF3B,cAExC8C,EAFwC,yBAGvCA,EAAIlE,MAHmC,8CAK5C0E,cAnBgB,SAmBFC,GAAoB,OAAD,0HACjBjB,EAAckB,OAAd,2BAAoED,IADnD,cAC7BT,EAD6B,yBAE5BA,EAAIlE,MAFwB,+CA+B9B6E,EAAU,CACnBC,SADmB,WAEf,OAAOpB,EAAcU,IAAd,WACFW,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAG5BiF,UAPmB,SAOTC,EAAeC,EAAkBC,GAAqD,IAAhCC,EAA+B,uDAAN,KACrF,OAAO3B,EAAcc,KAAd,aAAoD,CACvDU,QACAC,WACAC,aACAC,YACDN,MAAK,SAAAb,GAAG,OAAIA,EAAIlE,SAEvBsF,WAfmB,WAgBf,OAAO5B,EAAcc,KAAd,eAAsDO,MAAK,SAAAb,GAAG,OAAIA,EAAIlE,SAGjFuF,QAnBmB,WAoBf,OAAO7B,EAAcU,IAAyB,4BAA4BW,MAAK,SAAAb,GAAG,OAAIA,EAAIlE,UAqBrFwF,EAAU,CACnBjJ,SADmB,WACkD,IAA5DwB,EAA2D,uDAA7C,EAAGV,EAA0C,uDAA/B,GAAIoI,EAA2B,wDAAXC,EAAW,uDAAJ,GAC5D,OAAOhC,EAAcU,IAAd,qBAAsDrG,EAAtD,kBAA2EV,EAA3E,mBAA8FoI,EAA9F,iBAA6GC,IAC/GX,MAAK,SAAAC,GACE,OAAOA,EAAShF,SAIhC2F,WARmB,SAQRvI,GACP,OAAOsG,EAAcc,KAAd,iBAA2DpH,IAC7D2H,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAI5B4F,aAfmB,SAeNxI,GACT,OAAOsG,EAAckB,OAAd,iBAA6DxH,IAC/D2H,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAG5B6F,eArBmB,SAqBJzI,GACX,OAAOsG,EAAcU,IAAd,kBAAqDhH,IACvD2H,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAI5B8F,iBA5BmB,SA4BF1I,GACb,OAAOsG,EAAcU,IAAd,yBAA2DhH,IAC7D2H,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAG5B+F,aAlCmB,SAkCNC,GACT,OAAOtC,EAAcvB,IAAd,kBAAmE,CAAC6D,OAAQA,IAASjB,MAAK,SAAAb,GAAG,OAAIA,EAAIlE,SAEhHiG,cArCmB,SAqCL7I,EAAgBF,GAC1B,OAAOwG,EAAcvB,IAAd,yBAA+DjF,IACjE6H,MAAK,SAAAC,GACF,OAAOA,EAAShF,SAG5BkG,gBA3CmB,SA2CHC,GACZ,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBzC,EAAcvB,IAAd,gBAAgEiE,GACrErB,MAAK,SAAAb,GAAG,OAAIA,EAAIlE,W,oFC/JNuG,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,+GChBFC,EAAe,CACfC,YAAa,KACbC,aAAc,KACdC,mBAAoB,EACpBC,mBAAoB,GA2CXC,EAAiB,CAC1BC,eAAgB,SAACC,GAAD,MAAwC,CAAC1G,KAAM,eAAgB0G,iBAC/EC,WAAY,SAACC,GAAD,MAAsC,CAAC5G,KAAM,cAAe4G,gBACxEC,cAAe,SAACC,GAAD,MAA+B,CAAC9G,KAAM,kBAAmB8G,eACxEC,eAAgB,SAAChJ,GAAD,MAAmB,CAACiC,KAAM,2BAA4BjC,SACtEiJ,cAAe,SAAC3J,GAAD,MAAyB,CAAC2C,KAAM,2BAA4B3C,gBAMhE4J,EAjDO,WAAyE,IAAxElL,EAAuE,uDAA/DoK,EAAcxE,EAAiD,uCAC1F,OAAQA,EAAO3B,MACX,IAAK,kBACD,OAAO,2BACAjE,GADP,IAEIsK,aAAa,GAAD,mBAAMtK,EAAMsK,cAAZ,CAAiD1E,EAAOmF,eAG5E,IAAK,eACD,OAAO,2BACA/K,GADP,IAEIsK,aAAc1E,EAAO+E,eAG7B,IAAK,cACD,OAAO,2BACA3K,GADP,IAEIqK,YAAazE,EAAOiF,cAG5B,IAAK,2BACD,OAAO,2BACA7K,GADP,IAEIuK,mBAAoB3E,EAAO5D,OAGnC,IAAK,2BACD,OAAO,2BACAhC,GADP,IAEIwK,mBAAoB5E,EAAOtE,aAGnC,QACI,OAAOtB,I,gCC5CNmL,EAAmB,SAACC,GAS7B,IARA,IAAIC,EAAcD,EAActI,KAAI,SAAAY,GAChC,IAAI4H,EAAa5H,EAAM6H,MAAM,MAAM,GACnC,MAAmB,cAAfD,EACO,WAEJA,EAAWE,UAAU,EAAGF,EAAWG,OAAS,GAAGC,iBAEtDC,EAAkB,GACbpJ,EAAI,EAAGA,EAAI6I,EAAcK,OAAQlJ,IACtCoJ,EAAYN,EAAY9I,IAAM6I,EAAc7I,GAEhD,OAAOoJ,G,QCJPvB,EAAe,CACfwB,UAAW,CACP,CAAChH,QAAS,uHAAyBjE,GAAI,EAAGkL,UAAW,MACrD,CAACjH,QAAS,QAASjE,GAAI,EAAGkL,UAAW,KACrC,CAACjH,QAAS,gGAAsBjE,GAAI,EAAGkL,UAAW,IAEtDpL,YAAa,KACbqL,cAAe,GACf7K,YAAY,EACZ8K,kBAAkB,GA0DTC,EACU,SAACC,GAAD,MAAoB,CAAChI,KAAM,sBAAuBgI,WAD5DD,EAES,SAACE,GAAD,MAAuB,CAACjI,KAAM,qBAAsBiI,YAF7DF,EAGG,SAAChE,GAAD,MAAkB,CAAC/D,KAAM,mBAAoB+D,SAHhDgE,EAIG,SAACvL,GAAD,MAA8B,CAACwD,KAAM,sBAAuBxD,gBAJ/DuL,EAKS,SAACxC,GAAD,MAAoB,CAACvF,KAAM,6BAA8BuF,WALlEwC,EAMW,SAACrC,GAAD,MAAuB,CAAC1F,KAAM,uBAAwB0F,UANjEqC,EAOc,iBAAO,CAAC/H,KAAM,qCAI5BqF,EAAmB,SAAC1I,GAAD,8CAC5B,WAAOgB,EAASuK,GAAhB,eAAAC,EAAA,sEACqBpD,IAAQM,iBAAiB1I,GAD9C,OACI4H,EADJ,OAEA5G,EAASoK,EAAgCxD,IAFzC,2CAD4B,yDAgCnB6D,EAAa,SAACzL,GAAD,8CACtB,WAAOgB,EAASuK,GAAhB,eAAAC,EAAA,sEACiBpD,IAAQK,eAAezI,GADxC,OACI4C,EADJ,OAEA5B,EAASoK,EAA0BxI,IAFnC,2CADsB,yDAkBX8I,EAnHQ,WAAyF,IAAxFtM,EAAuF,uDAA9DoK,EAAcxE,EAAgD,uCAC3G,OAAQA,EAAO3B,MACX,IAAK,qBACD,OAAO,2BACAjE,GADP,IAEI+L,iBAAkBnG,EAAOsG,UAGjC,IAAK,sBACD,OAAO,2BACAlM,GADP,IAEI4L,UAAW5L,EAAM4L,UAAUvL,QAAO,SAAAC,GAAC,OAAIA,EAAEK,KAAOiF,EAAOqG,YAI/D,IAAK,mBACD,IAAIM,EAAU,CACV3H,QAASgB,EAAOoC,KAChBrH,GAAI,EACJkL,UAAW,KAEf,OAAO,2BACA7L,GADP,IAEI4L,UAAU,GAAD,mBAAM5L,EAAM4L,WAAZ,CAAuBW,MAGxC,IAAK,sBACD,OAAO,2BACAvM,GADP,IAEIS,YAAamF,EAAOnF,cAE5B,IAAK,6BACD,OAAO,2BACAT,GADP,IAEI8L,cAAelG,EAAO4D,SAE9B,IAAK,uBACD,OAAO,2BACAxJ,GADP,IAEIS,YAAY,2BAAKT,EAAMS,aAAZ,IAAyB2F,OAAO,eAAKR,EAAO+D,WAE/D,IAAK,mCACD,OAAO,2BACA3J,GADP,IAEIiB,YAAajB,EAAMiB,aAG3B,QACI,OAAOjB,IC5DfoK,EAAiC,CACjCoC,eAAgB,CACZ,CACIC,IAAK,0EACLC,KAAM,QACNC,KAAM,wJACNhM,GAAI,IAER,CACI8L,IAAK,0EACLC,KAAM,QACNC,KAAM,KACNhM,GAAI,IAER,CACI8L,IAAK,+EACLC,KAAM,QACNC,KAAM,wJACNhM,GAAI,MASDiM,EAJO,WAA6D,IAA5D5M,EAA2D,uDAAlCoK,EAC5C,OAAOpK,G,mCC3BPoK,EAAc,CACdyC,aAAa,EACbC,YAAa,MA0BJC,EACU,iBAAO,CAAC9I,KAAM,4BADxB8I,EAEO,SAACrJ,GAAD,MAA2B,CAACO,KAAM,oBAAqBP,UAkB5DsJ,EAzCE,WAAqE,IAApEhN,EAAmE,uDAA3DoK,EAAcxE,EAA6C,uCACjF,OAAQA,EAAO3B,MACX,IAAK,oBACD,OAAO,2BACAjE,GADP,IAEI8M,YAAalH,EAAOlC,QAE5B,IAAK,0BACD,OAAO,2BACA1D,GADP,IAEI6M,aAAa,IAErB,QACI,OAAO7M,I,iGCVfoK,GAAqC,CACrC6C,SAAU,CACN,CAACC,KAAM,yHACHvM,GAAI,EACJ8L,IAAK,CAACU,IAAWC,IAAWC,MAC5BC,MAAO,WAAYC,KAAM,cAC7B,CAACL,KAAM,mpCAEHvM,GAAI,EACJ8L,IAAK,CAACe,KAAKC,MACXH,MAAO,eAAeC,KAAM,gBAYzBG,GAPK,WAA8D,IAA7D1N,EAA4D,uDAApDoK,GAAcxE,EAAsC,uCAGrE,OAFAA,EAAO3B,KAEAjE,G,8BCbF2N,I,YAYAC,I,YAWPC,I,YAWAC,I,YAWAC,I,YAUAC,IAnEGC,GACQ,SAAC9F,EAAmB+F,EAAgBlM,GAApC,MACZ,CAACiC,KAAM,uBAAwBkE,YAAW+F,SAAQlM,SAF9CiM,GAGO,SAACtN,EAAYqB,GAAb,MAA+B,CAACiC,KAAM,qBAAsBtD,KAAIqB,SAHvEiM,GAIO,SAACtN,GAAD,MAAiB,CAACsD,KAAM,uBAAwBtD,OAJvDsN,GAKM,iBAAO,CAAChK,KAAM,uBALpBgK,GAMM,SAACE,EAAgBvJ,GAAjB,MAAsC,CAACX,KAAM,qBAAsBkK,SAAQvJ,YAMvF,SAAU+I,KAAV,iEACH,OADG,SACGrI,aAAiE,uBAAwBuI,IAD5F,OAEH,OAFG,SAEGO,aAAiE,qBAAsBR,IAF1F,OAGH,OAHG,SAGGtI,aAAgE,uBAAwBwI,IAH3F,OAIH,OAJG,SAIGxI,aAA+D,qBAAsByI,IAJxF,OAKH,OALG,UAKGzI,aAA+D,qBAAsB0I,IALxF,yCAYA,SAAUJ,GAAkBhI,GAA5B,uEAC2B,OAD3B,SACiCL,aAAKiC,IAAWK,cAAejC,EAAOjF,GAAIiF,EAAO5D,MADlF,OAEH,OADMwB,EADH,gBAEGmC,aAAI8E,EAAeO,eAAeqD,OAAOzI,EAAO5D,QAFnD,OAGH,OAHG,SAGG2D,aAAI8E,EAAeQ,cAAczH,EAAK8K,aAHzC,OAIH,OAJG,SAIG3I,aAAI8E,EAAeC,eAAelH,EAAK+K,QAJ1C,wCAWP,SAAUV,GAAmBjI,GAA7B,iEACiC,OADjC,SACuCL,aAAMiC,IAAWU,cAAetC,EAAOuC,WAD9E,iBAEaqG,aAAeC,IAAgBC,QAF5C,gBAGQ,OAHR,SAGcnJ,aAAKqI,GAAmBK,GAAoCrI,EAAOsI,OAAOtI,EAAO5D,OAH/F,wCAWA,SAAU8L,GAAkBlI,GAA5B,iEACuC,OADvC,SAC6CL,aAAMiC,IAAWC,UAAW7B,EAAOjF,IADhF,iBAEa6N,aAAeC,IAAgBC,QAF5C,gBAGQ,OAHR,SAGcnJ,aAAKwI,GAAkBE,MAHrC,wCAWA,SAAUF,GAAiBnI,GAA3B,uEACqC,OADrC,SAC2CL,aAAMiC,IAAWG,YAD5D,OAEI,OADMnE,EADV,gBAEUmC,aAAI8E,EAAeG,WAAWpH,IAFxC,wCAUA,SAAUwK,GAAiBpI,GAA3B,uEACsC,OADtC,SAC4CL,aAAMiC,IAAWO,WAAYnC,EAAOuI,OAAQvI,EAAOhB,SAD/F,WACUpB,EADV,QAEagL,aAAeC,IAAgBC,QAF5C,gBAGQ,OAHR,SAGc/I,aAAI8E,EAAeK,cAActH,EAAKA,KAAKoB,UAHzD,wC,0BCxCU+J,IAnBJC,GAAcC,YAAgB,CAChCC,YAAc5D,EACd1K,YAAa8L,EACbyC,SAAUrB,GACVsB,WAAYpC,EACZ3M,UAAWgP,IACXC,KAAMC,IACNC,KAAMC,IACNC,IAAKtC,EACLuC,KAAMC,OAKJC,GAAiBC,cAEjBC,GAAmB3F,OAAO4F,sCAAwCC,IAClEC,GAAQC,YAAYnB,GAAae,GAAiBK,YAAgBC,IAAiBR,MAEzF,SAAUd,KAAV,iEACI,OADJ,SACUuB,aAAI,CACNvC,KACA7I,eACAE,iBAJR,wCAOAyK,GAAeU,IAAIxB,IAEJmB,UAGf9F,OAAOoG,UAAYN,G,IC7CUO,G,iJCoBdC,GAdoC,SAACC,GAChD,IAAMC,EAAS,CACXC,gBAAgB,EAChBC,cAFW,SAEGC,GACVJ,EAAMK,oBAAoBD,KAGlC,OAAO,yBAAKlO,UAAWC,KAAEmO,gBACrB,kBAAC,KAAWL,EACR,kBAAC,KAAD,CAAQ/J,MAAO,CAACC,MAAO,KAAMK,KAAM,kBAAC+J,GAAA,EAAD,OAAnC,oB,oBCqCGC,GA5C8B,SAACR,GAC1C,IAAM3O,EAAWC,eADmC,EAErBI,oBAAS,GAFY,oBAE/C+O,EAF+C,KAErCC,EAFqC,OAG1BhP,mBAAS,IAHiB,oBAG/CuH,EAH+C,KAGvC0H,EAHuC,KAI9CpF,EAAgBqF,cAAY,SAACnR,GAAD,OAAyBA,EAAMQ,YAAYsL,iBAE7EsF,qBAAU,WACNF,EAAUpF,KACZ,CAACA,IAYH,OAAIyE,EAAMc,YAEH,qCACDL,GAAYlF,GACd,6BACI,0BAAMwF,cAfU,WAChBL,GAAa,KAcwB,8BAAOnF,KAE/CkF,GACD,6BACI,kBAAC,KAAD,CAAOO,SAZW,SAACnO,GACnB8N,EAAU9N,EAAEoO,cAAcC,QAWUC,WAAW,EAAMC,OAhBpC,WACrBV,GAAa,GACbrP,ERkE2B,SAAC4H,GAAD,8CAC/B,WAAO5H,EAASuK,GAAhB,SAAAC,EAAA,sEACqBpD,IAAQO,aAAaC,GAD1C,cAEagF,aAAeC,IAAgBC,SACpC9M,EAASoK,EAAgCxC,IAHjD,2CAD+B,wDQlElBoI,CAAoBpI,KAejBiI,MAAOjI,MAIZ,oCACFsC,GAAiB,6BACd,8BAAM,8BAAOA,OClChB+F,GAAsD,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAC/E,OAAO,6BACFA,GAAgB,yBAAKtP,UAAWC,KAAEsP,UAAWF,EAA7B,SACb,uBAAGG,KAAMF,GAAT,IACMA,EAAaxG,MAAM,KAAKwG,EAAaxG,MAAM,KAAKE,OAAS,OAU9DyG,GAAuD,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,QAASf,EAAiB,EAAjBA,YAC/EgB,EAAelB,cAAY,SAACnR,GAAD,OAAyBA,EAAMC,UAAUqS,qBAC1E,OAAO,yBAAK7P,UAAWC,KAAE6P,aACrB,kBAAC,KAAD,CAAYC,MAAOL,EAAUM,SAAU,iBACvC,yBAAKhQ,UAAWC,KAAEgQ,aACd,6BACA,kBAAC,GAAD,CAAiBrB,YAAaA,KAElC,yBAAK5O,UAAWC,KAAEiQ,kBAAlB,kBACsBN,GAEtB,yBAAK5P,UAAWC,KAAEkQ,SACd,yBAAKnQ,UAAWC,KAAEmQ,cAAlB,aACA,yBAAKpQ,UAAWC,KAAEoQ,aAAlB,wBACA,yBAAKrQ,UAAWC,KAAEmQ,cAAlB,mBACA,yBAAKpQ,UAAWC,KAAEoQ,aAAlB,mBACA,yBAAKrQ,UAAWC,KAAEmQ,cAAlB,aACA,yBAAKpQ,UAAWC,KAAEoQ,aAAlB,IAAiCV,EAAjC,QAKCW,GAA+D,SAAC,GAAmB,IAAlBtS,EAAiB,EAAjBA,YAC1E,OAAO,yBAAKgC,UAAWC,KAAEsQ,QACrB,yBAAKvM,MAAO,CAACC,MAAO,IAAKuM,WAAY,KACjC,kBAAC,KAAD,CAAYT,MAAO,oBACnB,wBAAI/P,UAAWC,KAAEwQ,cAErB,yBAAKzQ,UAAWC,KAAEyQ,aACd,6BACI,0CACCC,OAAOC,KAAK5S,EAAY6S,UAAUxQ,KAAI,SAACyQ,GAAD,OAAO,kBAAC,GAAD,CAAiBC,IAAKD,EACLzB,aAAcyB,EACdxB,aAActR,EAAY6S,SAASC,SAEtG,yBAAK9Q,UAAWC,KAAE+Q,cACd,yBAAKhR,UAAWC,KAAEmQ,cAAlB,gBACCpS,EAAYiT,eACP,yBAAKjR,UAAWC,KAAEoQ,aAAlB,OACA,yBAAKrQ,UAAWC,KAAEoQ,aAAlB,MAEN,yBAAKrQ,UAAWC,KAAEmQ,cAAlB,WACA,yBAAKpQ,UAAWC,KAAEoQ,aAAcrS,EAAYkT,+B,mEC1DxDC,GAAeC,aAAiB,KAwC9BC,GAAgE,SAAC,GAAY,IAAXjN,EAAU,EAAVA,KACpE,OAAO,6BACH,4BAAKA,GACJkN,aAAa,YAAclN,EAAM,CAAC+M,IAAeI,KAAYnN,EAAM,QAO7DoN,GAFmBC,aAAU,CAAC9E,KAAM,oBAAjB8E,EAzCgB,SAAC,GAA0C,IAAzCC,EAAwC,EAAxCA,aAAczQ,EAA0B,EAA1BA,MAAO0Q,EAAmB,EAAnBA,cACrE,OAAO,yBAAK3R,UAAWC,KAAEsQ,QACzB,0BAAMqB,SAAUF,GACZ,yBAAK1R,UAAWC,KAAE4R,aACd,6BACI,kBAAC,KAAD,CAAY9B,MAAO,kBAClBY,OAAOC,KAAKe,EAAcd,UAAUxQ,KAAI,SAAA0Q,GAAG,OAAI,kBAAC,GAAD,CAAsBA,IAAKA,EAAK3M,KAAM2M,QAE1F,6BACI,kBAAC,KAAD,CAAYhB,MAAO,kBACnB,yCACCuB,aAAa,WAAY,CAACQ,KAAUX,IAAeI,KAAY,kBAAmB,IACnF,6CACCD,aAAa,UAAW,CAACQ,MAAWC,KAAe,YAAa,MACjE,oDACCT,aAAa,iBAAkB,KAAM,QAAS,GAAI,CAAC9P,KAAM,aAC1D,2CACC8P,aAAa,4BAA6B,CAACQ,MAAWC,KAAe,2BAA4B,MAClG,kBAAC,KAAD,CAAQzN,KAAM,kBAAC0N,GAAA,EAAD,MAAmBhO,MAAO,CAACiO,UAAW,IAAKC,SAAU,UAAnE,UACCjR,GACD,yBAAKjB,UAAWC,KAAEkS,cACd,8BAAOlR,WCkCZjD,GAvDe,WAC1B,IAAMA,EAAc0Q,cAAY,SAACnR,GAAD,OAAyBA,EAAMQ,YAAYC,eACrEsL,EAAmBoF,cAAY,SAACnR,GAAD,OAAyBA,EAAMQ,YAAYuL,oBAC1E8I,EAAgB1D,cAAY,SAACnR,GAAD,OAAyBA,EAAMkP,KAAK2F,iBAChEC,EAAoBrU,EAAc,YAAcA,EAAYG,OAAS,GACrEgB,EAAWC,eAEjBuP,qBAAU,WACFrF,IACAgJ,GAAmB,GACnBnT,EAASoK,GAAgC,OAE9C,CAACD,EAAkBnK,IAZU,MAcYK,oBAAS,GAdrB,oBAc3B+S,EAd2B,KAcVD,EAdU,KA8BhC,IAAKtU,EACD,OAAO,kBAACwU,GAAA,EAAD,MAEX,IAAM5D,EAAuB5Q,EAAYG,SAAWiU,EACpD,OAAO,yBAAKpS,UAAWC,KAAEjC,aACrB,yBAAKgC,UAAWC,KAAEwS,QACd,6BAAK,kBAAC,KAAD,CAAOzO,MAAO,CAACC,MAAO,KAAMP,IAAK1F,EAAY2F,OAAOC,MAAQ5F,EAAY2F,OAAOC,MAAQ8O,SAEhG,kBAAC,GAAD,CAAoB/C,QAAS3R,EAAY2R,QAASD,SAAU1R,EAAY0R,SAAUd,YAAaA,IAC/F,yBAAK5O,UAAWC,KAAE0S,SACb/D,EACK,6BAAK,kBAAC,GAAD,CAAuBT,oBArBd,SAACxN,GXsFJ,IAACuG,EWrFlBvG,EAAEiS,MACFzT,GXoFkB+H,EWpFKvG,EAAEiS,KXoFR,uCACzB,WAAOzT,EAASuK,GAAhB,eAAAC,EAAA,6DACAxK,EAASoK,KADT,SAEiBhD,IAAQU,gBAAgBC,GAFzC,QAEInG,EAFJ,QAGSgL,aAAeC,IAAgBC,UACpC9M,EAASoK,KACTpK,EAASoK,EAAkCxI,EAAKA,KAAK4C,SACrDxE,EAAS0T,IAAYC,sBAAsB/R,EAAKA,KAAK4C,OAAOC,SANhE,2CADyB,8DWhEX,kBAAC,KAAD,CAASJ,GAAI6O,GAAW,kBAAC,KAAD,CAAQ/N,KAAM,kBAACyO,GAAA,EAAD,MAAiB5S,QAjBjD,WACI,OAAhBnC,GACAmB,EAASqM,GAAoCxN,EAAYG,WAe3B,oBAElC,yBAAK6B,UAAWC,KAAE+S,SACbpE,EAAc2D,EACX,6BAAK,kBAAC,KAAD,CAAQvO,MAAO,CAACC,MAAO,KAAM9D,QAAS,kBAAMmS,GAAmB,IAAQhO,KAAM,kBAAC2O,GAAA,EAAD,OAA7E,YACL,6BAAK,kBAAC,KAAD,CAAQjP,MAAO,CAACC,MAAO,KAAM9D,QAAS,kBAAMmS,GAAmB,IAAOhO,KAAM,kBAACyO,GAAA,EAAD,OAA5E,oBAA4H,MAExIR,EAAiB,kBAACW,GAAD,CAAiBvB,cAAe3T,EAAa4T,SAlC/C,SAAC7Q,GXmES,IAAC7C,EAAYD,EWlEjB,OAAlBmU,GACAjT,GXiEuBjB,EWjEIkU,EXiEQnU,EWjEO8C,EXiEpB,uCAC9B,WAAO5B,EAASuK,GAAhB,iBAAAC,EAAA,sEACqBpD,IAAQS,cAAc9I,EAAtB,eAA8BD,IADnD,QACI8H,EADJ,QAEagG,aAAeC,IAAgBC,SACxC9M,EAASyK,EAAW1L,IACpBiB,EAASoK,GAAgC,MAGrCZ,EAAgB5C,EAASoN,SAASnK,OAAS,EAAIjD,EAASoN,SAAW,aAEnEhU,EADyB,kBAAlBwJ,EACEyK,YAAW,mBAAoB,CAAC,wBAAiB1K,EAAiBC,MAGlEyK,YAAW,mBAAoB,CAACC,OAAQ1K,MAZzD,2CAD8B,6DWjCkE,kBAAC,GAAD,CAAsB3K,YAAaA,M,wHCDxHsV,GAhDmB,SAACxF,GAAW,IAAD,EACftO,mBAASsO,EAAM1E,WADA,oBAClCmK,EADkC,KAC3BC,EAD2B,KAGzC7E,qBAAU,WACN6E,EAAS1F,EAAM1E,aAChB,CAAC0E,EAAM1E,YAEV,IAMMlL,EAAK4P,EAAM5P,GACXgJ,EAAQwH,cAAY,SAACnR,GAAD,OAAyBA,EAAMkP,KAAKgH,oBACxDtU,EAAWC,eAIjB,OAAO,yBAAKY,UAAWC,KAAEyT,WACjB,kBAAC,KAAD,CAIIC,QACI,yBAAK3T,UAAWC,KAAE2T,aACd,2BACI,kBAAC,KAAD,CAAQ5T,UAAWC,KAAEwS,OAAQ/O,IAAKwD,GAAcrD,KAAWC,IAAK,KADpE,KAC4EgK,EAAM3L,SAElF,2BAEI,kBAAC,KAAD,CAAQhC,QAxBZ,WACZoT,EAAQzF,EAAM1E,UAAWoK,EAASD,EAAM,GACvCC,EAASD,EAAQ,IAsB4BjP,KAAM,kBAACuP,GAAA,EAAD,MAAkBrS,KAAM,QACxD,0BAAMwC,MAAO,CAAC8P,MAAO,SAAUP,IAEnC,6BACI,kBAAC,KAAD,CAAQvP,MAAO,CAACwM,WAAW,GAAIrQ,QAnBjC,WACtBhB,EAASoK,EAAiCrL,KAkByCoG,KAAM,kBAACyP,GAAA,EAAD,MAAwBvS,KAAM,OAAQwS,QAAQ,OAK/HC,SACI,kBAAC,KAAD,CAASlE,MAAOmE,OAASC,OAAO,wBAC5B,qDCpDlBC,GAAehD,aAAiB,IAkBvBiD,IAjBSC,aAAmB,YAgBhB7C,aAA+B,CAAC9E,KAAM,aAAtC8E,EAb6C,SAAC3D,GAIrE,OAHIA,EAAMyG,iBACNzG,EAAM0G,QAEH,0BAAM5C,SAAU9D,EAAM4D,cACzB,yBAAK1N,MAAO,CAACC,MAAO,MACfqN,aAAa,YAAa,CAACQ,KAASsC,IAAcrC,KAAe,iBAAkB,OAGxF,kBAAC,KAAD,CAAQ/N,MAAO,CAACiO,UAAW,IAAKC,SAAU,UAA1C,iBCXKuC,GAAoBC,IAAMC,MAAK,WACxC,IAAMC,EAAWlG,cAAY,SAACnR,GAAD,OAAyBA,EAAMQ,YAAYoL,aAClEhK,EAAWC,eACXyV,EAAYnG,cAAY,SAACnR,GAAD,uBAAyBA,EAAMQ,YAAYC,mBAA3C,aAAyB,EAA+BG,UAChF2W,EAAgBpG,cAAY,SAACnR,GAAD,OAAyBA,EAAMkP,KAAK2F,iBAChE2C,EAAgB,YAAIH,GAAUvU,KAAI,SAAAC,GAAC,OAAI,kBAAC,GAAD,CAAMyQ,IAAKzQ,EAAEpC,GAAIiE,QAAS7B,EAAE6B,QAASiH,UAAW9I,EAAE8I,UAAWlL,GAAIoC,EAAEpC,QAIhH,OAAI2W,GAAaC,EAAsB,yBAAK9U,UAAWC,KAAE+U,iBACjD,yCACA,6BACI,kBAAC,GAAD,CAAoBpD,SANhB,SAACqD,GACb9V,EAASoK,EAA0B0L,EAASC,gBAOxC,yBAAKlV,UAAWC,KAAEkV,OACbJ,IAGD,yBAAK/U,UAAWC,KAAE+U,iBAC1B,yCCOOI,iBAzBe,WAAO,IAC1BjX,EAAUkX,eAAVlX,OACDgB,EAAWC,eACXgT,EAAgB1D,cAAY,SAACnR,GAAD,OAAyBA,EAAMkP,KAAK2F,iBActE,OAZAzD,qBAAU,WACDxQ,GAODgB,EAASyK,EAAWzL,IACpBgB,EAAS0H,EAAiB1I,KAPtBiU,IACAjT,EAASyK,EAAWwI,IACpBjT,EAAS0H,EAAiBuL,OAOnC,CAACjU,EAAQgB,EAAUiT,IACd,yBAAKpS,UAAWC,KAAEqV,SAClB,kBAAC,GAAD,MACA,kBAACb,GAAD,U,oDCJGc,GAd4B,SAACzH,GAIxC,OAAO,6BACH,kBAAC,KAAD,CAAQxJ,KAAM,kBAACkR,GAAA,EAAD,MAAmBrV,QAJpB,WACb2N,EAAM2H,eAGN,WACA,0BAAMzV,UAAW0V,KAAOC,oBAAqB7H,EAAM8H,OAElD9H,EAAM2F,iBACD,kBAAC,KAAD,CAAQzP,MAAO,CAACC,MAAO,GAAIC,OAAQ,IAAKR,IAAOoK,EAAM2F,iBAAkB3P,IAAM,KAC7E,kBAAC,KAAD,CAAQJ,IAAOD,KAAWK,IAAM,OCU/B+R,GAlBqB,SAAC/H,GACjC,OACI,4BAAQ9N,UAAWC,KAAE6V,QAAQ,kBAAC,KAAD,CAAStS,GAAE,mBAAcsK,EAAM3P,SACxD,yBAAKuF,IAAI,mGAAmGI,IAAM,MAElH,yBAAK9D,UAAWC,KAAE2V,OACb9H,EAAMiI,OACH,kBAAC,GAAD,CAAeH,MAAO9H,EAAM8H,MACbnC,iBAAkB3F,EAAM2F,iBACxBgC,WAAc3H,EAAM2H,aAGjC,kBAAC,KAAD,CAASjS,GAAG,UAAZ,YCJhBwS,G,uKAEE,OAAO,kBAAC,GAAWC,KAAKnI,W,GAFF4G,IAAM9G,WAcrBsI,iBATO,SAAC3Y,GACnB,MAAM,CACFqY,MAAOrY,EAAMkP,KAAKmJ,MAClBzX,OAAQZ,EAAMkP,KAAK2F,cACnB2D,OAAQxY,EAAMkP,KAAKsJ,OACnBtC,iBAAkBlW,EAAMkP,KAAKgH,oBAKjC,CAACgC,gBADUS,CACGF,I,0CC1BHG,GAPgB,WAC3B,OAAO,yBAAKnW,UAAWC,KAAEmW,iBACrB,yBAAKpW,UAAWC,KAAEkW,aAAczS,IAAK2S,KAAevS,IAAM,O,8BCuCnDwS,GAzBsB,SAACxI,GAClC,OACI,6BACI,kBAACnP,GAAA,EAAD,CACIC,cAAekP,EAAMlP,cAAeC,WAAYiP,EAAMxP,gBACtDF,SAAU0P,EAAM1P,SAChBU,YAAagP,EAAMyI,kBACnBxX,cAAe+O,EAAM0I,yBAExB1I,EAAMtP,WACD,kBAACgU,GAAA,EAAD,MACA1E,EAAM2I,QAAQpW,KAAI,SAAAxC,GAAC,OAAI,iCAAM,kBAACuF,GAAA,EAAD,CAC3B2N,IAAKlT,EAAEK,GACPmF,KAAMxF,EACNa,oBAAqBoP,EAAMpP,oBAC3B4E,iBAAkBwK,EAAMxK,iBACxBC,UAAU,UCKxBmT,G,4MAUF9X,cAAgB,SAAC0B,GACb,EAAKwN,MAAM6I,aAAarW,EAAG,GAAG,EAAM,K,kEAVnB,IACZiW,EAAqBN,KAAKnI,MAA1ByI,kBACLN,KAAKnI,MAAM6I,aAAaJ,EAAmB,GAAG,EAAM,M,6CAIpDN,KAAKnI,MAAM8I,WAAU,EAAO,M,+BAQ5B,OACI,6BACI,kBAAC,KAAD,CAAY7G,MAAO,oCAAGkG,KAAKnI,MAAMiC,MAAd,IAAqB,kBAAC8D,GAAA,EAAD,SACxC,6BAAK,kBAAC,GAAD,iBAAaoC,KAAKnI,MAAlB,CAAyBlP,cAAeqX,KAAKrX,uB,GAlB9B8V,IAAM9G,W,kBAoCMiJ,KAAzCL,G,GAAAA,uBAAwBI,G,GAAAA,UAQhBE,GANgB1J,YAC3B8I,cAdkB,SAAC3Y,GACnB,MAAO,CACHkZ,QAASlZ,EAAMC,UAAUiZ,QACzBrY,SAAUN,aAAYP,GACtBe,gBAAiBf,EAAMC,UAAUqS,kBACjCrR,WAAYD,aAAchB,GAC1BmB,oBAAqBD,aAAuBlB,GAC5CgZ,kBAAmBhZ,EAAMC,UAAU+Y,qBAOuD,CAACI,iBAC3FrT,qBAAkBkT,0BAAwBI,eAC9CxB,KAH2BhI,CAI7BsJ,I,yCCzCaK,GA9ByB,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAChCC,EAAwB,YAAcD,EAAO9Y,GAC7CgZ,EAAqB,YAAcF,EAAO9Y,GAChD,OAAO,yBAAK8B,UAAW0V,KAAOqB,YAC1B,kBAAC,KAAD,CACII,OAAQ,kBAAC,KAAD,CAAS3T,GAAI0T,GAAaF,EAAOI,UACzCC,OACI,kBAAC,KAAD,CAAS7T,GAAI0T,GACT,kBAAC,KAAD,CACIxT,IAAKsT,EAAOrT,OAAOC,SAI/B+P,QACI,kBAAC,KAAD,CAASnQ,GAAIyT,GACb,yBAAKjX,UAAW0V,KAAO4B,SACnB,uBAAGtX,UAAa0V,KAAO6B,YACnB,kBAAC,KAAD,CAAQvT,MAAO,CAAEwT,gBAA6C,IAA5BR,EAAOS,iBAAwB,OAAQ,OAAQC,UAAQ,EAACC,MAAOX,EAAOS,kBAAkB,kBAACG,GAAA,EAAD,MAA1H,UAGJ,kBAAC,KAAD,CAAS7H,MAAOmE,OAASC,OAAO,wBAC5B,0BAAMnU,UAAW0V,KAAOmC,MAAOb,EAAOc,uBAAuB/O,UAAU,EAAG,Y,oBCJnFqM,iBAhBK,WAChB,IAAMjW,EAAWC,eACjBuP,qBAAU,WACNxP,EAASqM,MACTrM,EAAS6I,EAAeO,eAAe,MACxC,CAACpJ,IACJ,IAAMyI,EAAc8G,cAAY,SAACnR,GAAD,OAAyBA,EAAM8O,YAAYzE,eACrEmQ,EAAsB,OAAGnQ,QAAH,IAAGA,OAAH,EAAGA,EAAavH,KAAI,SAAA2X,GAAC,OAAI,kBAAC,GAAD,CAAYhB,OAAQgB,OACzE,OAAKpQ,EACE,yBAAK5H,UAAW0V,KAAOrJ,aAC1B,kBAAC,KAAD,CAAY0D,MAAO,+CAAU,kBAACkI,GAAA,EAAD,SAC7B,kBAAC,KAAD,CAASzU,GAAI,SAAS,kBAAC,KAAD,CAAQhC,KAAM,OAAQ8C,KAAM,kBAAC4T,GAAA,EAAD,OAA5B,sBACrBH,GAJoB,kBAACvF,GAAA,EAAD,S,oBCkBd2F,GAxBwB,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EAChB5Y,oBAAS,GADO,oBAC7C6Y,EAD6C,KACjCC,EADiC,KAE5CnZ,EAAWC,eAIjB,OAAO,yBAAKY,UAAYoY,EAAQG,OAAQ7C,KAAOyC,UAAUzC,KAAO8C,WAC5D,kBAAC,KAAD,CAASzI,MAAOmE,OAASC,OAAO,wBAC5B,0BAAMnU,UAAa0V,KAAO+C,eAAgBL,EAAQM,QAAQ3P,UAAU,EAAG,MAE3E,kBAAC,KAAD,CACI4K,QACI,uBAAG3T,UAAW0V,KAAOiD,aAAcC,YAAa,kBAAMN,GAAc,IACjEO,aAAc,kBAAMP,GAAc,KAChCF,EAAQ5S,KACR6S,GAAc,kBAAC,KAAD,CAAQrY,UAAa0V,KAAOoD,aACpBxU,KAAM,kBAACyO,GAAA,EAAD,MAAiB5S,QAbvC,WACnBhB,EAAUqM,GAAqC4M,EAAQla,GAAI6a,OAAOX,EAAQY,aAAc,QAW7D,eCKpBZ,GAtBsB,YAA6B,IAA3BA,EAA0B,EAA1BA,QAAQa,EAAkB,EAAlBA,aACrC/B,EAAqB,YAAckB,EAAQc,SACjD,OAAO,yBAAKlZ,UAAW0V,KAAO0C,SAC1B,kBAAC,KAAD,CACIf,OACI,kBAAC,KAAD,CAAQ3T,IAAKuV,IAEjB9B,OAAQ,kBAAC,KAAD,CAAS3T,GAAI0T,GAAY,0BAAMlX,UAAW0V,KAAOyD,gBAAiBf,EAAQgB,aAClFzF,QACI,uBAAG3T,UAAW0V,KAAOiD,cAChBP,EAAQ5S,MAGjByO,SACI,kBAAC,KAAD,CAASlE,MAAOmE,OAASC,OAAO,wBAC5B,8BAAOiE,EAAQM,QAAQ3P,UAAU,EAAG,U,yCCwEzCqM,iBA7EgB,WAC3B,IAAMtN,EAAqB4G,cAAY,SAACnR,GAAD,OAAyBA,EAAM8O,YAAYvE,sBAC5EuR,EAAUC,eAFiB,EAGlBC,KAAKC,UAAb7M,EAH0B,qBAI3BxN,EAAWC,eACVqa,EAAYpE,eAAZoE,SACP9K,qBAAU,WACNxP,EAASyK,EAAW6P,MACrB,CAACA,EAAUta,IAEdwP,qBAAU,WACN,IAAM+K,EAAa,GACQ,IAAvB5R,IAA0B4R,EAAMna,KAAOwZ,OAAOjR,IAClDuR,EAAQtZ,KAAK,CACT4Z,SAAU,YAAcF,EAAW,YACnCG,OAAQC,KAAYC,UAAUJ,OAEnC,CAAC5R,IAEJ6G,qBAAU,WACN,IAAMoL,EAAcF,KAAY/Y,MAAMuY,EAAQ7R,SAASoS,OAAOI,OAAO,IACjEC,EAAaF,EAAOxa,KAAMwa,EAAOxa,KAAO,EAC5CJ,EAASqM,GAAoCiO,EAAUQ,MACzD,CAACZ,EAAQ7R,SAASoS,SAGpB,IAAMX,EAAevK,cAAY,SAACnR,GAAD,uBAAyBA,EAAMQ,YAAYC,mBAA3C,aAAyB,EAA+B2F,OAAOC,SAC1FsW,EAAWxL,cAAY,SAACnR,GAAD,uBAAyBA,EAAMQ,YAAYC,mBAA3C,aAAyB,EAA+BG,UAC/EiU,EAAgB1D,cAAY,SAACnR,GAAD,OAAyBA,EAAMkP,KAAK2F,iBAChEvK,EAAe6G,cAAY,SAACnR,GAAD,OAAyBA,EAAM8O,YAAYxE,gBACtEE,EAAqB2G,cAAY,SAACnR,GAAD,OAAyBA,EAAM8O,YAAYtE,sBAG5EoS,EAAuB,OAAGtS,QAAH,IAAGA,OAAH,EAAGA,EAAcxH,KAAI,SAAA+Z,GAC9C,OAAIhI,IAAkBgI,EAAElB,SACb,kBAAC,GAAD,CAAWd,QAASgC,EAAGrJ,IAAKqJ,EAAElc,KAG9B,kBAAC,GAAD,CAASka,QAASgC,EAAGnB,aAAcA,GAA6B,QAe/E,OAAKpR,EACE,yBAAK7H,UAAa0V,KAAO2E,cAC5B,kBAAC1b,GAAA,EAAD,CAAWC,cANO,SAACW,GAEnBJ,EAAUqM,GAAoCiO,EAAUV,OAAOxZ,MAKpDV,WAAYkJ,EACZ3J,SAAU,GACVU,YAAagJ,EACb/I,cAAeiJ,EAAeO,iBACxC4R,EACD,kBAAC,KAAD,CAAM/V,KAAO,oBAAoBkW,SAnBpB,SAACC,GACdpb,EAAUqM,GAAmCuN,OAAOmB,GAAWK,EAAOC,wBACtE7N,EAAK8N,eAiBgD9N,KAAQA,GACzD,kBAAC,KAAK+N,KAAN,CAAWtW,KAAO,wBAAwBuW,MAAO,CAC7C,CAAC7I,UAAU,EAAM3P,QAAS,2BAE1B,kBAACyY,GAAA,EAAD,OAEJ,kBAAC,KAAKF,KAAN,KACI,kBAAC,KAAD,CAAQpW,KAAM,kBAAC0N,GAAA,EAAD,MAAkBE,SAAS,UAAzC,QACA,kBAAC,KAAD,CAAQ5N,KAAM,kBAAC2O,GAAA,EAAD,MAAkBf,SAAS,SAAS/R,QAvB9C,WACZwM,EAAK8N,gBAsBG,YAhBc,kBAACjI,GAAA,EAAD,S,sECvEvBqI,GAASC,IAATD,MAEAE,GAAWC,KAAXD,QAEME,GAAyC,SAAC,GAAc,IAAblF,EAAY,EAAZA,OAC9CsD,EAAUC,eADgD,EAE1B9Z,mBAAS,IAFiB,oBAEzD0b,EAFyD,KAE5C3S,EAF4C,KAQhE,OALAoG,qBAAU,WACN,IAAIpP,EAAO8Z,EAAQ7R,SAASmS,SAAS7Q,MAAM,KAAK,GACnC,YAATvJ,IAAoBA,EAAO,gBAC/BgJ,EAAehJ,KAChB,CAAC8Z,EAAQ7R,SAASmS,WACd,kBAACkB,GAAD,CAAO7a,UAAW0V,KAAOmF,OAC5B,yBAAK7a,UAAW0V,KAAOyF,WACnB,kBAAC,KAAD,CACInb,UAAW0V,KAAOsF,KAClBI,KAAK,SACLC,aAAc,CAACH,GACfI,gBAAiB,CAAC,OAAQ,OAAQ,SAElC,kBAACP,GAAD,CAAShK,IAAI,OAAOzM,KAAM,kBAACiX,GAAA,EAAD,MAAiBxL,MAAM,WAC7C,kBAAC,KAAK2K,KAAN,CAAW3J,IAAI,WAAU,kBAAC,KAAD,CAASyK,OAAK,EAAChY,GAAG,YAAlB,YACzB,kBAAC,KAAKkX,KAAN,CAAW3J,IAAI,WAAU,kBAAC,KAAD,CAASvN,GAAG,YAAZ,YACzB,kBAAC,KAAKkX,KAAN,CAAW3J,IAAI,SAAQ,kBAAC,KAAD,CAASvN,GAAG,UAAZ,UACvB,kBAAC,KAAKkX,KAAN,CAAW3J,IAAI,gBAAe,kBAAC,KAAD,CAASvN,GAAG,iBAAZ,cAElC,kBAACuX,GAAD,CAAShK,IAAI,OAAOzM,KAAM,kBAACmX,GAAA,EAAD,MAAmB1L,MAAM,UAC/C,kBAAC,KAAK2K,KAAN,CAAW3J,IAAI,SAAQ,kBAAC,KAAD,CAASvN,GAAG,UAAZ,eACvB,kBAAC,KAAKkX,KAAN,CAAW3J,IAAI,QAAO,kBAAC,KAAD,CAASvN,GAAG,SAAZ,SACtB,kBAAC,KAAKkX,KAAN,CAAW3J,IAAI,QAAO,kBAAC,KAAD,CAASvN,GAAG,SAAZ,iBAE1B,kBAACuX,GAAD,CAAShK,IAAI,OAAOzM,KAAM,kBAACoX,GAAA,EAAD,MAAyB3L,MAAM,SACrD,kBAAC,KAAK2K,KAAN,CAAW3J,IAAI,YAAW,kBAAC,KAAD,CAASvN,GAAG,aAAZ,cACzBuS,GAAU,kBAAC,KAAK2E,KAAN,CAAW3J,IAAI,QAAO,kBAAC,KAAD,CAASvN,GAAG,SAAZ,eCjB/CmY,GAAQjH,IAAMkH,MAAK,kBAAM,iCACzBpe,GAAYkX,IAAMkH,MAAK,kBAAM,iCAC7BC,GAAQnH,IAAMkH,MAAK,kBAAM,iCACzBE,GAAWpH,IAAMkH,MAAK,kBAAM,kCAC5BtP,GAAWoI,IAAMkH,MAAK,kBAAM,uDAC5BG,GAAWrH,IAAMkH,MAAK,kBAAM,iCAC5BI,GAAWtH,IAAMkH,MAAK,kBAAM,iCAC3B/F,GAAmBiF,IAAnBjF,OAAQyB,GAAWwD,IAAXxD,QAcTzK,G,4MACFoP,eAAiB,SAAClb,GACd,GAAIA,EAAKmb,OAAOnW,SAAU,CACtB,IAAIoW,EAAWpb,EAAKmb,OAAOnW,SAASgB,OAChCqV,EAAerb,EAAKmb,OAAOnW,SAAShF,KAAKoB,QAAUpB,EAAKmb,OAAOnW,SAAShF,KAAKoB,QAAU,GAC3F,EAAK2L,MAAMuO,eAAe,UAAYF,EAAW,IAAMC,K,kEAK3DnG,KAAKnI,MAAMwO,iBACX/U,OAAOrF,iBAAiB,qBAAsB+T,KAAKgG,kB,6CAInD1U,OAAO3F,oBAAoB,qBAAsBqU,KAAKgG,kB,+BAItD,OAAKhG,KAAKnI,MAAM1D,YAGT,kBAAC,GAAD,CAAQC,YAAa4L,KAAKnI,MAAMzD,YAAa0L,OAAQE,KAAKnI,MAAMiI,SAF5D,kBAAC,GAAD,U,GApBDrB,IAAM9G,WAgClB2O,GAAgC,SAACzO,GACnC,OAAO,kBAAC,IAAD,KACH,kBAAC,GAAD,CAAQ9N,UAAW0V,IAAOG,QACtB,kBAAC,GAAD,OAEJ,kBAAC,IAAD,KACI,kBAAC,GAAD,CAASE,OAAQjI,EAAMiI,SACvB,kBAAC,IAAD,CAAQ/R,MAAO,CAACwY,QAAS,gBACrB,kBAAClF,GAAD,CAAStX,UAAW0V,IAAO+G,qBACvB,kBAACC,GAAD,CAAqBrS,YAAayD,EAAMzD,iBAIpD,kBAAC,KAAD,CAAQrK,UAAW0V,IAAOiH,QAA1B,yCA2BFD,ItB/GuB9O,GsB2FiC,SAACE,GAC3D,OAAO,yBAAK9N,UAAW0V,IAAOkH,mBACzB9O,EAAMzD,aAAe,yBAAKrK,UAAW0V,IAAOrL,aAAcyD,EAAMzD,aACjE,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAOwS,KAAK,QAAQC,OAAQ,kBAAM,kBAACf,GAAD,SAClC,kBAAC,KAAD,CAAOc,KAAK,gBAAgBC,OAAQ,kBAAM,kBAAC,GAAD,SAC1C,kBAAC,KAAD,CAAOD,KAAK,sBAAsBC,OAAQ,kBAAM,kBAAC,GAAD,SAChD,kBAAC,KAAD,CAAOD,KAAK,oBAAoBC,OAAQ,kBAAM,kBAACC,GAAD,SAC9C,kBAAC,KAAD,CAAOF,KAAK,SAASC,OAAQ,kBAAM,kBAACtf,GAAD,CAAWuS,MAAO,aACrD,kBAAC,KAAD,CAAO8M,KAAK,QAAQC,OAAQ,kBAAM,kBAACxQ,GAAD,SAClC,kBAAC,KAAD,CAAOuQ,KAAK,YAAYC,OAAQ,kBAAM,kBAAChB,GAAD,SACtC,kBAAC,KAAD,CAAOe,KAAK,SAASC,OAAQ,kBAAM,kBAACnB,GAAD,SACnC,kBAAC,KAAD,CAAOkB,KAAK,SAASC,OAAQ,kBAAM,kBAACjB,GAAD,SACnC,kBAAC,KAAD,CAAOgB,KAAK,WAAWC,OAAQ,kBAAM,kBAAC,GAAD,CAAkB/M,MAAO,eAC9D,kBAAC,KAAD,CAAO8M,KAAK,QAAQC,OAAQ,kBAAM,kBAACd,GAAD,SAClC,kBAAC,KAAD,CAAUR,OAAK,EAACwB,KAAK,IAAIxZ,GAAG,aAC5B,kBAAC,KAAD,CAAOqZ,KAAK,KAAKC,OAAQ,kBAAM,oDtB1GX,SAAChP,GACzB,OAAO,kBAAC,WAAD,CAAUmP,SAAU,2FAAyB,kBAACrP,GAAcE,MsBqHrEoP,GAAoB9P,YACtB8I,cANkB,SAAC3Y,GAAD,MAA+C,CACjE6M,YAAa7M,EAAMsP,IAAIzC,YACvBC,YAAa9M,EAAMsP,IAAIxC,YACvB0L,OAAQxY,EAAMkP,KAAKsJ,UAGqE,CACpFuG,e1BrFsB,WAC1B,OAAO,SAACnd,GACUA,EAASge,eACfrX,MAAK,WACT3G,EAASmL,U0BkFb+R,e1B9EsB,SAACpb,GAAD,8CAC1B,WAAO9B,EAASuK,GAAhB,SAAAC,EAAA,sDACAxK,EAASmL,EAA2BrJ,IACpCM,YAAW,WAAOpC,EAASmL,EAA2B,SAAQ,KAF9D,2CAD0B,2D0BgF1B8S,KALsBhQ,CAMxBP,IAaawQ,GAXO,WAClB,OAAO,kBAAC,IAAMC,WAAP,KACH,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAUjQ,MAAOA,IACb,kBAAC6P,GAAD,UC/HhBK,IAAST,OACD,kBAAC,GAAD,MACJU,SAASC,eAAe,ShC0HtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB9X,MAAK,SAAA+X,GACJA,EAAaC,gBAEdC,OAAM,SAAA9c,GACLD,QAAQC,MAAMA,EAAMkB,a,gCiCrErB,IAAK6J,EAAZ,kC,SAAYA,O,qBAAAA,I,iBAAAA,I,2CAAAA,M,yBCnEZ5O,EAAOC,QAAU,CAAC,aAAe,mCAAmC,UAAY,gCAAgC,eAAiB,qCAAqC,QAAU,8BAA8B,UAAY,gCAAgC,cAAgB,oCAAoC,aAAe,mCAAmC,aAAe,qC,kMCM3WsK,EAAe,CACflK,MAAO,GACPgZ,QAAS,GACTrY,SAAU,EACVE,gBAAiB,GACjBuR,kBAAmB,EACnBrR,YAAY,EACZE,oBAAqB,GACrBI,YAAa,EACbyX,kBAAmB,EACnB3Y,OAAQ,CACJ4I,QAAQ,EACRC,KAAM,KA6FDoQ,EAAc,CACvBmH,wBAAyB,SAACC,EAAwB9f,EAAgBoF,GAAzC,MAAgE,CACrF/B,KAAM,4BAA6Byc,gBAAe9f,SAAQoF,aAE9DiT,uBAAwB,SAAC0H,GAAD,MAA0B,CAAC1c,KAAM,0BAA2B0c,gBACpFC,iBAAkB,SAAC5e,GAAD,MAAmB,CAACiC,KAAM,mBAAoBjC,SAChE6e,aAAc,SAACjgB,EAAgBoF,GAAjB,MAAwC,CAAC/B,KAAM,gBAAiBrD,SAAQoF,aACtF8a,SAAU,SAAC5gB,EAAwB6gB,GAAzB,MAAsD,CAC5D9c,KAAM,YACN/D,QACA6gB,mBAEJC,mBAAoB,SAACjgB,GAAD,IAA0BkgB,EAA1B,8DACf,CAAChd,KAAM,wBAAyBlD,kBAAiBkgB,cACtDC,YAAa,SAACjgB,GAAD,MAA0B,CAACgD,KAAM,eAAgBhD,eAC9DoY,UAAW,SAACpQ,EAAiBC,GAAlB,MAAoC,CAACjF,KAAM,aAAcgF,SAAQC,UAKnEkQ,EAAe,SAAC7X,EAAqBV,GAAtB,IAAwCoI,EAAxC,wDAAwDC,EAAxD,uDAA+D,GAA/D,8CACxB,WAAOtH,EAAsCuK,GAA7C,eAAAC,EAAA,6DACIxK,EAAS0X,EAAY4H,aAAY,IACjCtf,EAAS0X,EAAYD,UAAUpQ,EAAQC,IACvCtH,EAAS0X,EAAYsH,iBAAiBrf,IAH1C,SAIyByH,IAAQjJ,SAASwB,EAAaV,EAAUoI,EAAQC,GAJzE,OAIQV,EAJR,OAKI5G,EAAS0X,EAAY4H,aAAY,IACjCtf,EAAS0X,EAAYwH,SAAStY,EAAS+F,MAAOtF,IAC9CrH,EAAS0X,EAAY0H,mBAAmBxY,EAAS8F,WAAYrF,IAPjE,2CADwB,yDAYflD,EAAmB,SAACnF,EAAgBugB,GAAjB,IAAkCnb,EAAlC,sGAC5B,WAAOpE,EAAUuK,GAAjB,SAAAC,EAAA,yDACIxK,EAAS0X,EAAYmH,yBAAwB,EAAM7f,EAAQoF,KACvDmb,EAFR,gCAG6BnY,IAAQG,WAAWvI,GAHhD,cAIqB4N,aAAeC,IAAgBC,SACxC9M,EAAS0X,EAAYuH,aAAajgB,EAAQoF,IALtD,wCAQ6BgD,IAAQI,aAAaxI,GARlD,eASqB4N,aAAeC,IAAgBC,SACxC9M,EAAS0X,EAAYuH,aAAajgB,EAAQoF,IAVtD,QAaIpE,EAAS0X,EAAYmH,yBAAwB,EAAO7f,EAAQoF,IAbhE,4CAD4B,yDAkBjBiJ,IA1IM,WAAuE,IAAtEjP,EAAqE,uDAA7DoK,EAAcxE,EAA+C,uCACvF,OAAQA,EAAO3B,MACX,IAAK,0BACD,OAAO,2BACAjE,GADP,IAEIgZ,kBAAmBpT,EAAO+a,cAElC,IAAK,mBACD,OAAO,2BACA3gB,GADP,IAEIuB,YAAaqE,EAAO5D,OAE5B,IAAK,gBACD,IAAIof,EAAmB,SAACC,GACpB,OAAOA,EAAMve,KAAI,SAAAxC,GACb,OAAIA,EAAEK,KAAOiF,EAAOhF,OACT,2BAAIN,GAAX,IAAcwG,UAAWxG,EAAEwG,WAExBxG,MAGf,OAAIsF,EAAOI,SACA,2BACAhG,GADP,IAEIkZ,QAASkI,EAAiBphB,EAAMkZ,SAChChZ,MAAOkhB,EAAiBphB,EAAME,SAG/B,2BACAF,GADP,IAEIE,MAAOkhB,EAAiBphB,EAAME,SAEtC,IAAK,YACD,OAAI0F,EAAOmb,eACA,2BACA/gB,GADP,IAEIkZ,QAAQ,YAAKtT,EAAO1F,OACpBA,MAAM,YAAK0F,EAAO1F,SAGnB,2BACAF,GADP,IAEIE,MAAM,YAAK0F,EAAO1F,SAE1B,IAAK,wBACD,OAAI0F,EAAOqb,UACA,2BACAjhB,GADP,IAEIsS,kBAAmB1M,EAAO7E,gBAC1BA,gBAAiB6E,EAAO7E,kBAGzB,2BACAf,GADP,IAEIe,gBAAiB6E,EAAO7E,kBAEhC,IAAK,eACD,OAAO,2BACAf,GADP,IAEIiB,WAAY2E,EAAO3E,aAE3B,IAAK,4BACD,OAAO,2BACAjB,GADP,IAEImB,oBAAqByE,EAAO8a,cAAP,sBACX1gB,EAAMmB,qBADK,CACgByE,EAAOhF,SACtCZ,EAAMmB,oBAAoBd,QAAO,SAAAM,GAAE,OAAIA,IAAOiF,EAAOhF,YAEnE,IAAK,aACD,OAAO,2BACAZ,GADP,IAEIK,OAAQ,CACJ6I,KAAMtD,EAAOsD,KACbD,OAAQrD,EAAOqD,UAG3B,QACI,OAAOjJ,K,8FCjGfoK,EAAe,CACf/G,aAAc,GACdie,SAAU,WA0BD3d,EAAc,CACvBC,gBAAiB,SAACP,GAAD,MAA2C,CAACY,KAAM,oBAAqBZ,iBACxFU,YAAa,SAACud,GAAD,MAA6B,CAACrd,KAAM,gBAAiBqd,cAGvD9R,IA1BK,WAAsE,IAArExP,EAAoE,uDAA5DoK,EAAcxE,EAA8C,uCACrF,OAAQA,EAAO3B,MACX,IAAK,oBACD,OAAO,2BACAjE,GADP,IAEIqD,aAAc,sBAAIrD,EAAMqD,cAAV,YAA2BuC,EAAOvC,aAAaP,KAAI,SAAA+Z,GAAC,kCAASA,GAAT,IAAYlc,GAAI4gB,sBAC7ElhB,QAAO,SAACwc,EAAG2E,EAAOH,GAAX,OAAqBG,GAASH,EAAM5V,OAAS,SAEjE,IAAK,gBACD,OAAO,2BACAzL,GADP,IAEIshB,SAAU1b,EAAO0b,WAEzB,QACI,OAAOthB,K,4OChBfoK,EAAe,CACfyK,cAAe,KACfnM,MAAO,KACP2P,MAAO,KACPG,QAAQ,EACRtC,iBAAkB,KAClBuL,WAAY,IAmCHnM,EAAc,CACvBoM,gBAAiB,SAAC7M,EAA8BnM,EAAsB2P,EAAsBG,GAA3E,MAA+F,CAC5GvU,KAAM,qBACNT,KAAM,CAACqR,gBAAenM,QAAO2P,QAAOG,YAEzCjD,sBAAsB,SAACW,GAAD,MAAsC,CACvDjS,KAAM,2BAA4BiS,qBACtCyL,cAAe,SAACF,GAAD,MAAwB,CAACxd,KAAM,kBAAmBwd,gBAIxD7B,EAAW,yDACpB,WAAOhe,EAASuK,GAAhB,yBAAAC,EAAA,sEACqB/D,IAAQC,WAD7B,WACIE,EADJ,QAEagG,aAAeC,IAAgBC,QAF5C,0BAG6BlG,EAAShF,KAA7B7C,EAHT,EAGSA,GAAI+H,EAHb,EAGaA,MAAO2P,EAHpB,EAGoBA,MAChBzW,EAAS0T,EAAYoM,gBAAgB/gB,EAAI+H,EAAO2P,GAAO,IAJ3D,SAKgCrP,IAAQK,eAAeb,EAAShF,KAAK7C,IALrE,OAKQihB,EALR,OAMIhgB,EAAS0T,EAAYC,sBAAsBqM,EAAgBxb,OAAOC,QAClEzE,EAASwX,YAAa,EAAE,IAAG,EAAK,KAChCxX,EAAS0X,IAAYD,WAAU,EAAO,KAR1C,4CADoB,yDAcXwI,EAAY,SAACnZ,EAAeC,EAAkBC,EAAoBC,GAAtD,8CAErB,WAAOjH,EAASuK,GAAhB,iBAAAC,EAAA,sEACiB/D,IAAQI,UAAUC,EAAOC,EAAUC,EAAWC,GAD/D,QACIrF,EADJ,QAESgL,aAAeC,IAAgBC,SACpC9M,EAASge,KACThe,EAAS0T,EAAYqM,cAAc,OAG/B9C,EAAerb,EAAKoS,SAASnK,OAAS,EAAIjI,EAAKoS,SAAS,GAAK,aAI7DpS,EAAKgL,aAAeC,IAAgBqT,mBACpClgB,EAASmgB,KAEbngB,EAASiU,YAAW,QAAS,CAACC,OAAQ+I,MAd1C,2CAFqB,yDAqBZ3G,EAAa,yDACtB,WAAOtW,EAASuK,GAAhB,SAAAC,EAAA,sEACiB/D,IAAQS,aADzB,cAES0F,aAAeC,IAAgBC,SACpC9M,EAAS0T,EAAYoM,gBAAgB,KAAM,KAAM,MAAM,IAH3D,2CADsB,yDAQbK,EAAkB,yDAC3B,WAAOngB,GAAP,eAAAwK,EAAA,sEACiB/D,IAAQU,UADzB,OACIvF,EADJ,OAEA5B,EAAS0T,EAAYqM,cAAcne,EAAKsE,MAFxC,2CAD2B,uDAOhBqH,IA5FG,WAAoE,IAAnEnP,EAAkE,uDAA1DoK,EAAcxE,EAA4C,uCACjF,OAAQA,EAAO3B,MACX,IAAK,qBACD,OAAO,2BACAjE,GACA4F,EAAOpC,MAElB,IAAK,2BACD,OAAO,2BACAxD,GADP,IAEIkW,iBAAkBtQ,EAAOsQ,mBAEjC,IAAK,kBACD,OAAO,2BACAlW,GADP,IAEIyhB,WAAY7b,EAAO6b,aAE3B,QACI,OAAOzhB,K,gCCrCnB,wDAWeiV,IAPa,WACxB,OAAO,6BACH,yBAAKxS,UAAWC,IAAEuS,UAAW9O,IAAK2S,IAAevS,IAAM,Q,sICD3Dyb,EAA6B,SAAChiB,GAC9B,MAAO,CACHwY,OAAQxY,EAAMkP,KAAKsJ,SAGdX,EAAmB,SAACxH,GAAmB,IAC1C4R,EADyC,uKAGvC,OAAKvJ,KAAKnI,MAAMiI,OAGT,kBAACnI,EAAcqI,KAAKnI,OAFhB,kBAAC,IAAD,CAAUtK,GAAI,eAJc,GACfkR,IAAM9G,WAUtC,OAFiCsI,YAAQqJ,EAARrJ,CAAoCsJ,K,mBCnBzEpiB,EAAOC,QAAU,IAA0B,qG,uMCUrCoiB,EAA8C,SAAC,GAAwC,IAAD,IAAtCC,KAAOC,EAA+B,EAA/BA,QAAS1e,EAAsB,EAAtBA,MAAQ2e,EAAc,EAAdA,SACpEC,EAAWF,GAAW1e,EAC5B,OACI,yBAAKjB,UAAW0V,IAAOoK,YAAc,KAAOD,EAAWnK,IAAOzU,MAAQ,KAClE,8BACK2e,GAEJC,GAAY,8BAAO5e,KAKnBsQ,EAA0C,SAACzD,GAAW,IACxDiS,EAA6BjS,EAA7BiS,MAAgBC,GAAalS,EAAtB4R,KADgD,YAC1B5R,EAD0B,mBAE9D,OAAO,kBAAC2R,EAAgB3R,EAAO,kBAAC,IAAD,iBAAWiS,EAAWC,MAE5CjO,EAA6C,SAACjE,GAAW,IAC3DiS,EAA6BjS,EAA7BiS,MAAgBC,GAAalS,EAAtB4R,KADmD,YAC7B5R,EAD6B,mBAEjE,OAAO,kBAAC2R,EAAgB3R,EAAO,kBAAC,IAAD,iBAAciS,EAAWC,EAAzB,CAAoCC,YAAU,OASpE3L,EAAqB,SAAC1G,GAAD,OAAuB,YAAkC,IAAhCmS,EAA+B,EAA/BA,MAAOL,EAAwB,EAAxBA,KAAS5R,EAAe,gCAChF+R,EAAWH,EAAKze,OAASye,EAAKC,QACpC,OAAO,yBAAK3f,UAAW0V,IAAOoK,YAAc,KAAOD,EAASnK,IAAOzU,MAAM,KACrE,6BACI,kBAAC2M,EAAD,iBAAemS,EAAWjS,KAE5B+R,GAAY,8BAAOH,EAAKze,W,gCC3ClC,+DAKaqQ,EAAe,SAAClN,EAAa8b,EAA0BC,EAAgBC,EAAoBtS,GAA0B,IAAfuS,EAAc,uDAAP,GACtH,OAAO,6BACFA,EACD,kBAAC,IAAD,eAAOjc,KAAMA,EAAM8b,SAAUA,EAAUC,UAAWA,EAAWC,YAAaA,GAAiBtS,O,gCCRnG,oEAAO,IAAMgE,EAAW,WAAgB,IAAf9C,EAAc,uDAAP,GAC5B,IAAIA,EACJ,MAAO,sBAGEoC,EAAmB,SAACkP,GAAD,OAAuB,WAAgB,IAAftR,EAAc,uDAAR,GAC1D,GAAKA,EAGL,OAAIA,EAAMhG,OAASsX,EAAiB,iBAAN,OAAwBA,EAAxB,iBAA9B,M","file":"static/js/main.cbdc9930.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"DialogsPage\":\"DialogsPage_DialogsPage__3mOP4\",\"DialogItem\":\"DialogsPage_DialogItem__3kfJ7\",\"DialogBody\":\"DialogsPage_DialogBody__3YIBn\",\"Content\":\"DialogsPage_Content__1JXyr\",\"Date\":\"DialogsPage_Date__18Np3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapperContent\":\"App_appWrapperContent__ufJGk\",\"globalError\":\"App_globalError__1SPNH\",\"site_layout_content\":\"App_site_layout_content__3teKG\",\"Header\":\"App_Header__13Nk2\",\"Footer\":\"App_Footer__1nsem\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__1Uhyb\",\"error\":\"FormControl_error__WV9jS\",\"someoneError\":\"FormControl_someoneError__2Zv8J\",\"CaptchaControl\":\"FormControl_CaptchaControl__3S1sn\",\"CaptchaImg\":\"FormControl_CaptchaImg__1asQt\",\"CaptchaInput\":\"FormControl_CaptchaInput__3Q7sT\",\"CaptchaSpan\":\"FormControl_CaptchaSpan__LiNIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__1AmVq\",\"AppPreloader\":\"Preloader_AppPreloader__1aVgS\",\"AppLoadingBlock\":\"Preloader_AppLoadingBlock__1KejR\"};","import {createSelector} from \"reselect\";\r\nimport {AppStateType} from \"../ReduxStore\";\r\nimport {ProfileType, UserType} from \"../../Types/Types\";\r\n\r\nconst getUsers = (state:AppStateType):Array<UserType> => {\r\n    return state.UsersPage.users\r\n}\r\nconst getActiveUser = (state:AppStateType):ProfileType | null => {\r\n    return state.ProfilePage.ProfileInfo\r\n}\r\n\r\nexport const getFriends = (state:AppStateType): UserType[] => {\r\n    return state.UsersPage.friends\r\n}\r\nexport const getUsersSuper = createSelector(getUsers, (users):UserType[] => {\r\n    return users.filter(u => true)\r\n})\r\nexport const getActiveUserFollowed = createSelector(getUsers, getActiveUser, (users,profile):null | UserType[] => {\r\n    if (!profile) {\r\n        return null\r\n    }\r\n    else {\r\n        return users.filter(u => u.id === profile.userId)\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const getPageSize = (state:AppStateType):number => {\r\n    return state.UsersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state:AppStateType):number => {\r\n    return state.UsersPage.totalUsersCount\r\n}\r\nexport const getIsFetching = (state:AppStateType):boolean => {\r\n    return state.UsersPage.isFetching\r\n}\r\nexport const getFollowIsProgressing = (state:AppStateType):number[] => {\r\n    return state.UsersPage.followIsProgressing\r\n}","import s from \"./Paginator.module.css\";\r\nimport React, {useCallback, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport 'antd/dist/antd.css';\r\nimport {Button} from 'antd';\r\nimport {setCurrentFriendPageACType, setCurrentPageACType} from \"../../../Redux/Reducers/UsersReducer\";\r\n\r\ntype PageChangeFunctionType = () => void\r\ntype ActionCreatorUsers = (page:number) => setCurrentPageACType\r\ntype ActionCreatorFriends = (FriendsPage:number) => setCurrentFriendPageACType\r\ntype PropsType = {\r\n    onPageChanged: (p:number) => void\r\n    totalItems: number\r\n    pageSize: number\r\n    currentPage: number\r\n    currentPageAc: any\r\n    // ActionCreatorUsers | ActionCreatorFriends\r\n}\r\nexport const Paginator: React.FC<PropsType>= ({onPageChanged, totalItems, pageSize,currentPage, currentPageAc}) => {\r\n    let pagesCount: number = Math.ceil(totalItems / pageSize)\r\n    const dispatch = useDispatch()\r\n    const setCurrentPage = useCallback((page:number) => {\r\n        dispatch(currentPageAc(page))},[dispatch,currentPageAc])\r\n    let [pageLeft,changePageLeft] = useState(1)\r\n    let [pageRight, changePageRight] = useState(10)\r\n\r\n    let changeSizeToRight: PageChangeFunctionType = () => {\r\n        setCurrentPage(pageLeft+10)\r\n        changePageRight(pageRight+10)\r\n        changePageLeft(pageLeft+10)\r\n        onPageChanged(pageLeft+10)\r\n    }\r\n\r\n    let changeSizeToLeft: PageChangeFunctionType = () => {\r\n        setCurrentPage(pageLeft-10)\r\n        changePageRight(pageRight-10)\r\n        changePageLeft(pageLeft-10)\r\n        onPageChanged(pageLeft-10)\r\n    }\r\n\r\n    let MaxLeft: PageChangeFunctionType = () => {\r\n        changePageRight(10)\r\n        changePageLeft(1)\r\n        setCurrentPage(1)\r\n        onPageChanged(1)\r\n\r\n    }\r\n\r\n    let MaxRight: PageChangeFunctionType = () => {\r\n        changePageLeft(pagesCount-10)\r\n        changePageRight(pagesCount)\r\n        setCurrentPage(pagesCount-10)\r\n        onPageChanged(pagesCount-10)\r\n    }\r\n\r\n    let pages: Array<number> = []\r\n    for (let i = pageLeft; i <= pageRight; i++) {\r\n        pages.push(i)\r\n        if (i >= pagesCount) {\r\n            break\r\n        }\r\n    }\r\n    return <div className={s.PaginatorBlock}>\r\n        {(pageLeft === 1)? null\r\n            : <span><Button onClick={pageLeft > 1? MaxLeft: undefined}>back</Button>\r\n                <Button onClick={pageLeft > 1? changeSizeToLeft: undefined}>←</Button></span> }\r\n        {pages.map(p => {\r\n            return <Button onClick={() => {\r\n                setCurrentPage(p)\r\n                onPageChanged(p)\r\n            }} className={currentPage === p? s.currentPage: s.Page}>{p}</Button>\r\n        })}\r\n        <Button onClick={pageRight < pagesCount? changeSizeToRight: undefined}>→</Button>\r\n        <Button onClick={pageRight < pagesCount? MaxRight: undefined}>next</Button>\r\n    </div>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1kDQ-\",\"PostDescription\":\"MyPosts_PostDescription__2wg69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Hr\":\"Post_Hr__-bwFd\",\"PostContent\":\"Post_PostContent__1rM2r\",\"PostBlock\":\"Post_PostBlock__3eiEF\",\"Avatar\":\"Post_Avatar__3Dk67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Paginator_currentPage__1TmR4\",\"Page\":\"Paginator_Page__3r-OB\",\"PaginatorBlock\":\"Paginator_PaginatorBlock__HeJUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserPhoto\":\"UserElement_UserPhoto__3c129\",\"UserElement\":\"UserElement_UserElement__1Mgxc\",\"FriendElement\":\"UserElement_FriendElement__1O45k\",\"Location\":\"UserElement_Location__1Ew3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuBlock\":\"Menu_MenuBlock__1X2nR\",\"Menu\":\"Menu_Menu__3g_IA\",\"Sider\":\"Menu_Sider__JTuhA\"};","import {ChatMessageType} from \"../Types/Types\";\r\nimport {ChatActions, ChatActionsType} from \"../Redux/Reducers/ChatReducer\";\r\nimport {eventChannel} from \"redux-saga\";\r\n\r\nlet ws: WebSocket | null = null\r\nexport type EmitterActionsType = ChatActionsType | {type: \"TRY_TO_RECONNECT\"}\r\ntype EmitterType = (input: EmitterActionsType) => void\r\nlet emitter: EmitterType\r\n\r\n\r\nconst MessageHandler = (e: MessageEvent) => {\r\n    let ChatMessages: Array<ChatMessageType> | null = null\r\n    try {\r\n        ChatMessages = JSON.parse(e.data)\r\n    } catch(e) {\r\n        console.error(`Error parsing : ${e.data}`)\r\n    }\r\n    if (ChatMessages) {\r\n        return emitter(ChatActions.SetChatMessages(ChatMessages))\r\n    }\r\n}\r\n\r\nconst CloseHandler = () => {\r\n    console.log(\"CLOSED\")\r\n    emitter(ChatActions.SetWSStatus(\"CLOSED\"))\r\n    setTimeout(() => emitter({ type: \"TRY_TO_RECONNECT\"}), 3000)\r\n\r\n}\r\n\r\nconst OpenedHandler = () => {\r\n    console.log(\"OPENED\")\r\n    emitter(ChatActions.SetWSStatus(\"OPENED\"))\r\n}\r\nconst ErrorHandler = () => {\r\n    console.log(\"ERROR\")\r\n    emitter(ChatActions.SetWSStatus(\"ERROR\"))\r\n}\r\n\r\nconst CleanUp = () => {\r\n    ws?.removeEventListener('close',CloseHandler)\r\n    ws?.removeEventListener('message', MessageHandler)\r\n    ws?.removeEventListener('open', OpenedHandler)\r\n    ws?.removeEventListener('error', ErrorHandler)\r\n    ws?.close()\r\n}\r\n\r\n\r\nconst initWebsocket = () => {\r\n    return eventChannel((emitt: EmitterType) => {\r\n        emitter = emitt\r\n        CleanUp()\r\n        ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n        ws.addEventListener('close', CloseHandler)\r\n        ws.addEventListener('open', OpenedHandler)\r\n        ws.addEventListener('error', ErrorHandler)\r\n        ws.addEventListener('message', MessageHandler)\r\n        return () => {\r\n\r\n        }\r\n    })\r\n}\r\n\r\nexport const chatAPI = {\r\n    start() {\r\n       return initWebsocket()\r\n    },\r\n    stop(){\r\n        CleanUp()\r\n    },\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\n","import {call, put, take, takeEvery} from \"redux-saga/effects\"\r\nimport {ActionsConstantsType} from \"../../Types/Types\";\r\nimport {ChatActions} from \"../Reducers/ChatReducer\";\r\nimport {chatAPI, EmitterActionsType} from \"../../Api/ApiChat\";\r\n\r\nexport const StartChatSagaActions = {\r\n    StartWsAC: () => ({type: \"START_WS\"} as const),\r\n    SendMessageAC: (message: string) => ({type: \"SEND_CHAT_MESSAGE\", message} as const),\r\n    CloseWSAC: () => ({type: \"CLOSE_WS_CHANNEL\"} as const)\r\n}\r\n\r\ntype SendMessageActionType = ReturnType<typeof StartChatSagaActions.SendMessageAC>\r\ntype StartChatSagaActionsConstants = ActionsConstantsType<typeof StartChatSagaActions>\r\n\r\nexport function* wsSaga() {\r\n    yield takeEvery<StartChatSagaActionsConstants>(\"START_WS\", function* (){\r\n        let channel: ReturnType<typeof chatAPI.start> = yield call(chatAPI.start)\r\n        yield takeEvery<StartChatSagaActionsConstants, any>(\"SEND_CHAT_MESSAGE\", SendMessageWorker)\r\n        while (true) {\r\n            const WSAction: EmitterActionsType  = yield take(channel)\r\n            if (WSAction.type === \"TRY_TO_RECONNECT\") {\r\n               channel = yield call(chatAPI.start)\r\n            }\r\n            else yield put(WSAction)\r\n        }\r\n    })\r\n}\r\nfunction* SendMessageWorker(action: SendMessageActionType) {\r\n    yield call(chatAPI.sendMessage, action.message)\r\n}\r\n\r\n\r\nexport function* StopWSSaga() {\r\n    yield takeEvery<StartChatSagaActionsConstants, any>(\"CLOSE_WS_CHANNEL\", StopWSWorker)\r\n}\r\n\r\nfunction* StopWSWorker() {\r\n    yield call(chatAPI.stop)\r\n    yield put(ChatActions.SetWSStatus(\"PENDING\"))\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__38JfW\",\"login\":\"Header_login__33QRH\"};","import React, {FC} from \"react\";\r\nimport s from './UserElement.module.css'\r\nimport userPhoto\r\n    from '../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserType} from \"../../../Types/Types\";\r\nimport {Avatar, Button} from \"antd\";\r\nimport Rus from './../../../accepts/images/1615023361_preview_911308-russian-flag-wallpapers-2000x1333-htc.jpg'\r\nimport {UserAddOutlined,UserDeleteOutlined} from \"@ant-design/icons\";\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followIsProgressing: Array<Number>\r\n    FollowOrUnfollow: (userId:number,follow:boolean,isFriend:boolean) => void\r\n    isFriend?: boolean\r\n}\r\n\r\n\r\nconst UserElement: FC<PropsType> = ({user,followIsProgressing,FollowOrUnfollow, isFriend= false}) => {\r\n    return <div className={s.UserElement}>\r\n        <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <Avatar className={s.UserPhoto} src={user.photos.large === null ? userPhoto : user.photos.large} alt={''}/>\r\n                </NavLink>\r\n\r\n        </div>\r\n        <div>\r\n            <div className = {s.Location}> <Avatar style={{width: 18, height:18}} src = {Rus}/> Rus, Saratov</div>\r\n            <div>{user.name}</div>\r\n        </div>\r\n        <div>\r\n            {(user.followed)\r\n                ? <Button icon={<UserDeleteOutlined />} disabled={followIsProgressing.some(id => id === user.id)}\r\n                          onClick={() => {FollowOrUnfollow(user.id,false, isFriend)}}>Unfollow</Button>\r\n\r\n                : <Button icon={<UserAddOutlined />} disabled={followIsProgressing.some(id => id === user.id)}\r\n                          onClick={() => {FollowOrUnfollow(user.id,true, isFriend)}}>Follow</Button>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default UserElement\r\n","module.exports = __webpack_public_path__ + \"static/media/React.b187c93a.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/ts.5fa4bf5c.png\";","module.exports = __webpack_public_path__ + \"static/media/zina.6d928a6f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/IMG_2138.8c176cb3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bean Eater-2s-200px.6005df6e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginProfileHeader\":\"HeaderProfile_LoginProfileHeader__1rXox\"};","module.exports = __webpack_public_path__ + \"static/media/Bean Eater-1s-200px.751d13ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/1615023361_preview_911308-russian-flag-wallpapers-2000x1333-htc.70d216be.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileInfo\":\"ProfileInfo_ProfileInfo__1ypYa\",\"Avatar\":\"ProfileInfo_Avatar__2QiM3\",\"Description\":\"ProfileInfo_Description__2J3bg\",\"Button1\":\"ProfileInfo_Button1__3HTzu\",\"Button2\":\"ProfileInfo_Button2__fGEU_\",\"AdInfo\":\"ProfileInfo_AdInfo__1PTNY\",\"AdInfoBlock\":\"ProfileInfo_AdInfoBlock__FG3ZW\",\"StatusBlock\":\"ProfileInfo_StatusBlock__13hUW\",\"FriendCountBlock\":\"ProfileInfo_FriendCountBlock__129N4\",\"AboutMe\":\"ProfileInfo_AboutMe__29mJB\",\"AdditAboutMe\":\"ProfileInfo_AdditAboutMe__jzH7L\",\"AboutMeTitle\":\"ProfileInfo_AboutMeTitle__1kb_P\",\"AboutMeData\":\"ProfileInfo_AboutMeData__2s364\",\"Contacts\":\"ProfileInfo_Contacts__l7Iqd\",\"AdInfoLine\":\"ProfileInfo_AdInfoLine__11Yv9\",\"ProfileForm\":\"ProfileInfo_ProfileForm__2j3MP\"};","import axios from \"axios\";\r\nimport {DialogsType, MessagesType, PhotosType, ProfileType, ResultCodesEnum, UserType} from \"../Types/Types\";\r\n\r\n\r\nconst AxiosInstance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '7eeb8e18-0506-4750-a69b-1c9673660d1c'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n})\r\n\r\ntype PutDialogResponseType = {\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n}\r\ntype GetDialogsResponseType = Array<DialogsType>\r\ntype GetUserDialogResponseType = {\r\n    error: null | string\r\n    totalCount: number\r\n    items: Array<MessagesType>\r\n}\r\ntype PutMessageResponseType = {\r\n    resultCode: ResultCodesEnum\r\n    data: { message: MessagesType }\r\n    messages: Array<string>\r\n}\r\ntype DeleteMessageResponseType = {\r\n    messages: Array<string>\r\n    resultCode: ResultCodesEnum\r\n}\r\n\r\n\r\nexport const DialogsApi = {\r\n    async PutDialog(userId: number) {\r\n        const res = await AxiosInstance.put<PutDialogResponseType>(`dialogs/${userId}`)\r\n        return res.data\r\n    },\r\n    async GetDialogs() {\r\n        const res = await AxiosInstance.get<GetDialogsResponseType>('dialogs')\r\n        return res.data\r\n    },\r\n    async GetUserDialog(userId: string, page: string) {\r\n        const url = `dialogs/${userId}/messages?page=${page}&count=10`\r\n        const res = await AxiosInstance.get<GetUserDialogResponseType>(url)\r\n        return res.data\r\n    },\r\n    async PutMessage(userId: string, message: string) {\r\n        const url = 'dialogs/' + userId + '/messages'\r\n        const res = await AxiosInstance.post<PutMessageResponseType>(url, {body: message})\r\n        return res.data\r\n    },\r\n    async DeleteMessage(messageId: string) {\r\n        const res = await AxiosInstance.delete<DeleteMessageResponseType>(`dialogs/messages/${messageId}`)\r\n        return res.data\r\n    }\r\n}\r\n\r\n\r\ntype AuthUserResponseType = {\r\n    messages: Array<string>\r\n    resultCode: ResultCodesEnum\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n}\r\ntype LoginResponseType = {\r\n    messages: Array<string>\r\n    resultCode: ResultCodesEnum\r\n    data: {\r\n        userId: number\r\n\r\n    }\r\n}\r\ntype LogoutResponseType = {\r\n    messages: Array<string>\r\n    resultCode: ResultCodesEnum\r\n}\r\ntype CaptchaResponseType = {\r\n    url: string\r\n}\r\nexport const AuthAPI = {\r\n    AuthUser() {\r\n        return AxiosInstance.get<AuthUserResponseType>(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    AuthLogin(email: string, password: string, rememberMe: boolean, captcha: string | null = null) {\r\n        return AxiosInstance.post<LoginResponseType>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        }).then(res => res.data)\r\n    },\r\n    AuthLogOut() {\r\n        return AxiosInstance.post<LogoutResponseType>(`auth/logout`).then(res => res.data)\r\n\r\n    },\r\n    Captcha() {\r\n        return AxiosInstance.get<CaptchaResponseType>('security/get-captcha-url').then(res => res.data)\r\n    }\r\n}\r\n\r\n\r\ntype GetUsersResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: null | string\r\n}\r\ntype GetProfileResponseType = ProfileType\r\ntype GetStatusResponseType = string\r\ntype UniversalProfileResponseType = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n}\r\ntype ChangeMainPhotoResponseType = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: { photos: PhotosType }\r\n}\r\nexport const UserAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10, friend = false, term = '') {\r\n        return AxiosInstance.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}&friend=${friend}&term=${term}`)\r\n            .then(response => {\r\n                    return response.data\r\n                }\r\n            )\r\n    },\r\n    followUser(userId: number) {\r\n        return AxiosInstance.post<UniversalProfileResponseType>(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    unfollowUser(userId: number) {\r\n        return AxiosInstance.delete<UniversalProfileResponseType>(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getUserProfile(userId: string | number | null) {\r\n        return AxiosInstance.get<GetProfileResponseType>(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    getProfileStatus(userId: string | number | null) {\r\n        return AxiosInstance.get<GetStatusResponseType>(`profile/status/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    updateStatus(status: string) {\r\n        return AxiosInstance.put<UniversalProfileResponseType>(`profile/status/`, {status: status}).then(res => res.data)\r\n    },\r\n    changeProfile(userId: number, profile: ProfileType) {\r\n        return AxiosInstance.put<UniversalProfileResponseType>(`profile`, {...profile})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    changeMainPhoto(photo: any) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photo)\r\n        return AxiosInstance.put<ChangeMainPhotoResponseType>(`profile/photo`, formData\r\n        ).then(res => res.data)\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import {ActionsType, DialogsType, MessagesType, NullableType} from \"../../Types/Types\";\r\n\r\nlet InitialState = {\r\n    DialogsData: null as NullableType<Array<DialogsType>>,\r\n    MessagesData: null as NullableType<Array<MessagesType>>,\r\n    CurrentMessagePage: 1,\r\n    TotalMessagesItems: 0\r\n}\r\n\r\ntype InitialStateType = typeof InitialState\r\n\r\nconst DialogReducer = (state = InitialState, action: DialogsActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"ADD_NEW_MESSAGE\": {\r\n            return {\r\n                ...state,\r\n                MessagesData: [...state.MessagesData as Array<MessagesType>, action.newMessage],\r\n            }\r\n        }\r\n        case \"SET_MESSAGES\": {\r\n            return {\r\n                ...state,\r\n                MessagesData: action.messagesData\r\n            }\r\n        }\r\n        case \"SET_DIALOGS\": {\r\n            return {\r\n                ...state,\r\n                DialogsData: action.dialogsData\r\n            }\r\n        }\r\n        case \"SET_CURRENT_MESSAGE_PAGE\": {\r\n            return {\r\n                ...state,\r\n                CurrentMessagePage: action.page\r\n            }\r\n        }\r\n        case \"SET_TOTAL_MESSAGES_ITEMS\": {\r\n            return {\r\n                ...state,\r\n                TotalMessagesItems: action.totalItems\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype DialogsActionsType = ActionsType<typeof DialogsActions>\r\n\r\nexport const DialogsActions = {\r\n    ShowMessagesAC: (messagesData: Array<MessagesType>) => ({type: \"SET_MESSAGES\", messagesData} as const),\r\n    SetDialogs: (dialogsData: Array<DialogsType>) => ({type: \"SET_DIALOGS\", dialogsData} as const),\r\n    AddNewMessage: (newMessage: MessagesType) => ({type: \"ADD_NEW_MESSAGE\", newMessage} as const),\r\n    SetCurrentPage: (page: number) => ({type: \"SET_CURRENT_MESSAGE_PAGE\", page} as const),\r\n    SetTotalItems: (totalItems: number) => ({type: \"SET_TOTAL_MESSAGES_ITEMS\", totalItems} as const)\r\n}\r\n\r\n\r\n\r\n\r\nexport default DialogReducer;","export const HelperStopSubmit = (errorMessages:Array<string>) => {\r\n    let ErrorsNames = errorMessages.map(error => {\r\n        let newElement = error.split('->')[1]\r\n        if (newElement === 'MainLink)'){\r\n            return 'mainLink'\r\n        }\r\n        return newElement.substring(0, newElement.length - 1).toLowerCase()\r\n    })\r\n    let ErrorObject:any = {}\r\n    for (let i = 0; i < errorMessages.length; i ++){\r\n        ErrorObject[ErrorsNames[i]] = errorMessages[i]\r\n    }\r\n    return ErrorObject\r\n}","import {UserAPI} from \"../../Api/Api\";\r\nimport {AuthActions, SetCurrentUserProfileActionType} from \"./AuthReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {HelperStopSubmit} from \"../../Utils/HelperStopSubmit\";\r\nimport {ActionsType, NullableType, PhotosType, PostType, ProfileType, ResultCodesEnum} from \"../../Types/Types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"../ReduxStore\";\r\n\r\nlet InitialState = {\r\n    PostsData: [\r\n        {message: 'Здарова всем славянам', id: 1, likecount: 1488},\r\n        {message: 'salam', id: 2, likecount: 228},\r\n        {message: 'Это мой немой пост', id: 3, likecount: 3},\r\n    ] as Array<PostType>,\r\n    ProfileInfo: null as NullableType<ProfileType>,\r\n    ProfileStatus: '',\r\n    isFetching: false,\r\n    submitWasSuccess: false\r\n}\r\nexport type InitialStateType = typeof InitialState\r\n\r\nconst ProfileReducer = (state:InitialStateType = InitialState, action: ProfileActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SUBMIT_WAS_SUCCESS\": {\r\n            return {\r\n                ...state,\r\n                submitWasSuccess: action.success\r\n            }\r\n        }\r\n        case \"PROFILE_DELETE_POST\": {\r\n            return {\r\n                ...state,\r\n                PostsData: state.PostsData.filter(u => u.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case \"PROFILE_ADD_POST\": {\r\n            let NewPost = {\r\n                message: action.post,\r\n                id: 5,\r\n                likecount: 148,\r\n            }\r\n            return {\r\n                ...state,\r\n                PostsData: [...state.PostsData, NewPost]\r\n            }\r\n        }\r\n        case \"PROFILE_SET_PROFILE\":\r\n            return {\r\n                ...state,\r\n                ProfileInfo: action.ProfileInfo\r\n            }\r\n        case \"PROFILE_SET_PROFILE_STATUS\":\r\n            return {\r\n                ...state,\r\n                ProfileStatus: action.status\r\n            }\r\n        case \"PROFILE_UPDATE_PHOTO\":\r\n            return {\r\n                ...state,\r\n                ProfileInfo: {...state.ProfileInfo, photos: {...action.photo}} as ProfileType,\r\n            }\r\n        case \"PROFILE_IS_FETCHING_PHOTO_TOGGLE\": {\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, any, ProfileActionsType>\r\ntype ProfileActionsType = ActionsType<typeof ProfileActions>\r\n\r\nexport const ProfileActions = {\r\n    deleteProfilePost: (postId:number) => ({type: \"PROFILE_DELETE_POST\", postId} as const),\r\n    submitWasSuccess: (success: boolean) => ({type: \"SUBMIT_WAS_SUCCESS\", success} as const),\r\n    addNewPost: (post:string) => ({type: \"PROFILE_ADD_POST\", post} as const),\r\n    setProfile: (ProfileInfo:ProfileType) => ({type: \"PROFILE_SET_PROFILE\", ProfileInfo} as const),\r\n    setProfileStatus: (status:string) => ({type: \"PROFILE_SET_PROFILE_STATUS\", status} as const),\r\n    updateProfilePhoto: (photo:PhotosType) => ({type: \"PROFILE_UPDATE_PHOTO\", photo} as const),\r\n    isFetchingPhotoToggle: () => ({type: \"PROFILE_IS_FETCHING_PHOTO_TOGGLE\"} as const),\r\n}\r\n\r\n\r\nexport const getProfileStatus = (userId:string | number | null): ThunkType  =>\r\n    async (dispatch,getState) => {\r\n    let response = await UserAPI.getProfileStatus(userId)\r\n    dispatch(ProfileActions.setProfileStatus(response))\r\n\r\n}\r\nexport const UpdateProfileStatus = (status:string) : ThunkType  =>\r\n    async (dispatch,getState) => {\r\n        let data = await UserAPI.updateStatus(status)\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(ProfileActions.setProfileStatus(status))\r\n        }\r\n\r\n}\r\nexport  const UpdateProfileInfo = (id: number, profile: ProfileType) : ThunkType  =>\r\n    async (dispatch,getState) => {\r\n    let response = await UserAPI.changeProfile(id, {...profile})\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getProfile(id))\r\n        dispatch(ProfileActions.submitWasSuccess(true))\r\n    }\r\n    else {\r\n        let errorMessages = response.messages.length > 0 ? response.messages : 'Some error'\r\n        if (typeof errorMessages !== \"string\"){\r\n            dispatch(stopSubmit('ProfileInfoInput', {'contacts' : {...HelperStopSubmit(errorMessages)}}))\r\n        }\r\n       else {\r\n            dispatch(stopSubmit('ProfileInfoInput', {_error: errorMessages}))\r\n        }\r\n    }\r\n\r\n}\r\nexport const getProfile = (userId: string | number | null) : ThunkType =>\r\n    async (dispatch,getState) => {\r\n    let data = await UserAPI.getUserProfile(userId)\r\n    dispatch(ProfileActions.setProfile(data))\r\n\r\n}\r\nexport const saveMainPhoto = (photo:any) : ThunkAction<Promise<void>, AppStateType, any, ProfileActionsType | SetCurrentUserProfileActionType>  =>\r\n    async (dispatch,getState) => {\r\n    dispatch(ProfileActions.isFetchingPhotoToggle())\r\n    let data = await UserAPI.changeMainPhoto(photo)\r\n    if (data.resultCode === ResultCodesEnum.Success){\r\n        dispatch(ProfileActions.isFetchingPhotoToggle())\r\n        dispatch(ProfileActions.updateProfilePhoto(data.data.photos))\r\n        dispatch(AuthActions.SetCurrentUserProfile(data.data.photos.large))\r\n    }\r\n}\r\n\r\n\r\nexport default ProfileReducer;","type FriendType = {\r\n    Img: string\r\n    Name: string\r\n    OnOf: string\r\n    id: number\r\n}\r\ntype InitialStateType = {\r\n    FriendsBarData: Array<FriendType>\r\n}\r\nlet InitialState: InitialStateType = {\r\n    FriendsBarData: [\r\n        {\r\n            Img: 'https://i.pinimg.com/736x/7e/ee/0a/7eee0a15c3bb16b777c64116e8cfaafe.jpg',\r\n            Name: 'Danil',\r\n            OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg',\r\n            id: 45\r\n        },\r\n        {\r\n            Img: 'https://i.pinimg.com/736x/89/57/16/8957167672cdfdb7fba47ef531f7a3eb.jpg',\r\n            Name: 'Sveta',\r\n            OnOf: 'of',\r\n            id: 13\r\n        },\r\n        {\r\n            Img: 'https://i.pinimg.com/originals/6c/b6/4c/6cb64c7f040e63059639a6df25969588.jpg',\r\n            Name: 'Kalim',\r\n            OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg',\r\n            id: 12,\r\n        }\r\n    ]\r\n}\r\n\r\nconst NavbarReducer = (state:InitialStateType = InitialState):InitialStateType => {\r\n    return state\r\n}\r\n\r\nexport default NavbarReducer","import {authUser} from \"./AuthReducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"../ReduxStore\";\r\nimport {ActionsType, NullableType} from \"../../Types/Types\";\r\n\r\n\r\nlet InitialState= {\r\n    initialized: false,\r\n    globalError: null as NullableType<string>\r\n}\r\n\r\ntype InitialStateType = typeof InitialState\r\n\r\nlet AppReducer = (state = InitialState, action:AppActionsType): InitialStateType  => {\r\n    switch (action.type) {\r\n        case \"SOME_GLOBAL_ERROR\":\r\n            return {\r\n                ...state,\r\n                globalError: action.error,\r\n            }\r\n        case \"APP_INITIALIZED_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, any, AppActionsType>\r\ntype AppActionsType = ActionsType<typeof AppActions>\r\n\r\nexport const AppActions = {\r\n    initializedSuccess:() => ({type: 'APP_INITIALIZED_SUCCESS'} as const),\r\n    showGlobalError:(error: string | null) => ({type: 'SOME_GLOBAL_ERROR', error} as const)\r\n}\r\n\r\nexport const initializedApp = () => {\r\n    return (dispatch: Function) => {\r\n        let promise = dispatch(authUser())\r\n        promise.then(() => {\r\n            dispatch(AppActions.initializedSuccess())\r\n        })\r\n    }\r\n}\r\nexport const setGlobalError = (error: NullableType<string>): ThunkType  =>\r\n    async (dispatch,getState) => {\r\n    dispatch(AppActions.showGlobalError(error))\r\n    setTimeout(() => {dispatch(AppActions.showGlobalError(null))},5000)\r\n}\r\n\r\n\r\nexport default AppReducer","import ReactPhoto from \"./../../accepts/images/React.png\"\r\nimport ReduxPhoto from \"./../../accepts/images/React-redux-.png\"\r\nimport tsPhoto from \"./../../accepts/images/ts.png\"\r\nimport zina from \"./../../accepts/images/zina.jpg\"\r\nimport og from \"./../../accepts/images/IMG_2138.jpg\"\r\n\r\ntype NewsPostType = {\r\n    Text: string\r\n    id: number\r\n    Title: string\r\n    Img: Array<string>\r\n    Data: string\r\n}\r\nexport type InitialStateNewsType = {\r\n    NewsPost: Array<NewsPostType>\r\n}\r\nlet InitialState: InitialStateNewsType = {\r\n    NewsPost: [\r\n        {Text: 'Welcome to my first app!!! Unfortunately backend logic does not provide for news, but I did them in a simplified form.',\r\n            id: 1,\r\n            Img: [ReactPhoto,ReduxPhoto,tsPhoto],\r\n            Title: 'Welcome!', Data: '12.04.1970'},\r\n        {Text: 'Новости из России. Сегодня в 6:00 по Москве в селе Бердымухамедушки бабушка Зина засослила огурцы, получив навар в виде 6-ти  банок. ' +\r\n                'Очевидцы говорят, что этим делом злоумышленница занимается с прошлой весны. Заведено уголовное дело.',\r\n            id: 2,\r\n            Img: [zina,og],\r\n            Title: 'Crime Russia',Data: '12.04.4059'}\r\n    ],\r\n}\r\n\r\n\r\nconst NewsReducer = (state = InitialState, action: any): InitialStateNewsType => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default NewsReducer","import {call, put, SagaReturnType, takeEvery, takeLatest} from \"redux-saga/effects\";\r\nimport {DialogsApi} from \"../../Api/Api\";\r\nimport {ActionsConstantsType, ResultCodesEnum} from \"../../Types/Types\";\r\nimport {DialogsActions} from \"../Reducers/DialogsReducer\";\r\n\r\n\r\ntype PatternsType = ActionsConstantsType<typeof ActivateSagasActions>\r\ntype SagaWorkerType<T> = (action: T) => any\r\n\r\nexport const ActivateSagasActions = {\r\n    DeleteMessageAC: (messageId: string, userID: string, page: string) =>\r\n        ({type: \"FETCH_DELETE_MESSAGE\", messageId, userID, page} as const),\r\n    ShowMessagesAC: (id: string, page: string) => ({type: \"FETCH_SHOW_MESSAGE\", id, page} as const),\r\n    AddNewDialogAC: (id: number) => ({type: \"FETCH_ADD_NEW_DIALOG\", id} as const),\r\n    ShowDialogsAC: () => ({type: \"FETCH_SHOW_DIALOGS\"} as const),\r\n    SendMessageAC: (userid: string, message: string) => ({type: \"FETCH_SEND_MESSAGE\", userid, message} as const)\r\n}\r\n\r\n\r\n\r\n\r\nexport function* watchMessages(): Generator<any, any, any> {\r\n    yield takeEvery<PatternsType, SagaWorkerType<MessageDeleteActionType>>(\"FETCH_DELETE_MESSAGE\", fetchDeleteMessage)\r\n    yield takeLatest<PatternsType, SagaWorkerType<MessagesShowActionType>>(\"FETCH_SHOW_MESSAGE\", fetchShowMessages)\r\n    yield takeEvery<PatternsType, SagaWorkerType<AddNewDialogActionType>>(\"FETCH_ADD_NEW_DIALOG\", fetchAddNewDialog)\r\n    yield takeEvery<PatternsType, SagaWorkerType<ShowDialogsActionType>>(\"FETCH_SHOW_DIALOGS\", fetchShowDialogs)\r\n    yield takeEvery<PatternsType, SagaWorkerType<SendMessageActionType>>(\"FETCH_SEND_MESSAGE\", fetchSendMessage)\r\n}\r\n\r\n\r\ntype MessagesShowActionType = ReturnType<typeof ActivateSagasActions.ShowMessagesAC>\r\ntype GetUserDataType = SagaReturnType<typeof DialogsApi.GetUserDialog>\r\n\r\nexport function* fetchShowMessages(action: MessagesShowActionType) {\r\n    const data: GetUserDataType = yield call(DialogsApi.GetUserDialog, action.id, action.page)\r\n    yield put(DialogsActions.SetCurrentPage(Number(action.page)))\r\n    yield put(DialogsActions.SetTotalItems(data.totalCount))\r\n    yield put(DialogsActions.ShowMessagesAC(data.items))\r\n}\r\n\r\n\r\ntype MessageDeleteActionType = ReturnType<typeof ActivateSagasActions.DeleteMessageAC>\r\ntype DeleteDataType = SagaReturnType<typeof DialogsApi.DeleteMessage>\r\n\r\nfunction* fetchDeleteMessage(action: MessageDeleteActionType){\r\n    const data: DeleteDataType = yield call( DialogsApi.DeleteMessage, action.messageId)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        yield call(fetchShowMessages, ActivateSagasActions.ShowMessagesAC(action.userID,action.page))\r\n    }\r\n}\r\n\r\n\r\ntype AddNewDialogActionType = ReturnType<typeof ActivateSagasActions.AddNewDialogAC>\r\ntype AddNewDialogDataType = SagaReturnType<typeof DialogsApi.PutDialog>\r\n\r\nfunction* fetchAddNewDialog(action: AddNewDialogActionType){\r\n    const data: AddNewDialogDataType = yield call( DialogsApi.PutDialog, action.id)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        yield call(fetchShowDialogs, ActivateSagasActions.ShowDialogsAC())\r\n    }\r\n}\r\n\r\n\r\ntype ShowDialogsActionType = ReturnType<typeof ActivateSagasActions.ShowDialogsAC>\r\ntype ShowDialogDataType = SagaReturnType<typeof DialogsApi.GetDialogs>\r\n\r\nfunction* fetchShowDialogs(action: ShowDialogsActionType){\r\n    const data: ShowDialogDataType = yield call( DialogsApi.GetDialogs)\r\n    yield put(DialogsActions.SetDialogs(data))\r\n\r\n}\r\n\r\n\r\ntype SendMessageActionType = ReturnType<typeof ActivateSagasActions.SendMessageAC>\r\ntype SendMessageDataType = SagaReturnType<typeof DialogsApi.PutMessage>\r\n\r\nfunction* fetchSendMessage(action: SendMessageActionType){\r\n    const data: SendMessageDataType = yield call( DialogsApi.PutMessage, action.userid, action.message)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        yield put(DialogsActions.AddNewMessage(data.data.message))\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport DialogReducer from \"./Reducers/DialogsReducer\";\r\nimport ProfileReducer from \"./Reducers/ProfileReducer\";\r\nimport NavbarReducer from \"./Reducers/NavbarReducer\";\r\nimport UsersReducer from \"./Reducers/UsersReducer\";\r\nimport AuthReducer from \"./Reducers/AuthReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport createSagaMiddleware from \"redux-saga\"\r\nimport { reducer as formReducer} from \"redux-form\";\r\nimport AppReducer from \"./Reducers/AppReducer\";\r\nimport NewsReducer from \"./Reducers/NewsReducer\";\r\nimport ChatReducer from \"./Reducers/ChatReducer\";\r\nimport {watchMessages} from \"./Sagas/DialogsSagas\";\r\nimport { all } from \"redux-saga/effects\";\r\nimport {StopWSSaga, wsSaga} from \"./Sagas/ChatSagas\";\r\n\r\n\r\nconst MainReducer = combineReducers({\r\n    DialogsPage : DialogReducer,\r\n    ProfilePage: ProfileReducer,\r\n    NewsPage: NewsReducer,\r\n    NavbarPage: NavbarReducer,\r\n    UsersPage: UsersReducer,\r\n    Auth: AuthReducer,\r\n    form: formReducer,\r\n    App: AppReducer,\r\n    Chat: ChatReducer\r\n})\r\n\r\ntype MainReducerType = typeof MainReducer\r\nexport type AppStateType = ReturnType<MainReducerType>\r\nconst sagaMiddleware = createSagaMiddleware()\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(MainReducer, composeEnhancers(applyMiddleware(thunkMiddleware, sagaMiddleware)));\r\n\r\nfunction* rootSaga() {\r\n    yield all([\r\n        watchMessages(),\r\n        wsSaga(),\r\n        StopWSSaga()\r\n    ])\r\n}\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport const withSuspense = (Component:any) => {\r\n    let ComponentWithSuspense = (props:any) => {\r\n        return <Suspense fallback={<div>Минуточку...</div>}><Component {...props}/></Suspense>\r\n    }\r\n    return ComponentWithSuspense\r\n}","import s from \"../ProfileInfo.module.css\";\r\nimport React from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport { Upload, Button } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\ntype PropsType = {\r\n    onMainPhotoSelected: (photo:any) => void\r\n}\r\nconst ProfilePhotoInputFile: React.FC<PropsType> = (props) => {\r\n    const Sprops = {\r\n        showUploadList: false,\r\n        customRequest(info:any){\r\n            props.onMainPhotoSelected(info)\r\n        },\r\n    };\r\n    return <div className={s.input__wrapper}>\r\n        <Upload {...Sprops}>\r\n            <Button style={{width: 250}} icon={<UploadOutlined />}>Change avatar</Button>\r\n        </Upload>\r\n    </div>\r\n}\r\n\r\nexport default ProfilePhotoInputFile","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../Redux/ReduxStore\";\r\nimport {UpdateProfileStatus} from \"../../../../Redux/Reducers/ProfileReducer\";\r\nimport {Input} from \"antd\";\r\n\r\ntype PropsType = {\r\n    IDisCurrent: boolean\r\n}\r\n\r\nconst StatusWithHooks: React.FC<PropsType> = (props) => {\r\n    const dispatch = useDispatch()\r\n    let [editMode, setEditeMode] = useState(false)\r\n    let [status, setStatus] = useState('')\r\n    const ProfileStatus = useSelector((state: AppStateType) => state.ProfilePage.ProfileStatus)\r\n\r\n    useEffect(()=>{\r\n        setStatus(ProfileStatus)\r\n    },[ProfileStatus])\r\n\r\n    const  activeEditMode = () => {\r\n            setEditeMode(true)\r\n    }\r\n    const deactiveEditMode = () => {\r\n        setEditeMode(false)\r\n        dispatch(UpdateProfileStatus(status))\r\n    }\r\n    const changeInputStatus = (e:ChangeEvent<HTMLInputElement>) => {\r\n            setStatus(e.currentTarget.value)\r\n    }\r\n    if (props.IDisCurrent){\r\n\r\n    return <>\r\n        {!editMode && ProfileStatus &&\r\n        <div>\r\n            <span onDoubleClick={activeEditMode}><span>{ProfileStatus}</span></span>\r\n        </div>}\r\n        {editMode &&\r\n        <div>\r\n            <Input onChange={changeInputStatus} autoFocus={true} onBlur={deactiveEditMode}\r\n                    value={status}/>\r\n        </div>}\r\n    </>}\r\n    else {\r\n        return <>\r\n            {ProfileStatus && <div>\r\n                <span><span>{ProfileStatus}</span></span>\r\n            </div>}\r\n\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nexport default StatusWithHooks","import React, {useEffect, useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport {PageHeader} from \"antd\";\r\nimport StatusWithHooks from \"./Status/StatusWithHooks\";\r\nimport {ProfileType} from \"../../../Types/Types\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/ReduxStore\";\r\n\r\n\r\ntype ContactsProfilePropsType = {\r\n    ContactTitle: string\r\n    ContactValue: string\r\n}\r\nexport const ContactsProfile: React.FC<ContactsProfilePropsType> = ({ContactTitle, ContactValue}) => {\r\n    return <div>\r\n        {ContactValue && <div className={s.Contacts}>{ContactTitle}: &nbsp;\r\n            <a href={ContactValue}>\r\n                @{ContactValue.split('/')[ContactValue.split('/').length - 1]}\r\n            </a></div>}\r\n    </div>\r\n}\r\n\r\ntype ProfileDescriptionType = {\r\n    fullName: string\r\n    aboutMe: string\r\n    IDisCurrent: boolean\r\n}\r\nexport const ProfileDescription: React.FC<ProfileDescriptionType> = ({fullName, aboutMe, IDisCurrent}) => {\r\n    const FriendsCount = useSelector((state: AppStateType) => state.UsersPage.totalFriendsCount)\r\n    return <div className={s.Description}>\r\n        <PageHeader title={fullName} subTitle={'Rus, Saratov'}/>\r\n        <div className={s.StatusBlock}>\r\n            <hr/>\r\n            <StatusWithHooks IDisCurrent={IDisCurrent}/>\r\n        </div>\r\n        <div className={s.FriendCountBlock}>\r\n            Friends:  &nbsp; {FriendsCount}\r\n        </div>\r\n        <div className={s.AboutMe}>\r\n            <div className={s.AboutMeTitle}>My Phone:</div>\r\n            <div className={s.AboutMeData}> +375 (33) 355-29-98</div>\r\n            <div className={s.AboutMeTitle}> Date of birth:</div>\r\n            <div className={s.AboutMeData}> 24 April 20001</div>\r\n            <div className={s.AboutMeTitle}> Abot me:</div>\r\n            <div className={s.AboutMeData}> {aboutMe} </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const ProfileAdDescription: React.FC<{ ProfileInfo: ProfileType }> = ({ProfileInfo}) => {\r\n    return <div className={s.AdInfo}>\r\n        <div style={{width: 200, marginLeft: 10}}>\r\n            <PageHeader title={'Additional Info'}/>\r\n            <hr className={s.AdInfoLine}/>\r\n        </div>\r\n        <div className={s.AdInfoBlock}>\r\n            <div>\r\n                <h1> Contacts </h1>\r\n                {Object.keys(ProfileInfo.contacts).map((k) => <ContactsProfile key={k}\r\n                                                                               ContactTitle={k}\r\n                                                                               ContactValue={ProfileInfo.contacts[k]}/>)}\r\n            </div>\r\n            <div className={s.AdditAboutMe}>\r\n                <div className={s.AboutMeTitle}>Looking Job?</div>\r\n                {ProfileInfo.lookingForAJob\r\n                    ? <div className={s.AboutMeData}>Yes</div>\r\n                    : <div className={s.AboutMeData}>No</div>}\r\n\r\n                <div className={s.AboutMeTitle}>Skills:</div>\r\n                <div className={s.AboutMeData}>{ProfileInfo.lookingForAJobDescription}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}","import {maxLengthCreator, required} from \"../../../Utils/Validators/validators\";\r\nimport {InputField, TextareaField} from \"../../Common/FormsControls/FormControl\";\r\nimport {FieldCreator} from \"../../Common/FormsControls/FieldCreator\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport {Button, PageHeader} from 'antd';\r\nimport s from './ProfileInfo.module.css'\r\nimport {CheckOutlined} from \"@ant-design/icons\";\r\n\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\ntype PropsType = {\r\n    handleSubmit: any\r\n    error: string\r\n    initialValues: any\r\n\r\n}\r\nconst ProfileInfoInputForm: React.FC<PropsType> = ({handleSubmit, error, initialValues}) => {\r\n    return <div className={s.AdInfo}>\r\n    <form onSubmit={handleSubmit}>\r\n        <div className={s.ProfileForm}>\r\n            <div>\r\n                <PageHeader title={'Your contacts'}/>\r\n                {Object.keys(initialValues.contacts).map(key => <ContactsProfileField key={key} name={key}/>)}\r\n            </div>\r\n            <div>\r\n                <PageHeader title={'Personal Info'}/>\r\n                <h1>User Name</h1>\r\n                {FieldCreator('fullName', [required, maxLength100], InputField, 'Write your name', {})}\r\n                <h1>Some About Me</h1>\r\n                {FieldCreator('aboutMe', [required], TextareaField, 'About you', null)}\r\n                <h1>Are you looking job?</h1>\r\n                {FieldCreator('lookingForAJob', null, 'input', '', {type: 'checkbox'})}\r\n                <h1>Your skills</h1>\r\n                {FieldCreator('lookingForAJobDescription', [required], TextareaField, 'Descriptions for looking', null)}\r\n                <Button icon={<CheckOutlined />} style={{marginTop: 20}} htmlType={\"submit\"}> Save </Button>\r\n                {error &&\r\n                <div className={s.someoneError}>\r\n                    <span>{error}</span>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    </form>\r\n    </div>\r\n\r\n}\r\n\r\ntype ContactsProfileFieldPropsType = {\r\n    name: string\r\n}\r\nconst ContactsProfileField: React.FC<ContactsProfileFieldPropsType> = ({name}) => {\r\n    return <div>\r\n        <h1>{name}</h1>\r\n        {FieldCreator('contacts.' + name, [maxLength100], InputField, name, null)}\r\n    </div>\r\n}\r\n\r\n\r\nconst ProfileInfoInputReduxForm = reduxForm({form: 'ProfileInfoInput'})(ProfileInfoInputForm)\r\n\r\nexport default ProfileInfoInputReduxForm","import s from \"./ProfileInfo.module.css\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {ProfileActions, saveMainPhoto, UpdateProfileInfo} from \"../../../Redux/Reducers/ProfileReducer\";\r\nimport 'antd/dist/antd.css';\r\nimport {Button, Image} from 'antd';\r\nimport {AppStateType} from \"../../../Redux/ReduxStore\";\r\nimport {CloseOutlined, EditOutlined} from \"@ant-design/icons\";\r\nimport ProfilePhotoInputFile from \"./FileInputs/ProfilePhotoInputFile\";\r\nimport {ProfileAdDescription, ProfileDescription} from \"./ProfileDescriptionBlock\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport UserAvatar\r\n    from \"./../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg\"\r\nimport ProfileInfoForm from \"./ProfileInfoForm\";\r\nimport {ActivateSagasActions} from \"../../../Redux/Sagas/DialogsSagas\";\r\n\r\n\r\nconst ProfileInfo: React.FC = () => {\r\n    const ProfileInfo = useSelector((state: AppStateType) => state.ProfilePage.ProfileInfo)\r\n    const submitWasSuccess = useSelector((state: AppStateType) => state.ProfilePage.submitWasSuccess)\r\n    const CurrentUserId = useSelector((state: AppStateType) => state.Auth.CurrentUserId)\r\n    const DialogUrl: string = ProfileInfo ? '/dialogs/' + ProfileInfo.userId : ''\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (submitWasSuccess) {\r\n            setProfileEditMode(false)\r\n            dispatch(ProfileActions.submitWasSuccess(false))\r\n        }\r\n    }, [submitWasSuccess, dispatch])\r\n\r\n    let [ProfileEditMode, setProfileEditMode] = useState(false)\r\n    let changeProfile = (data: any) => {\r\n        if (CurrentUserId !== null) {\r\n            dispatch(UpdateProfileInfo(CurrentUserId, data))\r\n        }\r\n    }\r\n    const onMainPhotoSelected = (e: any) => {\r\n        if (e.file) {\r\n            dispatch(saveMainPhoto(e.file))\r\n        }\r\n    }\r\n    const startDialog = () => {\r\n        if (ProfileInfo !== null) {\r\n            dispatch(ActivateSagasActions.AddNewDialogAC(ProfileInfo.userId))\r\n        }\r\n    }\r\n    if (!ProfileInfo) {\r\n        return <Preloader/>\r\n    }\r\n    const IDisCurrent: boolean = ProfileInfo.userId === CurrentUserId\r\n    return <div className={s.ProfileInfo}>\r\n        <div className={s.Avatar}>\r\n            <div><Image style={{width: 250}} src={ProfileInfo.photos.large ? ProfileInfo.photos.large : UserAvatar}/></div>\r\n        </div>\r\n        <ProfileDescription aboutMe={ProfileInfo.aboutMe} fullName={ProfileInfo.fullName} IDisCurrent={IDisCurrent}/>\r\n        <div className={s.Button1}>\r\n            {IDisCurrent\r\n                ? <div><ProfilePhotoInputFile onMainPhotoSelected={onMainPhotoSelected}/></div>\r\n                : <NavLink to={DialogUrl}><Button icon={<EditOutlined/>} onClick={startDialog}> Start Dialog </Button></NavLink>}\r\n        </div>\r\n        <div className={s.Button2}>\r\n            {IDisCurrent ? ProfileEditMode?\r\n                <div><Button style={{width: 250}} onClick={() => setProfileEditMode(false)} icon={<CloseOutlined />}> Close </Button></div>:\r\n                <div><Button style={{width: 250}} onClick={() => setProfileEditMode(true)} icon={<EditOutlined/>}> Change Profile</Button></div>:null}\r\n        </div>\r\n        {ProfileEditMode? <ProfileInfoForm initialValues={ProfileInfo} onSubmit={changeProfile}/> : <ProfileAdDescription ProfileInfo={ProfileInfo}/>}\r\n\r\n    </div>\r\n}\r\n\r\n\r\nexport default ProfileInfo","import React, {useEffect, useState} from 'react';\r\nimport s from './Post.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {ProfileActions} from \"../../../../Redux/Reducers/ProfileReducer\";\r\nimport {Avatar, Button, Comment, Tooltip} from \"antd\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styles from \"../../../Dialogs/ChatPage/ChatMessages/ChatMessages.module.css\";\r\nimport {AppStateType} from \"../../../../Redux/ReduxStore\";\r\nimport {HeartOutlined, CloseCircleOutlined} from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport userPhoto from \"./../../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg\"\r\n\r\n\r\ntype PropsType = {\r\n    message:string\r\n    likecount:number\r\n    id:number\r\n}\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    const [Likes, setLikes] = useState(props.likecount)\r\n\r\n    useEffect(() => {\r\n        setLikes(props.likecount)\r\n    }, [props.likecount])\r\n\r\n    const ChangeLikes = () => {\r\n        if (Likes > props.likecount) setLikes(Likes-1)\r\n        else setLikes(Likes + 1)\r\n    }\r\n\r\n\r\n    const id = props.id\r\n    const photo = useSelector((state: AppStateType) => state.Auth.CurrentUserPhoto)\r\n    const dispatch = useDispatch()\r\n    const deleteProfilePost = () => {\r\n        dispatch(ProfileActions.deleteProfilePost(id))\r\n    }\r\n    return <div className={s.PostBlock}>\r\n            <Comment\r\n                // avatar={\r\n                //    <img className={s.Avatar} src={photo? photo: userPhoto} alt={''}/>\r\n                // }\r\n                content = {\r\n                    <div className={s.PostContent}>\r\n                        <p>\r\n                            <Avatar className={s.Avatar} src={photo? photo: userPhoto} alt={''}/>  {props.message}\r\n                        </p>\r\n                        <p>\r\n\r\n                            <Button onClick={ChangeLikes} icon={<HeartOutlined/>} type={\"link\"}>\r\n                                <span style={{color: \"grey\"}}>{Likes}</span>\r\n                            </Button>\r\n                            <div>\r\n                                <Button style={{marginLeft:6}} onClick={deleteProfilePost} icon={<CloseCircleOutlined/>} type={\"link\"} danger={true}/>\r\n                            </div>\r\n                        </p>\r\n                    </div>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span>13 April 20:00</span>\r\n                    </Tooltip>\r\n                }\r\n            />\r\n        </div>\r\n}\r\nexport default Post","import {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {SpecialFormCreator, TextareaField} from \"../../Common/FormsControls/FormControl\";\r\nimport {maxLengthCreator, required} from \"../../../Utils/Validators/validators\";\r\nimport {FieldCreator} from \"../../Common/FormsControls/FieldCreator\";\r\nimport 'antd/dist/antd.css';\r\nimport {Button} from 'antd';\r\n\r\nconst maxLength30 =  maxLengthCreator(20)\r\nconst SpecialTextArea = SpecialFormCreator('textarea')\r\n\r\n\r\nconst PostInputForm: React.FC<InjectedFormProps<{postInput: string}>> = (props) => {\r\n    if (props.submitSucceeded){\r\n        props.reset()\r\n    }\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div style={{width: 800}}>\r\n            {FieldCreator('postInput', [required,maxLength30], TextareaField, 'Write new post', null)}\r\n        </div>\r\n\r\n        <Button style={{marginTop: 20}} htmlType={'submit'}>Add post</Button>\r\n    </form>\r\n\r\n}\r\nconst PostInputReduxForm = reduxForm<{postInput: string}>({form: 'postInput'})(PostInputForm)\r\nexport default PostInputReduxForm","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport PostInputReduxForm from \"./MyPostsForm\";\r\nimport {PostType} from \"../../../Types/Types\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/ReduxStore\";\r\nimport {ProfileActions} from \"../../../Redux/Reducers/ProfileReducer\";\r\n\r\n\r\nexport const MyPosts: React.FC = React.memo(() => {\r\n    const PostData = useSelector((state: AppStateType) => state.ProfilePage.PostsData)\r\n    const dispatch = useDispatch()\r\n    const ProfileID = useSelector((state: AppStateType) => state.ProfilePage.ProfileInfo?.userId)\r\n    const CurrentUserID = useSelector((state: AppStateType) => state.Auth.CurrentUserId)\r\n    const PostsElements = [...PostData].map(p => <Post key={p.id} message={p.message} likecount={p.likecount} id={p.id}/>);\r\n    const addPost = (dataForm: {postInput: string}) => {\r\n        dispatch(ProfileActions.addNewPost(dataForm.postInput))\r\n    }\r\n    if (ProfileID == CurrentUserID) return <div className={s.PostDescription}>\r\n            <h3> My posts</h3>\r\n            <div>\r\n                <PostInputReduxForm onSubmit={addPost}/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {PostsElements}\r\n            </div>\r\n        </div>\r\n    else return <div className={s.PostDescription}>\r\n        <h3>Posts</h3>\r\n    </div>\r\n})\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getProfile, getProfileStatus} from \"../../Redux/Reducers/ProfileReducer\";\r\nimport {useParams} from \"react-router-dom\"\r\nimport {AppStateType} from \"../../Redux/ReduxStore\";\r\nimport s from \"./Profile.module.css\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {MyPosts} from \"./MyPosts/MyPosts\";\r\n\r\n\r\nconst ProfilePage: React.FC = () => {\r\n    const {userId} = useParams() as any\r\n    const dispatch = useDispatch()\r\n    const CurrentUserId = useSelector((state: AppStateType) => state.Auth.CurrentUserId)\r\n\r\n    useEffect(() => {\r\n        if (!userId) {\r\n            if (CurrentUserId) {\r\n                dispatch(getProfile(CurrentUserId))\r\n                dispatch(getProfileStatus(CurrentUserId))\r\n            }\r\n        }\r\n        else {\r\n            dispatch(getProfile(userId))\r\n            dispatch(getProfileStatus(userId))\r\n        }\r\n    }, [userId, dispatch, CurrentUserId])\r\n    return (<div className={s.Profile}>\r\n            <ProfileInfo/>\r\n            <MyPosts/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default withAuthRedirect(ProfilePage)\r\n\r\n","import React from 'react';\r\nimport UserPhoto from \"../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg\"\r\nimport styles from './HeaderProfile.module.css'\r\nimport {Avatar, Button} from \"antd\";\r\nimport {LogoutOutlined} from \"@ant-design/icons\";\r\n\r\ntype PropsType = {\r\n    login: string | null\r\n    CurrentUserPhoto:  string | null\r\n\r\n    authLogOut: () => void\r\n}\r\nconst HeaderProfile: React.FC<PropsType> = (props) => {\r\n    const onLogOut = () => {\r\n        props.authLogOut()\r\n    }\r\n    return <div>\r\n        <Button icon={<LogoutOutlined/>} onClick={onLogOut}>Log Out</Button>\r\n        <span className={styles.LoginProfileHeader}>{props.login}</span>\r\n\r\n        {props.CurrentUserPhoto\r\n            ? <Avatar style={{width: 50, height: 50}} src = {props.CurrentUserPhoto} alt = ''/>\r\n            : <Avatar src = {UserPhoto} alt = ''/> }\r\n    </div>\r\n}\r\n\r\nexport default HeaderProfile;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport HeaderProfile from \"./HeaderProfile/HeaderProfile\";\r\n\r\ntype PropsType = {\r\n    login: string | null\r\n    userId:  number | null\r\n    isAuth: boolean\r\n    CurrentUserPhoto:  string | null\r\n\r\n    authLogOut: () => void\r\n}\r\n\r\nconst Header: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <header className={s.header}><NavLink to={`/profile/${props.userId}`}>\r\n            <img src='https://bumper-stickers.ru/69359-thickbox_default/logotip-atlanta-thrashers-atlanta-tresherz.jpg' alt = ''/>\r\n        </NavLink>\r\n            <div className={s.login}>\r\n                {props.isAuth ?\r\n                    <HeaderProfile login={props.login}\r\n                                   CurrentUserPhoto={props.CurrentUserPhoto}\r\n                                   authLogOut = {props.authLogOut}\r\n                    />\r\n\r\n                    : <NavLink to='/login'>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authLogOut} from \"../../Redux/Reducers/AuthReducer\";\r\nimport {AppStateType} from \"../../Redux/ReduxStore\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    login: string | null\r\n    userId:  number | null\r\n    isAuth: boolean\r\n    CurrentUserPhoto:  string | null\r\n}\r\ntype MapDispatchToPropsType = {\r\n\r\n    authLogOut: () => void\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType =  OwnPropsType & MapDispatchToPropsType & MapStateToPropsType\r\n\r\n\r\nclass HeaderContainer extends React.Component<PropsType>{\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state: AppStateType):MapStateToPropsType =>{\r\n    return{\r\n        login: state.Auth.login,\r\n        userId: state.Auth.CurrentUserId,\r\n        isAuth: state.Auth.isAuth,\r\n        CurrentUserPhoto: state.Auth.CurrentUserPhoto\r\n    }\r\n}\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, OwnPropsType, AppStateType>(mapStateToProps,\r\n    {authLogOut})(HeaderContainer)","import React from \"react\";\r\nimport PreloaderLogo from '../../../accepts/images/Bean Eater-1s-200px.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst AppPreloader: React.FC = () => {\r\n    return <div className={s.AppLoadingBlock}>\r\n        <img className={s.AppPreloader} src={PreloaderLogo} alt = ''/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default AppPreloader","import React from \"react\";\r\nimport {Paginator} from \"../Common/Paginator/Paginator\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport UserElement from \"../Users/UserElement/UserElement\";\r\nimport {UserType} from \"../../Types/Types\";\r\nimport {setCurrentFriendPageACType} from \"../../Redux/Reducers/UsersReducer\";\r\nimport styles from './Friends.module.css'\r\n\r\ntype PropsType = {\r\n    onPageChanged: (p: number) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentFriendPage: number\r\n    setCurrentFriendPageAC: (FriendsPage: number) => setCurrentFriendPageACType\r\n    requestUsers: (currentPage: number, pageSize: number, friend: boolean, term: string) => void\r\n    followIsProgressing: Array<number>\r\n    FollowOrUnfollow: (userId: number, follow: boolean, isFriend: boolean) => void\r\n    isFetching: boolean\r\n    friends: Array<UserType>\r\n}\r\nconst Friends: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                onPageChanged={props.onPageChanged} totalItems={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentFriendPage}\r\n                currentPageAc={props.setCurrentFriendPageAC}\r\n            />\r\n            {props.isFetching\r\n                ? <Preloader/>\r\n                : props.friends.map(u => <div> <UserElement\r\n                    key={u.id}\r\n                    user={u}\r\n                    followIsProgressing={props.followIsProgressing}\r\n                    FollowOrUnfollow={props.FollowOrUnfollow}\r\n                    isFriend={true}\r\n                /></div>)\r\n\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import React from \"react\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    FollowOrUnfollow,\r\n    requestUsers,\r\n    UserActions, setCurrentFriendPageACType, setFilterType,\r\n} from \"../../Redux/Reducers/UsersReducer\";\r\nimport {\r\n    getFollowIsProgressing,\r\n    getIsFetching,\r\n    getPageSize\r\n} from \"../../Redux/Selectors/UsersSelector\";\r\nimport Friends from \"./Friends\";\r\nimport {AppStateType} from \"../../Redux/ReduxStore\";\r\nimport {UserType} from \"../../Types/Types\";\r\nimport {PageHeader} from \"antd\";\r\nimport {HeartOutlined} from \"@ant-design/icons\";\r\n\r\ntype MapStateToPropsType = {\r\n    currentFriendPage: number\r\n    pageSize: number\r\n    friends: Array<UserType>\r\n    totalUsersCount: number\r\n    followIsProgressing: Array<number>\r\n    isFetching: boolean\r\n}\r\ntype MapDispatchToPropsType = {\r\n    FollowOrUnfollow: (userId: number, follow: boolean, isFriend: boolean) => void\r\n    setCurrentFriendPageAC: (FriendsPage:number) => setCurrentFriendPageACType\r\n    requestUsers: (currentPage: number, pageSize: number, friend: boolean, term: string) => void\r\n    setFilter: (friend: boolean, term: string) => setFilterType\r\n}\r\n\r\ntype OwnProps = {\r\n    title: string\r\n}\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & OwnProps\r\n\r\n\r\nclass FriendsContainerClass extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        let {currentFriendPage} = this.props\r\n        this.props.requestUsers(currentFriendPage, 9, true, '')\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFilter(false, '')\r\n    }\r\n\r\n    onPageChanged = (p: number) => {\r\n        this.props.requestUsers(p, 5, true, '')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <PageHeader title={<>{this.props.title} <HeartOutlined/></>}/>\r\n                <div><Friends {...this.props} onPageChanged={this.onPageChanged}/></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType):MapStateToPropsType => {\r\n    return {\r\n        friends: state.UsersPage.friends,\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: state.UsersPage.totalFriendsCount,\r\n        isFetching: getIsFetching(state),\r\n        followIsProgressing: getFollowIsProgressing(state),\r\n        currentFriendPage: state.UsersPage.currentFriendPage\r\n    }\r\n}\r\n\r\nconst {setCurrentFriendPageAC, setFilter} = {...UserActions}\r\n\r\nconst FriendsContainer: any =  compose(\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, OwnProps, AppStateType>(mapStateToProps, {requestUsers,\r\n        FollowOrUnfollow, setCurrentFriendPageAC, setFilter}),\r\n    withAuthRedirect\r\n)(FriendsContainerClass)\r\n\r\nexport default FriendsContainer","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Avatar, Badge, Comment, Tooltip} from \"antd\";\r\nimport styles from \"./DialogsPage.module.css\"\r\nimport moment from \"moment\";\r\nimport {DialogsType} from \"../../../Types/Types\";\r\nimport {MessageOutlined} from \"@ant-design/icons\";\r\n\r\ntype PropsType = {\r\n    Dialog: DialogsType\r\n}\r\n\r\nconst DialogItem: React.FC<PropsType> = ({Dialog}) => {\r\n    const UserDialogUrl: string = '/dialogs/' + Dialog.id\r\n    const ProfileUrl: string = '/profile/' + Dialog.id\r\n    return <div className={styles.DialogItem}>\r\n        <Comment\r\n            author={<NavLink to={ProfileUrl}>{Dialog.userName}</NavLink>}\r\n            avatar={\r\n                <NavLink to={ProfileUrl}>\r\n                    <Avatar\r\n                        src={Dialog.photos.large}\r\n                    />\r\n                </NavLink>\r\n            }\r\n            content={\r\n                <NavLink to={UserDialogUrl}>\r\n                <div className={styles.Content}>\r\n                    <p className = {styles.DialogBody}>\r\n                        <Badge  style={{ backgroundColor: Dialog.newMessagesCount === 0? 'blue': 'red'}} showZero count={Dialog.newMessagesCount}><MessageOutlined/> &nbsp;</Badge>\r\n\r\n                    </p>\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span className={styles.Date}>{Dialog.lastDialogActivityDate.substring(0, 10)}</span>\r\n                    </Tooltip>\r\n                </div>\r\n               </NavLink>\r\n            }\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default DialogItem","import React, {useEffect} from \"react\"\r\nimport DialogItem from \"./DialogItem\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {DialogsActions} from \"../../../Redux/Reducers/DialogsReducer\";\r\nimport {AppStateType} from \"../../../Redux/ReduxStore\";\r\nimport styles from \"./DialogsPage.module.css\"\r\nimport {withAuthRedirect} from \"../../../HOC/withAuthRedirect\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {Button, PageHeader} from \"antd\";\r\nimport {CommentOutlined, MailOutlined} from \"@ant-design/icons\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {ActivateSagasActions} from \"../../../Redux/Sagas/DialogsSagas\";\r\n\r\nconst DialogsPage = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(ActivateSagasActions.ShowDialogsAC())\r\n        dispatch(DialogsActions.SetCurrentPage(1))\r\n    }, [dispatch])\r\n    const DialogsData = useSelector((state: AppStateType) => state.DialogsPage.DialogsData)\r\n    const DialogsComponentsArray = DialogsData?.map(d => <DialogItem Dialog={d}/>)\r\n    if (!DialogsData) return <Preloader/>\r\n    return <div className={styles.DialogsPage}>\r\n        <PageHeader title={<>Dialogs <MailOutlined/></>}/>\r\n        <NavLink to={'/chat'}><Button type={\"link\"} icon={<CommentOutlined/>}>Go to common chat</Button></NavLink>\r\n        {DialogsComponentsArray}\r\n    </div>\r\n}\r\n\r\nexport default withAuthRedirect(DialogsPage)","import React, {useState} from \"react\";\r\nimport styles from \"./MessagesPage.module.css\";\r\nimport {Button, Comment, Tooltip} from \"antd\";\r\nimport moment from \"moment\";\r\nimport {MessagesType} from \"../../../Types/Types\";\r\nimport {EditOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActivateSagasActions} from \"../../../Redux/Sagas/DialogsSagas\";\r\n\r\n\r\n\r\ntype PropsType = {\r\n    Message: MessagesType\r\n}\r\n\r\nconst MyMessage: React.FC<PropsType> = ({Message}) => {\r\n    let [DeleteMode, setDeleteMode] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const DeleteMessageF = () => {\r\n        dispatch( ActivateSagasActions.DeleteMessageAC(Message.id, String(Message.recipientId), '1'))\r\n    }\r\n    return <div className={ Message.viewed? styles.MyMessage:styles.NotViewed}>\r\n        <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n            <span className = {styles.MyMessageDate}>{Message.addedAt.substring(0, 10)}</span>\r\n        </Tooltip>\r\n        <Comment\r\n            content={\r\n                <p className={styles.MessagesBody} onMouseMove={() => setDeleteMode(true)}\r\n                   onMouseLeave={() => setDeleteMode(false)}>\r\n                    {Message.body}\r\n                    {DeleteMode && <Button className = {styles.DeleteButton}\r\n                                           icon={<EditOutlined/>} onClick={DeleteMessageF}>Delete</Button>}\r\n                </p>\r\n            }\r\n        />\r\n\r\n    </div>\r\n}\r\n\r\nexport default MyMessage","import React, {useState} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Comment, Tooltip, Avatar} from \"antd\";\r\nimport 'antd/dist/antd.css';\r\nimport moment from \"moment\";\r\nimport styles from \"./MessagesPage.module.css\";\r\nimport {MessagesType} from \"../../../Types/Types\";\r\n\r\ntype PropsType = {\r\n    Message: MessagesType\r\n    FriendAvatar: string\r\n}\r\n\r\nconst Message: React.FC<PropsType> = ({Message,FriendAvatar}) => {\r\n    const ProfileUrl: string = '/profile/' + Message.senderId\r\n    return <div className={styles.Message}>\r\n        <Comment\r\n            avatar={\r\n                <Avatar src={FriendAvatar}/>\r\n            }\r\n            author={<NavLink to={ProfileUrl}><span className={styles.MessagesAuthor}>{Message.senderName}</span></NavLink>}\r\n            content={\r\n                <p className={styles.MessagesBody}>\r\n                    {Message.body}\r\n                </p>\r\n            }\r\n            datetime={\r\n                <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                    <span>{Message.addedAt.substring(0, 10)}</span>\r\n                </Tooltip>\r\n            }\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default Message","import React, {useEffect} from \"react\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {DialogsActions} from \"../../../Redux/Reducers/DialogsReducer\";\r\nimport {AppStateType} from \"../../../Redux/ReduxStore\";\r\nimport styles from \"./MessagesPage.module.css\"\r\nimport MyMessage from \"./MyMessage\";\r\nimport Message from \"./Message\";\r\nimport {getProfile} from \"../../../Redux/Reducers/ProfileReducer\";\r\nimport {Button, Form} from \"antd\";\r\nimport TextArea from \"antd/es/input/TextArea\";\r\nimport queryString from \"querystring\";\r\nimport {Paginator} from \"../../Common/Paginator/Paginator\";\r\nimport {CheckOutlined, CloseOutlined} from \"@ant-design/icons\";\r\nimport {withAuthRedirect} from \"../../../HOC/withAuthRedirect\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {ActivateSagasActions} from \"../../../Redux/Sagas/DialogsSagas\";\r\n\r\n\r\ntype ParamsType = {\r\n    dialogId: string\r\n}\r\n\r\nconst MessagesPage: React.FC = () => {\r\n    const CurrentMessagePage = useSelector((state: AppStateType) => state.DialogsPage.CurrentMessagePage)\r\n    const history = useHistory()\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch()\r\n    const {dialogId} = useParams() as ParamsType\r\n    useEffect(() => {\r\n        dispatch(getProfile(dialogId))\r\n    }, [dialogId, dispatch])\r\n\r\n    useEffect(() => {\r\n        const query: any = {}\r\n        if (CurrentMessagePage !== 1) query.page = String(CurrentMessagePage)\r\n        history.push({\r\n            pathname: '/dialogs/' + dialogId + '/messages',\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [CurrentMessagePage])\r\n\r\n    useEffect(() => {\r\n        const parsed: any = queryString.parse(history.location.search.substr(1))\r\n        let actualPage = parsed.page? parsed.page : 1\r\n        dispatch(ActivateSagasActions.ShowMessagesAC(dialogId, actualPage))\r\n    },[history.location.search])\r\n\r\n\r\n    const FriendAvatar = useSelector((state: AppStateType) => state.ProfilePage.ProfileInfo?.photos.large)\r\n    const FriendId = useSelector((state: AppStateType) => state.ProfilePage.ProfileInfo?.userId)\r\n    const CurrentUserId = useSelector((state: AppStateType) => state.Auth.CurrentUserId)\r\n    const MessagesData = useSelector((state: AppStateType) => state.DialogsPage.MessagesData)\r\n    const TotalMessagesItems = useSelector((state: AppStateType) => state.DialogsPage.TotalMessagesItems)\r\n\r\n\r\n    const MessagesComponentsArray = MessagesData?.map(m => {\r\n        if (CurrentUserId === m.senderId){\r\n            return <MyMessage Message={m} key={m.id}/>\r\n        }\r\n        else {\r\n            return <Message Message={m} FriendAvatar={FriendAvatar? FriendAvatar : ''}/>\r\n        }\r\n\r\n    })\r\n    const onFinish = (values: {send_message_textarea: string}) => {\r\n        dispatch( ActivateSagasActions.SendMessageAC(String(FriendId), values.send_message_textarea))\r\n        form.resetFields();\r\n    }\r\n    const onReset = () => {\r\n        form.resetFields();\r\n    };\r\n    const onPageChanged = (page: number) => {\r\n\r\n        dispatch( ActivateSagasActions.ShowMessagesAC(dialogId, String(page)))\r\n    }\r\n    if (!MessagesData) return <Preloader/>\r\n    return <div className = {styles.MessagesPage}>\r\n        <Paginator onPageChanged={onPageChanged}\r\n                   totalItems={TotalMessagesItems}\r\n                   pageSize={10}\r\n                   currentPage={CurrentMessagePage}\r\n                   currentPageAc={DialogsActions.SetCurrentPage}/>\r\n        {MessagesComponentsArray}\r\n        <Form name = \"send_message_form\" onFinish={onFinish} form = {form}>\r\n            <Form.Item name = \"send_message_textarea\" rules={[\r\n                {required: true, message: 'Please input message!'},\r\n            ]}>\r\n                <TextArea/>\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Button icon={<CheckOutlined/>} htmlType=\"submit\">Send</Button>\r\n                <Button icon={<CloseOutlined/>} htmlType=\"button\" onClick={onReset}>\r\n                    Reset\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    </div>\r\n}\r\n\r\nexport default withAuthRedirect(MessagesPage)\r\n\r\n\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport styles from \"./Menu.module.css\"\r\nimport {LaptopOutlined, NotificationOutlined, UserOutlined} from \"@ant-design/icons\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport {Layout, Menu} from 'antd';\r\nconst {Sider} = Layout;\r\n\r\nconst {SubMenu} = Menu;\r\n\r\nexport const AppMenu: React.FC<{ isAuth: boolean }> = ({isAuth}) => {\r\n    const history = useHistory()\r\n    const [CurrentPage, SetCurrentPage] = useState('')\r\n    useEffect(() => {\r\n        let page = history.location.pathname.split('/')[1]\r\n        if (page === 'dialogs') page = 'dialogs_page'\r\n        SetCurrentPage(page)\r\n    }, [history.location.pathname])\r\n    return <Sider className={styles.Sider}>\r\n        <div className={styles.MenuBlock}>\r\n            <Menu\r\n                className={styles.Menu}\r\n                mode=\"inline\"\r\n                selectedKeys={[CurrentPage]}\r\n                defaultOpenKeys={['sub1', 'sub2', 'sub3']}\r\n            >\r\n                <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"Profile\">\r\n                    <Menu.Item key=\"profile\"><NavLink exact to='/profile'>Profile</NavLink></Menu.Item>\r\n                    <Menu.Item key=\"friends\"><NavLink to='/friends'>Friends</NavLink></Menu.Item>\r\n                    <Menu.Item key=\"music\"><NavLink to='/music'>Music</NavLink></Menu.Item>\r\n                    <Menu.Item key=\"dialogs_page\"><NavLink to='/dialogs_page'>Messages</NavLink></Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Social\">\r\n                    <Menu.Item key=\"users\"><NavLink to='/users'>Find Users</NavLink></Menu.Item>\r\n                    <Menu.Item key=\"news\"><NavLink to='/news'>News</NavLink></Menu.Item>\r\n                    <Menu.Item key=\"chat\"><NavLink to='/chat'>Common Chat</NavLink></Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"Other\">\r\n                    <Menu.Item key=\"settings\"><NavLink to='/settings'> Settings</NavLink></Menu.Item>\r\n                    {isAuth && <Menu.Item key=\"exit\"><NavLink to='/exit'> Exit</NavLink></Menu.Item>}\r\n                </SubMenu>\r\n            </Menu>\r\n        </div>\r\n    </Sider>\r\n}","import 'antd/dist/antd.css';\r\nimport {Layout, Menu} from 'antd';\r\n\r\nimport React from \"react\";\r\nimport styles from \"./App.module.css\"\r\nimport store, {AppStateType} from \"./Redux/ReduxStore\";\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializedApp, setGlobalError} from \"./Redux/Reducers/AppReducer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport AppPreloader from \"./Components/Common/Preloader/AppPreloader\";\r\nimport {withSuspense} from \"./HOC/withSuspense\";\r\nimport FriendsContainer from \"./Components/Friends/FriendsContainer\";\r\nimport DialogsPage from \"./Components/Dialogs/DialogsPage/DialogsPage\";\r\nimport MessagesPage from \"./Components/Dialogs/MessagesPage/MessagesPage\";\r\nimport {Footer} from \"antd/es/layout/layout\";\r\nimport {AppMenu} from \"./Components/LayOuts/Menu/Menu\";\r\n\r\n\r\nconst Music = React.lazy(() => import(\"./Components/Music/Music\"));\r\nconst UsersPage = React.lazy(() => import(\"./Components/Users/UsersContainer\"));\r\nconst Login = React.lazy(() => import(\"./Components/Login/Login\"));\r\nconst Settings = React.lazy(() => import(\"./Components/Settings/Settings\"));\r\nconst NewsPage = React.lazy(() => import(\"./Components/News/NewsPage\"));\r\nconst UserExit = React.lazy(() => import(\"./Components/Common/Exit\"));\r\nconst ChatPage = React.lazy(() => import(\"./Components/Dialogs/ChatPage/ChatPage\"));\r\nconst {Header, Content} = Layout;\r\n\r\ntype MapStateToPropsType = {\r\n    initialized: boolean\r\n    globalError: string | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchToPropsType = {\r\n    initializedApp: () => void\r\n    setGlobalError: (error: string | null) => void\r\n}\r\ntype AppPropsType = MapDispatchToPropsType & MapStateToPropsType\r\n\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n    catchAllErrors = (data: any) => {\r\n        if (data.reason.response) {\r\n            let httpCode = data.reason.response.status\r\n            let errorMessage = data.reason.response.data.message ? data.reason.response.data.message : ''\r\n            this.props.setGlobalError('Error: ' + httpCode + ' ' + errorMessage)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializedApp()\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <AppPreloader/>\r\n        }\r\n        return <LayOut globalError={this.props.globalError} isAuth={this.props.isAuth}/>\r\n\r\n    }\r\n}\r\n\r\n\r\ntype LayOutProps = {\r\n    globalError: string | null\r\n    isAuth: boolean\r\n}\r\nconst LayOut: React.FC<LayOutProps> = (props) => {\r\n    return <Layout>\r\n        <Header className={styles.Header}>\r\n            <HeaderContainer/>\r\n        </Header>\r\n        <Layout>\r\n            <AppMenu isAuth={props.isAuth}/>\r\n            <Layout style={{padding: '0 24px 24px'}}>\r\n                <Content className={styles.site_layout_content}>\r\n                    <SuspenseMainContent globalError={props.globalError}/>\r\n                </Content>\r\n            </Layout>\r\n        </Layout>\r\n        <Footer className={styles.Footer}>\r\n            Social Network 2021 Created by Ilia\r\n        </Footer>\r\n    </Layout>\r\n}\r\n\r\n\r\nconst MainContent: React.FC<{ globalError: string | null }> = (props) => {\r\n    return <div className={styles.appWrapperContent}>\r\n        {props.globalError && <div className={styles.globalError}>{props.globalError}</div>}\r\n        <Switch>\r\n            <Route path='/exit' render={() => <UserExit/>}/>\r\n            <Route path='/dialogs_page' render={() => <DialogsPage/>}/>\r\n            <Route path='/dialogs/:dialogId?' render={() => <MessagesPage/>}/>\r\n            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n            <Route path='/users' render={() => <UsersPage title={'Users'}/>}/>\r\n            <Route path='/news' render={() => <NewsPage/>}/>\r\n            <Route path='/settings' render={() => <Settings/>}/>\r\n            <Route path='/music' render={() => <Music/>}/>\r\n            <Route path='/login' render={() => <Login/>}/>\r\n            <Route path='/friends' render={() => <FriendsContainer title={'Friends'}/>}/>\r\n            <Route path='/chat' render={() => <ChatPage/>}/>\r\n            <Redirect exact from=\"/\" to=\"/profile\"/>\r\n            <Route path='/*' render={() => <div>404 NOT FOUND</div>}/>\r\n        </Switch>\r\n    </div>\r\n}\r\nconst SuspenseMainContent = withSuspense(MainContent)\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    initialized: state.App.initialized,\r\n    globalError: state.App.globalError,\r\n    isAuth: state.Auth.isAuth,\r\n})\r\nconst AppContainer: any = compose(\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {\r\n        initializedApp,\r\n        setGlobalError\r\n    }),\r\n    withRouter\r\n)(App)\r\n\r\nconst FirstReactApp = () => {\r\n    return <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>\r\n}\r\n\r\n\r\nexport default FirstReactApp\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport FirstReactApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n        <FirstReactApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\nserviceWorker.unregister();\r\n","\r\n\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n}\r\nexport type PostType = {\r\n    message: string\r\n    id: number\r\n    likecount: number\r\n}\r\nexport type ContactsType = {\r\n    [key: string]: string;\r\n    [key: number]: string;\r\n    ['github']: string\r\n    ['vk']: string\r\n    ['facebook']: string\r\n    ['instagram']: string\r\n    ['twitter']: string\r\n    ['website']: string\r\n    ['youtube']: string\r\n    ['mainLink']: string\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number\r\n    aboutMe: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}\r\nexport type DialogsType = {\r\n    hasNewMessages: boolean\r\n    id: number\r\n    lastDialogActivityDate: string\r\n    lastUserActivityDate: string\r\n    newMessagesCount: number\r\n    photos: PhotosType\r\n    userName: string\r\n}\r\nexport type MessagesType = {\r\n    addedAt: string\r\n    body: string\r\n    id: string\r\n    recipientId: number\r\n    senderId: number\r\n    senderName: string\r\n    translatedBody: null\r\n    viewed: boolean\r\n}\r\n\r\nexport type ChatMessageType = {\r\n    photo: string\r\n    userName: string\r\n    message: string\r\n    userId: number\r\n}\r\n\r\nexport type WSStatusType =  'OPENED' | 'CLOSED' | 'PENDING' | 'ERROR'\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type NullableType<MT> = null | MT\r\n\r\ntype PropertiesType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type ActionsType<T extends {[key: string]: (...arg: any[]) => any} > = ReturnType<PropertiesType<T>>\r\n\r\nexport type ActionsConstantsType<T extends {[key: string]: (...arg: any[]) => any}> = ActionsType<T> extends {[key: string] : infer U} ? U: never\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessagesBody\":\"MessagesPage_MessagesBody__2kwxv\",\"NotViewed\":\"MessagesPage_NotViewed__-K5Wm\",\"MessagesAuthor\":\"MessagesPage_MessagesAuthor__3-kEP\",\"Message\":\"MessagesPage_Message__2L52K\",\"MyMessage\":\"MessagesPage_MyMessage__22xBu\",\"MyMessageDate\":\"MessagesPage_MyMessageDate__2eqNE\",\"DeleteButton\":\"MessagesPage_DeleteButton__1dZd3\",\"MessagesPage\":\"MessagesPage_MessagesPage__3-kHs\"};","import {UserAPI} from \"../../Api/Api\";\r\nimport {ActionsType, ResultCodesEnum, UserType} from \"../../Types/Types\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../ReduxStore\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\n\r\nlet InitialState = {\r\n    users: [] as Array<UserType>,\r\n    friends: [] as Array<UserType>,\r\n    pageSize: 7,\r\n    totalUsersCount: 19,\r\n    totalFriendsCount: 3,\r\n    isFetching: false,\r\n    followIsProgressing: [] as Array<number>,\r\n    currentPage: 1,\r\n    currentFriendPage: 1,\r\n    filter: {\r\n        friend: false,\r\n        term: ''\r\n    }\r\n};\r\ntype InitialStateType = typeof InitialState\r\n\r\nconst UsersReducer = (state = InitialState, action: UsersActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_CURRENT_FRIEND_PAGE\":\r\n            return {\r\n                ...state,\r\n                currentFriendPage: action.FriendsPage\r\n            }\r\n        case \"SET_CURRENT_PAGE\":\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case \"FOLLOW_TOGGLE\":\r\n            let HelperUsersArray = (array: Array<UserType>) => {\r\n                return array.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: !u.followed}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n            if (action.isFriend) {\r\n                return {\r\n                    ...state,\r\n                    friends: HelperUsersArray(state.friends),\r\n                    users: HelperUsersArray(state.users)\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                users: HelperUsersArray(state.users)\r\n            }\r\n        case \"SET_USERS\":\r\n            if (action.isFriendsArray) {\r\n                return {\r\n                    ...state,\r\n                    friends: [...action.users],\r\n                    users: [...action.users]\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case \"SET_TOTAL_USERS_COUNT\":\r\n            if (action.isFriends) {\r\n                return {\r\n                    ...state,\r\n                    totalFriendsCount: action.totalUsersCount,\r\n                    totalUsersCount: action.totalUsersCount\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case \"SET_FETCHING\":\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case \"TOGGLE_FOLLOW_PROGRESSING\":\r\n            return {\r\n                ...state,\r\n                followIsProgressing: action.isProgressing\r\n                    ? [...state.followIsProgressing, action.userId]\r\n                    : state.followIsProgressing.filter(id => id !== action.userId)\r\n            }\r\n        case \"SET_FILTER\":\r\n            return {\r\n                ...state,\r\n                filter: {\r\n                    term: action.term,\r\n                    friend: action.friend\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, any, UsersActionsType>\r\ntype UsersActionsType = ActionsType<typeof UserActions>\r\n\r\nexport type setCurrentFriendPageACType = ReturnType<typeof UserActions.setCurrentFriendPageAC>\r\nexport type setCurrentPageACType = ReturnType<typeof UserActions.setCurrentPageAC>\r\nexport type setFilterType = ReturnType<typeof UserActions.setFilter>\r\n\r\nexport const UserActions = {\r\n    toggleFollowProgressing: (isProgressing: boolean, userId: number, isFriend: boolean) => ({\r\n        type: \"TOGGLE_FOLLOW_PROGRESSING\", isProgressing, userId, isFriend\r\n    } as const),\r\n    setCurrentFriendPageAC: (FriendsPage: number) => ({type: \"SET_CURRENT_FRIEND_PAGE\", FriendsPage} as const),\r\n    setCurrentPageAC: (page: number) => ({type: \"SET_CURRENT_PAGE\", page} as const),\r\n    toggleFollow: (userId: number, isFriend: boolean) => ({type: \"FOLLOW_TOGGLE\", userId, isFriend} as const),\r\n    setUsers: (users: Array<UserType>, isFriendsArray: boolean) => ({\r\n        type: \"SET_USERS\",\r\n        users,\r\n        isFriendsArray\r\n    } as const),\r\n    setTotalUsersCount: (totalUsersCount: number, isFriends = false) =>\r\n        ({type: \"SET_TOTAL_USERS_COUNT\", totalUsersCount, isFriends} as const),\r\n    setFetching: (isFetching: boolean) => ({type: \"SET_FETCHING\", isFetching} as const),\r\n    setFilter: (friend: boolean, term: string) => ({type: \"SET_FILTER\", friend, term} as const)\r\n\r\n}\r\n\r\n//Пример типизации санки через Dispatch<>\r\nexport const requestUsers = (currentPage: number, pageSize: number, friend = false, term = '') =>\r\n    async (dispatch: Dispatch<UsersActionsType>, getState: () => AppStateType) => {\r\n        dispatch(UserActions.setFetching(true))   //активируем крутилку\r\n        dispatch(UserActions.setFilter(friend, term))\r\n        dispatch(UserActions.setCurrentPageAC(currentPage))\r\n        let response = await UserAPI.getUsers(currentPage, pageSize, friend, term)\r\n        dispatch(UserActions.setFetching(false)) //снимаем крутилку\r\n        dispatch(UserActions.setUsers(response.items, friend)) //сетаем юзеров с респонса\r\n        dispatch(UserActions.setTotalUsersCount(response.totalCount, friend))//сетаем общее число юзеров\r\n\r\n    }\r\n//Пример типизации санки через ThunkAction<>\r\nexport const FollowOrUnfollow = (userId: number, follow: boolean, isFriend = false): ThunkType =>\r\n    async (dispatch, getState) => {\r\n        dispatch(UserActions.toggleFollowProgressing(true, userId, isFriend))\r\n        if (follow) {\r\n            let response = await UserAPI.followUser(userId)\r\n            if (response.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(UserActions.toggleFollow(userId, isFriend))\r\n            }\r\n        } else {\r\n            let response = await UserAPI.unfollowUser(userId)\r\n            if (response.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(UserActions.toggleFollow(userId, isFriend))\r\n            }\r\n        }\r\n        dispatch(UserActions.toggleFollowProgressing(false, userId, isFriend))\r\n    }\r\n\r\n\r\nexport default UsersReducer;","import {ActionsType, ChatMessageType, WSStatusType} from \"../../Types/Types\";\r\nimport {v1} from \"uuid\"\r\n\r\n\r\nlet InitialState = {\r\n    ChatMessages: [] as Array<ChatMessageTypeWithId>,\r\n    WSStatus: 'PENDING' as WSStatusType\r\n}\r\nexport type InitialStateType = typeof InitialState\r\nexport type ChatMessageTypeWithId = ChatMessageType & {id: string}\r\n\r\nconst ChatReducer = (state = InitialState, action: ChatActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_CHAT_MESSAGES\":\r\n            return {\r\n                ...state,\r\n                ChatMessages: [...state.ChatMessages, ...action.ChatMessages.map(m => ({...m, id: v1() }))]\r\n                    .filter((m, index, array) => index >= array.length - 100)//храним только первые 100 сообщений\r\n            }\r\n        case \"SET_WS_STATUS\":\r\n            return {\r\n                ...state,\r\n                WSStatus: action.WSStatus\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport type ChatActionsType = ActionsType<typeof ChatActions>\r\n\r\nexport const ChatActions = {\r\n    SetChatMessages: (ChatMessages: Array<ChatMessageType>) => ({type: \"SET_CHAT_MESSAGES\", ChatMessages} as const),\r\n    SetWSStatus: (WSStatus: WSStatusType) => ({type: 'SET_WS_STATUS', WSStatus} as const),\r\n}\r\n\r\nexport default ChatReducer","import {AuthAPI, UserAPI} from \"../../Api/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"../ReduxStore\";\r\nimport {ActionsType, NullableType, ResultCodesEnum} from \"../../Types/Types\";\r\nimport {Dispatch} from \"redux\";\r\nimport {requestUsers, setFilterType, UserActions} from \"./UsersReducer\";\r\n\r\n\r\nlet InitialState = {\r\n    CurrentUserId: null as NullableType<number>,\r\n    email: null as NullableType<string>,\r\n    login: null as NullableType<string>,\r\n    isAuth: false,\r\n    CurrentUserPhoto: null as NullableType<string>,\r\n    CaptchaImg: '',\r\n}\r\nexport type InitialStateType = typeof InitialState\r\n\r\nlet AuthReducer = (state = InitialState, action:AuthActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_AUTH_USER_DATA\":\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case \"SET_CURRENT_USER_PROFILE\":\r\n            return {\r\n                ...state,\r\n                CurrentUserPhoto: action.CurrentUserPhoto,\r\n            }\r\n        case \"SET_CAPTCHA_IMG\":\r\n            return {\r\n                ...state,\r\n                CaptchaImg: action.CaptchaImg\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, any, AuthActionsType | setFilterType>\r\ntype StopSubmitType = ReturnType<typeof stopSubmit>\r\ntype AuthActionsType = ActionsType<typeof AuthActions>\r\nexport type SetCurrentUserProfileActionType = {\r\n    type: \"SET_CURRENT_USER_PROFILE\"\r\n    CurrentUserPhoto: NullableType<string>\r\n}\r\n\r\nexport const AuthActions = {\r\n    SetAuthUserData: (CurrentUserId: null | number, email: null | string, login: null | string, isAuth: boolean)=> ({\r\n        type: \"SET_AUTH_USER_DATA\",\r\n        data: {CurrentUserId, email, login, isAuth},\r\n    } as const),\r\n   SetCurrentUserProfile:(CurrentUserPhoto: null | string) => ({\r\n        type: \"SET_CURRENT_USER_PROFILE\", CurrentUserPhoto} as const),\r\n    SetCaptchaImg: (CaptchaImg:string) => ({type: \"SET_CAPTCHA_IMG\", CaptchaImg} as const)\r\n}\r\n\r\n\r\nexport const authUser = () : ThunkType  =>\r\n    async (dispatch,getState) => {\r\n    let response = await AuthAPI.AuthUser()\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        let {id, email, login} = response.data\r\n        dispatch(AuthActions.SetAuthUserData(id, email, login, true))\r\n        let ProfileResponse = await UserAPI.getUserProfile(response.data.id)\r\n        dispatch(AuthActions.SetCurrentUserProfile(ProfileResponse.photos.large))\r\n        dispatch(requestUsers(1,10,true,''))\r\n        dispatch(UserActions.setFilter(false, ''))\r\n    }\r\n}\r\n\r\n\r\nexport const authLogin = (email: string, password: string, rememberMe: boolean,captcha: string) : ThunkAction<Promise<void>, AppStateType, any,\r\n    AuthActionsType | StopSubmitType> =>\r\n    async (dispatch,getState) => {\r\n    let data = await AuthAPI.AuthLogin(email, password, rememberMe,captcha)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(authUser())\r\n        dispatch(AuthActions.SetCaptchaImg(''))\r\n    }\r\n    else {\r\n        let errorMessage = data.messages.length > 0 ? data.messages[0] : 'Some error'\r\n        // if (errorMessage === 'Incorrect anti-bot symbols'){\r\n        //     dispatch(ActivateCaptcha())\r\n        // }\r\n        if (data.resultCode === ResultCodesEnum.CaptchaIsRequired){\r\n            dispatch(ActivateCaptcha())\r\n        }\r\n        dispatch(stopSubmit('login', {_error: errorMessage}))\r\n    }\r\n}\r\n\r\n\r\nexport const authLogOut = () : ThunkType =>\r\n    async (dispatch,getState) => {\r\n    let data = await AuthAPI.AuthLogOut()\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(AuthActions.SetAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const ActivateCaptcha = () =>\r\n    async (dispatch: Dispatch<AuthActionsType>) => {\r\n    let data = await AuthAPI.Captcha()\r\n    dispatch(AuthActions.SetCaptchaImg(data.url))\r\n}\r\n\r\n\r\nexport default AuthReducer","import React from \"react\";\r\nimport PreloaderLogo from '../../../accepts/images/Bean Eater-2s-200px.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst Preloader: React.FC = () => {\r\n    return <div>\r\n        <img className={s.Preloader} src={PreloaderLogo} alt = ''/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Preloader","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../Redux/ReduxStore\";\r\n\r\nlet mapStateToPropsForRedirect = (state:AppStateType) => {\r\n    return {\r\n        isAuth: state.Auth.isAuth\r\n    }\r\n}\r\nexport const withAuthRedirect = (Component:any) => {\r\n    class RedirectComponent extends React.Component<{isAuth:boolean}> {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={\"/login\"}/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","module.exports = __webpack_public_path__ + \"static/media/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.79eb8ca5.jpg\";","import React from \"react\";\r\nimport styles from './FormControl.module.css'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\nimport {Input} from \"antd\";\r\nimport TextArea from \"antd/es/input/TextArea\";\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <span>\r\n                {children}\r\n            </span>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const InputField: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><Input {...input} {...restProps}/></FormControl>\r\n}\r\nexport const TextareaField: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><TextArea {...input} {...restProps} allowClear/></FormControl>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const SpecialFormCreator = (Component: string) => ({input, meta, ...props}:any) => {\r\n    const hasError = meta.error && meta.touched\r\n    return <div className={styles.formControl + ' ' + (hasError?styles.error:'')}>\r\n        <div>\r\n            <Component {...input} {...props}/>\r\n        </div>\r\n        { hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport type SpecialFormType = ReturnType<typeof SpecialFormCreator>\r\n\r\n\r\n","import {Field} from \"redux-form\";\r\nimport React from \"react\";\r\nimport { ValidatorsType } from \"../../../Utils/Validators/validators\";\r\nimport {SpecialFormType} from \"./FormControl\";\r\n\r\nexport const FieldCreator = (name:string, validate: ValidatorsType, component: any, placeholder:string, props:any, text = '') => {\r\n    return <div>\r\n        {text}\r\n        <Field name={name} validate={validate} component={component} placeholder={placeholder} {...props}/>\r\n    </div>\r\n}\r\n","export const required = (value ='') => {\r\n    if (value) return undefined\r\n    return 'Field is required!';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value='')  => {\r\n    if (!value) {\r\n        return undefined\r\n    }\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}\r\n\r\n\r\ntype ValidatorType = (value: string) => string | undefined\r\n\r\nexport type ValidatorsType = (ValidatorType)[] | null\r\n\r\n"],"sourceRoot":""}