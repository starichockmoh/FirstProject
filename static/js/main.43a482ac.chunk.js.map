{"version":3,"sources":["Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Header/Header.module.css","Redux/Reducers/UsersReducer.js","Redux/Reducers/NewsReducer.js","Components/Navbar/Navbar.module.css","Api/Api.js","Components/Profile/ProfileInfo/ProfileInfo.module.css","Utils/Validators/validators.js","Components/Dialogs/Dialogs.module.css","Components/Common/FormsControls/FieldCreator.jsx","serviceWorker.js","Redux/Reducers/DialogsReducer.js","Utils/HelperStopSubmit.js","Redux/Reducers/ProfileReducer.js","Redux/Reducers/NavbarReducer.js","Redux/Reducers/AppReducer.js","Redux/ReduxStore.js","HOC/withSuspense.js","Components/Navbar/FrindsBar/FrindBar/FriendBar.jsx","Components/Navbar/FrindsBar/FriendsBar.jsx","Components/Navbar/FrindsBar/FriendsBarContainer.jsx","Components/Navbar/Navbar.jsx","Components/Dialogs/DialogItem/DialogItem.jsx","Components/Dialogs/Message/Message.jsx","Components/Dialogs/DialogsForm.jsx","Components/Dialogs/Dialogs.jsx","Components/Dialogs/DialogsContainer.jsx","Components/Profile/ProfileInfo/Status/StatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfoForm.jsx","Components/Profile/ProfileInfo/ProfileDescriptionBlock.jsx","Components/Profile/ProfileInfo/ProfilePhotoInputFile.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPostsForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx","Components/Header/HeaderProfile/HeaderProfile.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/Common/Preloader/AppPreloader.js","App.js","index.js","Redux/Reducers/AuthReducer.js","Components/Common/FormsControls/FormControl.js","Components/Common/FormsControls/FormControl.module.css","Components/Common/Preloader/Preloader.module.css","HOC/withAuthRedirect.js","accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg","accepts/images/Bean Eater-1s-200px.svg","Components/Navbar/FrindsBar/FrindBar/FriendBar.module.css","Components/Common/Preloader/Preloader.jsx"],"names":["module","exports","InitialState","users","pageSize","totalUsersCount","isFetching","followIsProgressing","currentPage","toggleFollowProgressing","isProgressing","userId","type","setCurrentPageAC","page","toggleFollow","setFetching","requestUsers","dispatch","a","UserAPI","getUsers","response","items","totalCount","FollowOrUnfollow","follow","followUser","resultCode","unfollowUser","UsersReducer","state","action","map","u","id","followed","filter","NewsPost","Text","Avtor","Img","NewsNewsText","addNewPost","addNewText","text","newText","NewsReducer","NewPost","Id","AxiosInstance","axios","withCredentials","headers","baseURL","AuthApi","AuthUser","get","then","data","AuthLogin","email","password","rememberMe","post","AuthLogOut","delete","getUserProfile","getProfileStatus","updateStatus","status","put","changeProfile","profile","changeMainPhoto","photo","formData","FormData","append","required","value","maxLengthCreator","maxLength","length","FieldCreator","name","validate","component","placeholder","props","Boolean","window","location","hostname","match","DialogsData","Name","OnOf","MessagesData","MyMessages","message","FriendMessages","DialogReducer","NewMes","HelperStopSubmit","errorMessages","ErrorsNames","error","newElement","split","substring","toLowerCase","ErrorObject","i","PostsData","likecount","ProfileInfo","ProfileStatus","setProfileStatus","updateProfilePhoto","getProfile","ProfileReducer","postId","photos","FriendsBarData","NavbarReducer","initialized","AppReducer","Reducers","combineReducers","DialogsPage","ProfilePage","NewsPage","NavbarPage","UsersPage","Auth","AuthReducer","form","formReducer","App","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Component","FriendBar","Online","className","s","src","activeClassName","active","to","FriendsBar","FrindElements","FriendsBarState","f","key","FriendsBarContainer","connect","Navbar","nav","item","exact","friendsBar","settings","DialogItem","React","memo","Dialog","Message","maxLength20","SpecialTextArea","SpecialFormCreator","MessageInputReduxForm","reduxForm","submitSucceeded","reset","onSubmit","handleSubmit","Dialogs","DialogsElements","DialogsState","d","MyMessagesElements","m","DialogsItem","Messages","align","NewMessage","dataForm","AddMessage","messageInput","withAuthRedirect","StatusWithHooks","useState","editMode","setEditeMode","setStatus","useEffect","IDisCurrent","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","UpdateProfileStatus","maxLength100","SpecialInput","ContactsProfileField","ProfileInfoInputReduxForm","Object","keys","initialValues","contacts","onClick","deactivateMode","someoneError","ContactsProfile","ContactTitle","ContactValue","href","ProfileDescriptionBlock","DescriptionBlock","activateMode","aboutMe","fullName","lookingForAJob","lookingForAJobDescription","ProfilePhotoInputFile","input__wrapper","onMainPhotoSelected","input__file","multiple","htmlFor","input__file_button","input__file_icon_wrapper","alt","width","input__file_button_text","ProfileEditMode","setProfileEditeMode","SubmitWasOk","Preloader","CurrentUserId","img1","large","UserPhoto","inputButton","target","files","saveMainPhoto","ProfileInfoForm","UpdateProfileInfo","Post","deleteProfilePost","Hr","maxLength30","PostInputReduxForm","MyPosts","console","log","PostsElements","PostsState","p","PostDescription","postInput","posts","MyPostsContainer","Profile","ProfileContainer","this","params","Promise","resolve","messages","stopSubmit","reject","SetCurrentUserProfile","withRouter","HeaderProfile","authLogOut","login","CurrentUserPhoto","Header","header","isAuth","HeaderContainer","AppPreloader","AppLoadingBlock","PreloaderLogo","Music","lazy","UsersContainer","Login","Friends","Settings","NewsContainer","initializedApp","SuspenseMainContent","path","render","DialogsContainer","fallback","AppContainer","authUser","FirstReactApp","StrictMode","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","SetAuthUserData","ProfileResponse","authLogin","errorMessage","_error","input","meta","hasError","touched","styles","formControl","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,gBAAkB,mC,oBCAnED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,GAAK,mB,oBCAjDD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,wB,0LCStDC,EAAe,CACfC,MAAO,GACPC,SAAU,GACVC,gBAAiB,GACjBC,YAAY,EACZC,oBAAqB,GACrBC,YAAa,GA+CJC,EAA0B,SAACC,EAAeC,GAAhB,MAA4B,CAC/DC,KA1D8B,kCA2D9BF,gBACAC,WAESE,EAAmB,SAACC,GAAD,MAAW,CAACF,KA7DnB,mBA6D0CE,SACtDC,EAAe,SAACJ,GAAD,MAAa,CAACC,KAnEpB,qBAmEyCD,WAGlDK,EAAc,SAACV,GAAD,MAAiB,CAACM,KAnExB,qBAmE4CN,eAGpDW,EAAe,SAACT,EAAaJ,GAAd,8CAA2B,WAAOc,GAAP,eAAAC,EAAA,6DACnDD,EAASF,GAAY,IAD8B,SAE9BI,IAAQC,SAASb,EAAaJ,GAFA,OAE/CkB,EAF+C,OAGnDJ,EAASF,GAAY,IACrBE,EATgC,CAACN,KAnEnB,YAmEoCT,MAShCmB,EAASC,QAC3BL,EAToD,CAACN,KAnE3B,wBAmEwDP,gBAStDiB,EAASE,aALc,2CAA3B,uDAQfC,EAAmB,SAACd,EAAOe,GAAR,8CAAmB,WAAOR,GAAP,SAAAC,EAAA,yDAC/CD,EAAST,GAAwB,EAAME,KACnCe,EAF2C,gCAGtBN,IAAQO,WAAWhB,GAHG,OAIf,IAJe,OAI9BiB,YACTV,EAASH,EAAaJ,IALiB,wCAOpBS,IAAQS,aAAalB,GAPD,QAQf,IARe,OAQ9BiB,YACTV,EAASH,EAAaJ,IATiB,QAW/CO,EAAST,GAAwB,EAAOE,IAXO,4CAAnB,uDAejBmB,IA/EM,WAAmC,IAAlCC,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCACnD,OAAQA,EAAOpB,MACX,IAdiB,mBAeb,OAAO,2BACAmB,GADP,IAEIvB,YAAawB,EAAOlB,OAE5B,IAxBc,qBAyBV,OAAO,2BACAiB,GADP,IAEI5B,MAAO4B,EAAM5B,MAAM8B,KAAI,SAAAC,GACnB,OAAIA,EAAEC,KAAOH,EAAOrB,OACT,2BAAIuB,GAAX,IAAcE,UAAWF,EAAEE,WAExBF,OAGnB,IAjCU,YAkCN,OAAO,2BACAH,GADP,IAEI5B,MAAM,YAAK6B,EAAO7B,SAE1B,IArCsB,wBAsClB,OAAO,2BACA4B,GADP,IAEI1B,gBAAiB2B,EAAO3B,kBAEhC,IAzCa,qBA0CT,OAAO,2BACA0B,GADP,IAEIzB,WAAY0B,EAAO1B,aAE3B,IA7C0B,kCA8CtB,OAAO,2BACAyB,GADP,IAEIxB,oBAAqByB,EAAOtB,cAAP,sBACXqB,EAAMxB,qBADK,CACgByB,EAAOrB,SACtCoB,EAAMxB,oBAAoB8B,QAAO,SAAAF,GAAE,OAAIA,IAAOH,EAAOrB,YAEnE,QACI,OAAOoB,K,wHCvDf7B,EAAe,CACfoC,SAAU,CACN,CAACC,KAAM,qLAAqCJ,GAAI,EAAGK,MAAO,kBAAmBC,IAAK,IAClF,CAACF,KAAM,qLAAqCJ,GAAI,EAAGK,MAAO,kBAAmBC,IAAK,IAClF,CAACF,KAAM,qLAAqCJ,GAAI,EAAGK,MAAO,kBAAmBC,IAAK,IAClF,CAACF,KAAM,qLAAqCJ,GAAI,EAAGK,MAAO,kBAAmBC,IAAK,IAClF,CAACF,KAAM,qLAAqCJ,GAAI,EAAGK,MAAO,kBAAmBC,IAAK,KAEtFC,aAAe,OA8BNC,EAAa,iBAAO,CAAC/B,KAzCjB,aA0CJgC,EAAa,SAACC,GAAD,MAAW,CACjCjC,KA5CgB,cA6ChBkC,QAASD,IAGEE,IAhCK,WAAmC,IAAlChB,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCAClD,OAAQA,EAAOpB,MACX,IAjBS,WAkBL,IAAIoC,EAAU,CACVT,KAAMR,EAAMW,aACZO,GAAI,EACJR,IAAK,GACLD,MAAO,SAEX,OAAO,2BACAT,GADP,IAEIW,aAAc,GACdJ,SAAS,GAAD,mBAAMP,EAAMO,UAAZ,CAAsBU,MAGtC,IA/BY,cAgCR,OAAO,2BACAjB,GADP,IAEIW,aAAcV,EAAOc,UAE7B,QACI,OAAOf,K,mBCpCnB/B,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,SAAW,yBAAyB,OAAS,uBAAuB,WAAa,6B,8ICCnJiD,EAAgBC,SAAa,CAC/BC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEfC,QAAS,iDAGAC,EAAU,CACnBC,SADmB,WAEf,OAAON,EAAcO,IAAd,WACFC,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAG5BC,UAPmB,SAOTC,EAAMC,EAASC,GACrB,OAAOb,EAAcc,KAAd,aAAiC,CAACH,QAAMC,WAASC,gBAE5DE,WAVmB,WAWf,OAAOf,EAAcc,KAAd,iBAKF5C,EAAU,CACnBC,SADmB,WACuB,IAAjCb,EAAgC,uDAAlB,EAAGJ,EAAe,uDAAJ,GACjC,OAAO8C,EAAcO,IAAd,qBAAgCjD,EAAhC,kBAAqDJ,IACvDsD,MAAK,SAAApC,GACE,OAAOA,EAASqC,SAIhChC,WARmB,SAQRhB,GACP,OAAOuC,EAAcc,KAAd,iBAA6BrD,IAC/B+C,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAI5B9B,aAfmB,SAeNlB,GACT,OAAOuC,EAAcgB,OAAd,iBAA+BvD,IACjC+C,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAG5BQ,eArBmB,SAqBJxD,GACX,OAAOuC,EAAcO,IAAd,kBAA6B9C,IAC/B+C,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAI5BS,iBA5BmB,SA4BFzD,GACb,OAAOuC,EAAcO,IAAd,yBAAoC9C,IACtC+C,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAG5BU,aAlCmB,SAkCLC,GACV,OAAOpB,EAAcqB,IAAd,kBAAoC,CAACD,OAAQA,KAExDE,cArCmB,SAqCL7D,EAAQ8D,GAClB,OAAOvB,EAAcqB,IAAd,uBAA6B5D,UAAW8D,IAC1Cf,MAAK,SAAApC,GACF,OAAOA,EAASqC,SAG5Be,gBA3CmB,SA2CHC,GACZ,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBzB,EAAcqB,IAAd,gBAAmCK,EAAU,CAChDvB,QAAQ,CACJ,eAAgB,4B,qGCzEhCrD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,iBAAmB,sCAAsC,SAAW,8BAA8B,YAAc,iCAAiC,eAAiB,oCAAoC,YAAc,iCAAiC,yBAA2B,8CAA8C,wBAA0B,6CAA6C,mBAAqB,0C,gCCD7c,oEAAO,IAAM8E,EAAW,SAAAC,GACpB,IAAIA,EACJ,MAAO,sBAGEC,EAAmB,SAACC,GAAD,OAAe,WAAgB,IAAfF,EAAc,uDAAR,GAClD,GAAKA,EAGL,OAAIA,EAAMG,OAASD,EAAiB,iBAAN,OAAwBA,EAAxB,iBAA9B,K,mBCRJlF,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,KAAO,sBAAsB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,wBAAwB,WAAa,4BAA4B,aAAe,gC,gCCD/T,8DAGamF,EAAe,SAACC,EAAMC,EAAUC,EAAWC,EAAaC,GAAsB,IAAf5C,EAAc,uDAAP,GAC/E,OAAO,6BACFA,EACD,kBAAC,IAAD,eAAOwC,KAAMA,EAAMC,SAAUA,EAAUC,UAAWA,EAAWC,YAAaA,GAAiBC,O,oFCM/EC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,mECfF5F,EAAe,CACX6F,YAAa,CACT,CACItD,IAAK,0EACLuD,KAAM,iCACN7D,GAAI,EACJ8D,KAAM,yJAEV,CACIxD,IAAK,kDACLuD,KAAM,uCACN7D,GAAI,EACJ8D,KAAM,yJAEV,CAACxD,IAAK,0DAA2DuD,KAAM,iCAAS7D,GAAI,EAAG8D,KAAM,MAC7F,CACIxD,IAAK,uKACLuD,KAAM,iCACN7D,GAAI,EACJ8D,KAAM,yJAEV,CACIxD,IAAK,6KACLuD,KAAM,iCACN7D,GAAI,EACJ8D,KAAM,yJAEV,CAACxD,IAAK,sCAAuCuD,KAAM,iCAAS7D,GAAI,EAAG8D,KAAM,MACzE,CACIxD,IAAK,sEACLuD,KAAM,6CACN7D,GAAI,EACJ8D,KAAM,MAEV,CACIxD,IAAK,uKACLuD,KAAM,2BACN7D,GAAI,EACJ8D,KAAM,MAEV,CACIxD,IAAK,iFACLuD,KAAM,yDACN7D,GAAI,EACJ8D,KAAM,MAEV,CACIxD,IAAK,wEACLuD,KAAM,gEACN7D,GAAI,GACJ8D,KAAM,yJAEV,CACIxD,IAAK,iOACLuD,KAAM,2BACN7D,GAAI,GACJ8D,KAAM,OAIdC,aAAc,CACVC,WAAY,CACR,CAACC,QAAS,iCAASjE,GAAI,GACvB,CAACiE,QAAS,6EAAkBjE,GAAI,IACjCkE,eAAgB,CACf,CAACD,QAAS,0DAAcjE,GAAI,OA6B7BmE,EAvBO,WAAmC,IAAlCvE,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCACpD,OAAQA,EAAOpB,MACX,IA5EY,sBA6ER,IAAI2F,EAAS,CACTH,QAASpE,EAAOoE,QAChBjE,GAAI,GAER,OAAO,2BACAJ,GADP,IAEImE,aAAa,2BACNnE,EAAMmE,cADD,IAERC,WAAW,GAAD,mBAAMpE,EAAMmE,aAAaC,YAAzB,CAAoCI,QAI1D,QACI,OAAOxE,I,gDC1FNyE,EAAmB,SAACC,GAM7B,IALA,IAAIC,EAAcD,EAAcxE,KAAI,SAAA0E,GAChC,IAAIC,EAAaD,EAAME,MAAM,MAAM,GACnC,OAAOD,EAAWE,UAAU,EAAGF,EAAWzB,OAAS,GAAG4B,iBAEtDC,EAAc,GACTC,EAAI,EAAGA,EAAIR,EAActB,OAAQ8B,IACtCD,EAAYN,EAAYO,IAAMR,EAAcQ,GAEhD,OAAOD,GCKP9G,EAAe,CACfgH,UAAW,CACP,CAACd,QAAS,cAAejE,GAAI,EAAGgF,UAAW,MAC3C,CAACf,QAAS,QAASjE,GAAI,EAAGgF,UAAW,MAEzCC,YAAa,KACbC,cAAe,GACf/G,YAAY,GAqDHgH,EAAmB,SAAChD,GAAD,MAAa,CAAC1D,KAlEX,6BAkE6C0D,WAC1EiD,EAAqB,SAAC5C,GAAD,MAAY,CAAC/D,KAjEX,uBAiEuC+D,UA2BvD6C,EAAa,SAAC7G,GAAD,8CAAY,WAAOO,GAAP,eAAAC,EAAA,sEACbC,IAAQ+C,eAAexD,GADV,OAC9BW,EAD8B,OAElCJ,EA/BwC,CAACN,KAlEjB,sBAkE4CwG,YA+BhD9F,IAFc,2CAAZ,uDAeXmG,EA5FQ,WAAmC,IAAlC1F,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCACrD,OAAQA,EAAOpB,MACX,IAlBoB,sBAmBhB,OAAO,2BACAmB,GADP,IAEImF,UAAWnF,EAAMmF,UAAU7E,QAAO,SAAAH,GAAC,OAAIA,EAAEC,KAAOH,EAAO0F,YAI/D,IA5BiB,mBA6Bb,IAAI1E,EAAU,CACVoD,QAASpE,EAAOgC,KAChB7B,GAAI,EACJgF,UAAW,KAEf,OAAO,2BACApF,GADP,IAEImF,UAAU,GAAD,mBAAMnF,EAAMmF,WAAZ,CAAuBlE,MAGxC,IAtCoB,sBAuChB,OAAO,2BACAjB,GADP,IAEIqF,YAAapF,EAAOoF,cAE5B,IA1C2B,6BA2CvB,OAAO,2BACArF,GADP,IAEIsF,cAAerF,EAAOsC,SAE9B,IA7CqB,uBA8CjB,OAAO,2BACAvC,GADP,IAEIqF,YAAY,2BAAKrF,EAAMqF,aAAZ,IAAwBO,OAAO,eAAK3F,EAAO2C,WAE9D,IAjDiC,mCAkD7B,OAAO,2BACA5C,GADP,IAEIzB,YAAayB,EAAMzB,aAG3B,QACI,OAAOyB,I,SCnEf7B,EAAe,CACf0H,eAAgB,CACZ,CACInF,IAAK,0EACLuD,KAAM,QACNC,KAAM,wJACN9D,GAAI,IAER,CACIM,IAAK,0EACLuD,KAAM,QACNC,KAAM,KACN9D,GAAI,IAER,CACIM,IAAK,+EACLuD,KAAM,QACNC,KAAM,wJACN9D,GAAI,MASD0F,EAJO,WAAiC,IAAhC9F,EAA+B,uDAAvB7B,EAC3B,OAAO6B,G,2BCnBP7B,EAAe,CACf4H,aAAa,GA4BFC,EAzBE,WAAmC,IAAlChG,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCAC/C,OAAQA,EAAOpB,MACX,IARoB,0BAShB,OAAO,2BACAmB,GADP,IAEI+F,aAAa,IAErB,QACI,OAAO/F,ICLfiG,EAAWC,YAAgB,CAC3BC,YAAc5B,EACd6B,YAAaV,EACbW,SAAUrF,IACVsF,WAAYR,EACZS,UAAWxG,IACXyG,KAAMC,IACNC,KAAMC,IACNC,IAAKZ,IAGHa,EAAmBjD,OAAOkD,sCAAwCC,IAClEC,EAAQC,YAAYhB,EAAUY,EAAiBK,YAAgBC,OAEtDH,IAEfpD,OAAOwD,UAAYJ,E,ICzBUK,E,0DCYdC,EAXG,SAAC5D,GACf,IAAItD,EAAK,YAAcsD,EAAMtD,GACzBmH,EAAwB,MAAd7D,EAAMQ,KAAgB,GAAI,yBAAKsD,UAAWC,IAAEvD,KAAMwD,IAAMhE,EAAMQ,OAC5E,OACI,yBAAKsD,UAAWC,IAAEH,WACd,yBAAKI,IAAMhE,EAAMhD,MACjB,kBAAC,IAAD,CAASiH,gBAAiBF,IAAEG,OAAQC,GAAIzH,GAAxC,IAA8CsD,EAAMO,KAApD,IAA2DsD,EAA3D,OCAGO,EAPI,SAACpE,GAChB,IAAIqE,EAAgBrE,EAAMsE,gBAAgB9H,KAAI,SAAA+H,GAAC,OAAI,kBAAC,EAAD,CAAWC,IAAOD,EAAE7H,GAAIM,IAAOuH,EAAEvH,IAAKuD,KAAOgE,EAAEhE,KAAMC,KAAQ+D,EAAE/D,KAAM9D,GAAM6H,EAAE7H,QAChI,OACI,iCAAO2H,EAAP,MCMOI,EAFaC,aANN,SAACpI,GACnB,MAAO,CACHgI,gBAAiBhI,EAAMsG,WAAWT,kBAIW,KAAzBuC,CAA+BN,GCU5CO,EAdA,SAAC3E,GACZ,OAAQ,yBAAK8D,UAAYC,IAAEa,KACnB,yBAAKd,UAAYC,IAAEc,MAAnB,KAA2B,kBAAE,IAAF,CAAUZ,gBAAiBF,IAAEG,OAAQY,OAAK,EAACX,GAAI,KAA/C,aAC3B,yBAAKL,UAAYC,IAAEc,MAAnB,IAA0B,kBAAC,IAAD,CAASZ,gBAAiBF,IAAEG,OAAQC,GAAI,YAAxC,cAA1B,KACA,yBAAKL,UAAWC,IAAEc,MAAlB,IAAyB,kBAAC,IAAD,CAASZ,gBAAiBF,IAAEG,OAAQC,GAAK,SAAzC,UAAzB,KACA,yBAAKL,UAAWC,IAAEc,MAAlB,IAAyB,kBAAC,IAAD,CAASZ,gBAAiBF,IAAEG,OAAQC,GAAG,UAAvC,WAAzB,KACA,yBAAKL,UAAYC,IAAEc,MAAnB,IAA0B,kBAAC,IAAD,CAASZ,gBAAiBF,IAAEG,OAAOC,GAAI,YAAvC,aAA1B,KACA,yBAAKL,UAAYC,IAAEc,MAAnB,IAA0B,kBAAC,IAAD,CAASZ,gBAAiBF,IAAEG,OAAOC,GAAI,UAAvC,gBAA1B,KACA,yBAAKL,UAAYC,IAAEgB,YAAnB,IAAgC,kBAAC,EAAD,MAAhC,KACA,yBAAKjB,UAAYC,IAAEiB,UAAnB,IAA8B,kBAAC,IAAD,CAASf,gBAAiBF,IAAEG,OAAOC,GAAI,aAAvC,eAA9B,O,iBCHGc,GARIC,IAAMC,MAAK,SAAAnF,GAC1B,IAAItD,EAAK,YAAcsD,EAAMtD,GACzBmH,EAAwB,MAAd7D,EAAMQ,KAAgB,GAAI,yBAAKsD,UAAWC,IAAEvD,KAAMwD,IAAMhE,EAAMQ,OAC5E,OACI,yBAAKsD,UAAWC,IAAEqB,QAAQ,kBAAC,IAAD,CAASnB,gBAAiBF,IAAEG,OAAQC,GAAIzH,GAAxC,IAA6C,yBAAKsH,IAAKhE,EAAMhD,MAA7D,KAAuEgD,EAAMO,KAA7E,IAAoFsD,EAApF,SCAnBwB,GALCH,IAAMC,MAAK,SAAAnF,GACvB,OAAQ,yBAAK8D,UAAWC,IAAEsB,SAAUrF,EAAMW,Y,qCCE1C2E,GAAc9F,aAAiB,IAC7B+F,GAAkBC,aAAmB,YAc5BC,GAFeC,aAAU,CAAC1C,KAAM,kBAAjB0C,EAVL,SAAC1F,GAItB,OAHIA,EAAM2F,iBACN3F,EAAM4F,QAEH,0BAAMC,SAAU7F,EAAM8F,cACxBnG,aAAa,eAAgB,CAACL,KAASgG,IAAcC,GAAiB,gBAAiB,MACxF,2CCgBOQ,GAzBC,SAAC/F,GACb,IAAIgG,EAAkBhG,EAAMiG,aAAa3F,YAAY9D,KAAI,SAAA0J,GAAC,OAAI,kBAAC,GAAD,CAAY1B,IAAO0B,EAAExJ,GAAIM,IAAKkJ,EAAElJ,IAAKuD,KAAM2F,EAAE3F,KAAM7D,GAAIwJ,EAAExJ,GAAI8D,KAAM0F,EAAE1F,UAC/H2F,EAAqBnG,EAAMiG,aAAaxF,aAAaC,WAAWlE,KAAI,SAAA4J,GAAC,OAAI,kBAAC,GAAD,CAAS5B,IAAO4B,EAAE1J,GAAIiE,QAASyF,EAAEzF,QAASjE,GAAI0J,EAAE1J,QAK7H,OACI,yBAAKoH,UAAWC,IAAEgC,SACd,yBAAKjC,UAAWC,IAAEsC,aACbL,GAEL,yBAAKlC,UAAWC,IAAEuC,UACd,6BAAMH,GACN,yBAAKI,MAAM,UAEX,yBAAKA,MAAM,QAAQzC,UAAWC,IAAEyC,YAC5B,kBAAC,GAAD,CAAuBX,SAbpB,SAACY,GAChBzG,EAAM0G,WAAWD,EAASE,qB,SCGnBtD,eACXqB,aAPkB,SAACpI,GACnB,MAAO,CACH2J,aAAc3J,EAAMmG,eAKC,CAACiE,Wf+EJ,SAAC/F,GAAD,MAAc,CAACxF,KA9FrB,sBA8FwCwF,ce9ExDiG,KAFWvD,CAGb0C,I,+ECqBac,GAnCS,SAAC7G,GAAW,IAAD,EACA8G,oBAAS,GADT,oBAC1BC,EAD0B,KAChBC,EADgB,OAELF,mBAAS9G,EAAM4B,eAFV,oBAE1B/C,EAF0B,KAElBoI,EAFkB,KAI/BC,qBAAU,WACND,EAAUjH,EAAM4B,iBAClB,CAAC5B,EAAM4B,gBAYT,OAAI5B,EAAMmH,YAEH,qCACDJ,GACF,6BAAK,0BAAMK,cAdS,WAChBJ,GAAa,KAaZ,WAA6C,8BAAOhH,EAAM4B,iBAC9DmF,GACD,6BAAK,2BAAOM,SATU,SAACC,GACnBL,EAAUK,EAAEC,cAAchI,QAQWiI,WAAW,EAAMC,OAbrC,WACrBT,GAAa,GACbhH,EAAM0H,oBAAoB7I,IAYdU,MAAOV,MAGZ,oCACH,6BAAK,yCAAc,8BAAOmB,EAAM4B,mB,oBCzBxC+F,GAAenI,aAAiB,KAC9B+F,GAAkBC,aAAmB,YACrCoC,GAAepC,aAAmB,SAmBlCqC,GAAuB,SAAC,GAAY,IAAXjI,EAAU,EAAVA,KAC3B,OAAO,6BACFD,aAAa,YAAcC,EAAM,CAAC+H,IAAcC,GAAahI,EAAM,QAO7DkI,GAFmBpC,aAAU,CAAC1C,KAAM,oBAAjB0C,EAxBL,SAAC1F,GAC1B,OAAO,0BAAM6F,SAAU7F,EAAM8F,cACxBnG,aAAa,WAAY,CAACL,KAASqI,IAAeC,GAAc,kBAAmB,IACnFjI,aAAa,UAAW,CAACL,MAAWiG,GAAiB,YAAa,MAClE5F,aAAa,iBAAiB,KAAMiI,GAAa,KAAK,CAACzM,KAAM,YAAY,sBACzEwE,aAAa,4BAA6B,CAACL,MAAWiG,GAAiB,2BAA4B,MAJjG,iBAMH,6BACCwC,OAAOC,KAAKhI,EAAMiI,cAAcC,UAAU1L,KAAI,SAAAgI,GAAG,OAAI,kBAAC,GAAD,CAAsBA,IAAOA,EAAK5E,KAAO4E,OAC/F,uCACA,4BAAQrJ,KAAM,SAAUgN,QAASnI,EAAMoI,gBAAvC,UACCpI,EAAMkB,OAAS,yBAAK4C,UAAWC,KAAEsE,cAC9B,8BAAOrI,EAAMkB,YCHnBoH,GAAkB,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aACpC,OAAO,6BACFA,GAAgB,oCAAGD,EAAH,KAAkB,uBAAGE,KAAMD,GAAT,IAAyBA,MAIrDE,GAvBiB,SAAC1I,GAC7B,OAAQ,yBAAK8D,UAAWC,KAAE4E,kBACrB3I,EAAMmH,aAAe,4BAAQgB,QAASnI,EAAM4I,cAAvB,kBACtB,0CAAgB5I,EAAM2B,YAAYkH,SAClC,2CAAiB7I,EAAM2B,YAAYmH,UACnC,mDAAyB9I,EAAM2B,YAAYoH,eACrC,oCACE,4DAAkC/I,EAAM2B,YAAYqH,4BACtD,qCAEN,yBAAKlF,UAAWC,KAAEmE,UACbH,OAAOC,KAAKhI,EAAM2B,YAAYuG,UAAU1L,KAAI,SAAAgI,GAAG,OAAI,kBAAC,GAAD,CAAiBA,IAAOA,EAAK+D,aAAc/D,EAAKgE,aAAcxI,EAAM2B,YAAYuG,SAAS1D,WCC1IyE,GAZe,SAACjJ,GAC3B,OAAO,yBAAK8D,UAAWC,KAAEmF,gBACrB,2BAAO7B,SAAUrH,EAAMmJ,oBAAqBhO,KAAM,OAAQyE,KAAK,OAAOlD,GAAG,cAAcoH,UAAWC,KAAEqF,YAAaC,UAAQ,IACzH,2BAAOC,QAAQ,cAAcxF,UAAWC,KAAEwF,oBAClC,0BAAMzF,UAAWC,KAAEyF,0BAA0B,yBAAKxF,IAAI,0EACJyF,IAAI,sEAAeC,MAAM,QAE/E,0BAAM5F,UAAWC,KAAE4F,yBAAnB,0ECmDGhI,GAlDK,SAAC3B,GAAW,IAAD,EACkB8G,oBAAS,GAD3B,oBACtB8C,EADsB,KACLC,EADK,KAKvBzB,EAAiB,WACjByB,GAAoB,IAQpB7J,EAAM8J,aACN1B,IAOJ,IAAKpI,EAAM2B,YACP,OAAO,kBAACoI,GAAA,EAAD,MAEX,IAAM5C,EAAcnH,EAAM2B,YAAYzG,SAAW8E,EAAMgK,cACvD,OACI,6BACKhK,EAAMnF,WAAa,kBAACkP,GAAA,EAAD,MAChB,6BAAK,yBAAKjG,UAAWC,KAAEkG,KACbjG,IAAKhE,EAAM2B,YAAYO,OAAOgI,MAAQlK,EAAM2B,YAAYO,OAAOgI,MAAQC,QAEpFhD,GACD,yBAAKrD,UAAWC,KAAEqG,aACd,kBAAC,GAAD,CAAuBjB,oBAjBP,SAAC7B,GACrBA,EAAE+C,OAAOC,MAAM5K,QACfM,EAAMuK,cAAcjD,EAAE+C,OAAOC,MAAM,QAkBnC,6BACI,kBAAC,GAAD,CAAiB5C,oBAAqB1H,EAAM0H,oBAAqB9F,cAAe5B,EAAM4B,cAAeuF,YAAaA,KAErHyC,EACK,kBAACY,GAAD,CAAiBvC,cAAejI,EAAM2B,YAAayG,eAAgBA,EAAgBvC,SAjC7E,SAAC3H,GACjB8B,EAAMyK,kBAAkBzK,EAAMgK,cAAe9L,GACxCD,MAAK,WACFmK,UA+BE,kBAAC,GAAD,CAAyBjB,YAAeA,EAAayB,aAxChD,WACfiB,GAAoB,IAuCwElI,YAAa3B,EAAM2B,gB,0CCjCxG+I,GAjBF,SAAC1K,GACV,IAAMtD,EAAKsD,EAAMtD,GAIjB,OAAO,yBAAKoH,UAAWC,KAAEc,MACjB,yBAAKb,IAAM,uHACVhE,EAAMW,QACP,6BAAK,sCACK,IACLX,EAAM0B,YAEX,4BAAQyG,QAVU,WACtBnI,EAAM2K,kBAAkBjO,KASpB,UACA,wBAAIoH,UAAWC,KAAE6G,OCTvBC,GAAerL,aAAiB,IAChC+F,GAAkBC,aAAmB,YAa5BsF,GADYpF,aAAU,CAAC1C,KAAM,aAAjB0C,EAVL,SAAC1F,GAInB,OAHIA,EAAM2F,iBACN3F,EAAM4F,QAEH,0BAAMC,SAAU7F,EAAM8F,cACxBnG,aAAa,YAAa,CAACL,KAASuL,IAActF,GAAiB,iBAAkB,MACtF,2CCSOwF,GAnBC7F,IAAMC,MAAK,SAAAnF,GACvBgL,QAAQC,IAAIjL,GACZ,IAAIkL,EAAgB,YAAIlL,EAAMmL,YAAY3O,KAAI,SAAA4O,GAAC,OAAI,kBAAC,GAAD,CAAMT,kBAAqB3K,EAAM2K,kBAAmBnG,IAAK4G,EAAE1O,GAAIiE,QAASyK,EAAEzK,QAASe,UAAW0J,EAAE1J,UAC/FhF,GAAI0O,EAAE1O,QAI1D,OAAQ,yBAAKoH,UAAWC,KAAEsH,iBAClB,yCACA,6BACI,kBAAC,GAAD,CAAoBxF,SANlB,SAACY,GACXzG,EAAM9C,WAAWuJ,EAAS6E,eAOtB,yBAAKxH,UAAWC,KAAEwH,OACbL,OCJFM,GAHU9G,aALH,SAACpI,GACnB,MAAO,CACH6O,WAAY7O,EAAMoG,YAAYjB,aAIlC,CAACvE,WtB2DqB,SAACqB,GAAD,MAAW,CAACpD,KAlEb,mBAkEqCoD,SsB3D7CoM,kBtB0DgB,SAAC1I,GAAD,MAAa,CAAC9G,KA9DnB,sBA8D8C8G,YsB3DjDyC,CACYqG,ICStBU,GAhBC,SAACzL,GACb,OAAQ,yBAAK8D,UAAWC,KAAE0H,SAClB,kBAAC,GAAD,CAAazB,cAAiBhK,EAAMgK,cAChCtC,oBAAuB1H,EAAM0H,oBACpB9F,cAAiB5B,EAAM4B,cACvBD,YAAa3B,EAAM2B,YACnB8I,kBAAqBzK,EAAMyK,kBAC3BF,cAAiBvK,EAAMuK,cACvB1P,WAAcmF,EAAMnF,aAEjC,kBAAC,GAAD,QCHN6Q,G,kLAEE,IAAIxQ,EAASyQ,KAAK3L,MAAMK,MAAMuL,OAAO1Q,OAChCA,GAMDyQ,KAAK3L,MAAMrB,iBAAiBzD,GAC5ByQ,KAAK3L,MAAM+B,WAAW7G,KANtBA,EAASyQ,KAAK3L,MAAMgK,cACpB2B,KAAK3L,MAAM+B,WAAW7G,GACtByQ,KAAK3L,MAAMrB,iBAAiBzD,M,+BAehC,OAAO,kBAAC,GAAD,iBAAayQ,KAAK3L,MAAlB,CAAyB2B,YAAagK,KAAK3L,MAAM2B,mB,GArBjCuD,IAAMvB,WAiCtBN,eACXqB,aATkB,SAACpI,GACnB,MAAO,CACHqF,YAAarF,EAAMoG,YAAYf,YAC/BqI,cAAe1N,EAAMwG,KAAKkH,cAC1BpI,cAAetF,EAAMoG,YAAYd,cACjC/G,WAAYyB,EAAMoG,YAAY7H,cAIT,CACrBkH,aACApD,iBxB6BwB,SAACzD,GAAD,8CAAY,WAAOO,GAAP,eAAAC,EAAA,sEACnBC,IAAQgD,iBAAiBzD,GADN,OACpCW,EADoC,OAExCJ,EAASoG,EAAiBhG,IAFc,2CAAZ,uDwB7BN6L,oBxBkCS,SAAC7I,GAAD,8CAAY,WAAOpD,GAAP,SAAAC,EAAA,sEACtBC,IAAQiD,aAAaC,GADC,OAEV,IAFU,OAE9BX,KAAK/B,YACdV,EAASoG,EAAiBhD,IAHa,2CAAZ,uDwBlCY4L,kBxBwCb,SAAC/N,EAAIsC,GAAL,8CAAiB,WAAOvD,GAAP,iBAAAC,EAAA,sEAC1BC,IAAQoD,cAAcrC,EAAtB,eAA8BsC,IADJ,UAEnB,KADxBnD,EAD2C,QAElCM,WAFkC,uBAG3CV,EAASsG,EAAWrF,IAHuB,kBAIpCmP,QAAQC,WAJ4B,cAOvC9K,EAAgBnF,EAASkQ,SAASrM,OAAS,EAAI7D,EAASkQ,SAAW,aACvEtQ,EAASuQ,YAAW,mBAAoB,CAAC,wBAAiBjL,EAAiBC,OARhC,kBASpC6K,QAAQI,UAT4B,4CAAjB,uDwBxCgC1B,cxB0DrC,SAACrL,GAAD,8CAAW,WAAOzD,GAAP,eAAAC,EAAA,6DACpCD,EAhCiC,CAACN,KAjEG,qCAgGD,SAEfQ,IAAQsD,gBAAgBC,GAFT,OAGH,KAD7BrD,EAFgC,QAGvBqC,KAAK/B,aACdV,EAnC6B,CAACN,KAjEG,qCAqGjCM,EAASqG,EAAmBjG,EAASqC,KAAKA,KAAKgE,SAC/CzG,EAASyQ,YAAsBrQ,EAASqC,KAAKA,KAAKgE,OAAOgI,SANzB,2CAAX,yDwBxDzBiC,IACAvF,KANWvD,CAObqI,I,qBCtCaU,GAXO,SAACpM,GAInB,OAAO,6BACH,4BAAQmI,QAJK,WACbnI,EAAMqM,eAGN,WACCrM,EAAMsM,MACNtM,EAAMuM,iBAAkB,yBAAKvI,IAAOhE,EAAMuM,mBAAqB,yBAAKvI,IAAOmG,SCarEqC,GAlBA,SAACxM,GACZ,OACI,4BAAQ8D,UAAWC,KAAE0I,QAAQ,kBAAC,IAAD,CAAStI,GAAE,mBAAcnE,EAAM9E,SACxD,yBAAK8I,IAAI,sGAET,yBAAKF,UAAWC,KAAEuI,OACbtM,EAAM0M,OACH,kBAAC,GAAD,CAAeJ,MAAOtM,EAAMsM,MACbC,iBAAkBvM,EAAMuM,iBACxBF,WAAcrM,EAAMqM,aAGjC,kBAAC,IAAD,CAASlI,GAAG,UAAZ,YCZhBwI,G,uKAEE,OAAO,kBAAC,GAAWhB,KAAK3L,W,GAFFkF,IAAMvB,WAcrBe,gBATO,SAACpI,GACnB,MAAM,CACFgQ,MAAOhQ,EAAMwG,KAAKwJ,MAClBpR,OAAQoB,EAAMwG,KAAKkH,cACnB0C,OAAQpQ,EAAMwG,KAAK4J,OACnBH,iBAAkBjQ,EAAMwG,KAAKyJ,oBAKjC,CAACF,gBADU3H,CACGiI,I,wCCVHC,GAPM,WACjB,OAAO,yBAAK9I,UAAWC,KAAE8I,iBACrB,yBAAK/I,UAAWC,KAAE6I,aAAc5I,IAAK8I,SCQvCC,GAAQ7H,IAAM8H,MAAK,kBAAM,iCACzBC,GAAiB/H,IAAM8H,MAAK,kBAAM,iCAClCE,GAAQhI,IAAM8H,MAAK,kBAAM,iCACzBG,GAAUjI,IAAM8H,MAAK,kBAAM,iCAC3BI,GAAWlI,IAAM8H,MAAK,kBAAM,iCAC5BK,GAAgBnI,IAAM8H,MAAK,kBAAM,iCAGjC9J,G,kLAEEyI,KAAK3L,MAAMsN,mB,+BAIX,OAAK3B,KAAK3L,MAAMqC,YAIZ,yBAAKyB,UAAU,eACX,kBAAC,GAAD,MACA,kBAAC,EAAD,MACA,kBAACyJ,GAAD,OANG,kBAAC,GAAD,U,GAPDrI,IAAMvB,WA+BlB4J,IzBlDuB5J,EyBqCT,WAChB,OAAO,yBAAKG,UAAU,uBAClB,kBAAC,IAAD,CAAO0J,KAAK,WAAWC,OAAQ,kBAAM,kBAACC,GAAD,SACrC,kBAAC,IAAD,CAAOF,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAC9C,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAACR,GAAD,SACnC,kBAAC,IAAD,CAAOO,KAAK,QAAQC,OAAQ,kBAAM,kBAACJ,GAAD,SAClC,kBAAC,IAAD,CAAOG,KAAK,YAAYC,OAAQ,kBAAM,kBAACL,GAAD,SACtC,kBAAC,IAAD,CAAOtI,OAAK,EAAC0I,KAAK,IAAIC,OAAQ,kBAAM,kBAAC,GAAD,SACpC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAACV,GAAD,SACnC,kBAAC,IAAD,CAAOS,KAAK,SAASC,OAAQ,kBAAM,kBAACP,GAAD,SACnC,kBAAC,IAAD,CAAOpI,OAAK,EAAC0I,KAAK,WAAWC,OAAQ,kBAAM,kBAACN,GAAD,WzB9CnB,SAACnN,GACzB,OAAO,kBAAC,WAAD,CAAU2N,SAAU,2FAAyB,kBAAChK,EAAc3D,MyBuDrE4N,GAAevK,YACjBqB,aAJkB,SAACpI,GAAD,MAAY,CAC9B+F,YAAa/F,EAAM4G,IAAIb,eAGE,CAACiL,e3BrCA,WAC1B,OAAO,SAAC7R,GACUA,EAASoS,eACf5P,MAAK,WACTxC,EANsB,CAACN,KAnBP,mC2B2DxBgR,IAFiB9I,CAGnBH,IAYa4K,GAVO,WAClB,OAAO,kBAAC,IAAMC,WAAP,KACH,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUzK,MAAOA,GACb,kBAACsK,GAAD,UC9DhBI,IAASP,OACD,kBAAC,GAAD,MACJQ,SAASC,eAAe,SjC0HtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBpQ,MAAK,SAAAqQ,GACJA,EAAaC,gBAEdC,OAAM,SAAAtN,GACL8J,QAAQ9J,MAAMA,EAAMP,a,2NkClIxBlG,EAAe,CACfuP,cAAe,KACf5L,MAAO,KACPkO,MAAO,KACPI,QAAQ,EACRH,iBAAkB,MAqBhBkC,EAAkB,SAACzE,EAAe5L,EAAOkO,EAAOI,GAA9B,MAA0C,CAC9DvR,KA7BuB,qBA8BvB+C,KAAM,CAAC8L,gBAAe5L,QAAOkO,QAAOI,YAE3BR,EAAwB,SAACK,GAAD,MAAuB,CAACpR,KAjC5B,2BAiC4DoR,qBAGhFsB,EAAW,yDAAM,WAAOpS,GAAP,yBAAAC,EAAA,sEACLoC,IAAQC,WADH,UAEE,KADxBlC,EADsB,QAEbM,WAFa,0BAGGN,EAASqC,KAA7BxB,EAHiB,EAGjBA,GAAI0B,EAHa,EAGbA,MAAOkO,EAHM,EAGNA,MAChB7Q,EAASgT,EAAgB/R,EAAI0B,EAAOkO,GAAO,IAJrB,SAKM3Q,IAAQ+C,eAAe7C,EAASqC,KAAKxB,IAL3C,OAKlBgS,EALkB,OAMtBjT,EAASyQ,EAAsBwC,EAAgBxM,OAAOgI,QANhC,4CAAN,uDAUXyE,EAAY,SAACvQ,EAAOC,EAAUC,GAAlB,8CAAiC,WAAO7C,GAAP,iBAAAC,EAAA,sEACjCoC,IAAQK,UAAUC,EAAOC,EAAUC,GADF,OAErB,KAD7BzC,EADkD,QAEzCqC,KAAK/B,WACdV,EAASoS,MAGLe,EAAe/S,EAASqC,KAAK6N,SAASrM,OAAS,EAAI7D,EAASqC,KAAK6N,SAAS,GAAK,aACnFtQ,EAASuQ,YAAW,QAAS,CAAC6C,OAAQD,MAPY,2CAAjC,uDAYZvC,EAAa,yDAAM,WAAO5Q,GAAP,SAAAC,EAAA,sEACPoC,IAAQU,aADD,OAEK,IAFL,OAEfN,KAAK/B,YACdV,EAASgT,EAAgB,KAAM,KAAM,MAAM,IAHnB,2CAAN,uDAQX1L,IAvDG,WAAmC,IAAlCzG,EAAiC,uDAAzB7B,EAAc8B,EAAW,uCAChD,OAAQA,EAAOpB,MACX,IAZmB,qBAaf,OAAO,2BACAmB,GACAC,EAAO2B,MAElB,IAlByB,2BAmBrB,OAAO,2BACA5B,GADP,IAEIiQ,iBAAkBhQ,EAAOgQ,mBAEjC,QACI,OAAOjQ,K,gHCxBNkJ,EAAqB,SAAC7B,GAAD,OAAgB,YAA8B,IAA5BmL,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS/O,EAAW,gCACrEgP,EAAWD,EAAK7N,OAAS6N,EAAKE,QACpC,OAAO,yBAAKnL,UAAWoL,IAAOC,YAAc,KAAOH,EAASE,IAAOhO,MAAM,KACrE,6BACI,kBAACyC,EAAD,iBAAemL,EAAW9O,KAE5BgP,GAAY,8BAAOD,EAAK7N,W,mBCTlC3G,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,aAAe,oC,mBCAnHD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,gBAAkB,qC,sICGxH4U,EAA6B,SAAC9S,GAC9B,MAAO,CACHoQ,OAAQpQ,EAAMwG,KAAK4J,SAGd9F,EAAmB,SAACjD,GAAe,IACtC0L,EADqC,uKAGnC,OAAK1D,KAAK3L,MAAM0M,OAGT,kBAAC/I,EAAcgI,KAAK3L,OAFhB,kBAAC,IAAD,CAAUmE,GAAI,eAJU,GACXe,IAAMvB,WAUtC,OAFiCe,YAAQ0K,EAAR1K,CAAoC2K,K,mBClBzE9U,EAAOC,QAAU,IAA0B,qG,mBCA3CD,EAAOC,QAAU,IAA0B,iD,mBCC3CD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,4B,gCCDnG,sDAWeuP,IAPG,WACd,OAAO,6BACH,yBAAKjG,UAAWC,IAAEgG,UAAW/F,IAAK8I,U","file":"static/js/main.43a482ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__HfEV3\",\"PostDescription\":\"MyPosts_PostDescription__3rGc8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2HAWx\",\"Hr\":\"Post_Hr__1lCMw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__LLWQ5\",\"login\":\"Header_login__2K_em\"};","import {UserAPI} from \"../../Api/Api\";\r\n\r\nconst FOLLOW_TOGGLE = 'FOLLOW_USER_TOGGLE'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst SET_FETCHING = 'SET_USERS_FETCHING'\r\nconst TOGGLE_FOLLOW_PROGRESSING = 'USERS_TOGGLE_FOLLOW_PROGRESSING'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\n\r\n\r\nlet InitialState = {\r\n    users: [],\r\n    pageSize: 30,\r\n    totalUsersCount: 19,\r\n    isFetching: false,\r\n    followIsProgressing: [],\r\n    currentPage: 1\r\n}\r\n\r\nconst UsersReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.page\r\n            }\r\n        case FOLLOW_TOGGLE:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: !u.followed}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case SET_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOW_PROGRESSING:\r\n            return {\r\n                ...state,\r\n                followIsProgressing: action.isProgressing\r\n                    ? [...state.followIsProgressing, action.userId]\r\n                    : state.followIsProgressing.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const toggleFollowProgressing = (isProgressing, userId) => ({\r\n    type: TOGGLE_FOLLOW_PROGRESSING,\r\n    isProgressing,\r\n    userId\r\n})\r\nexport const setCurrentPageAC = (page) => ({type: SET_CURRENT_PAGE,page})\r\nexport const toggleFollow = (userId) => ({type: FOLLOW_TOGGLE, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\r\nexport const setFetching = (isFetching) => ({type: SET_FETCHING, isFetching})\r\n\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setFetching(true))   //активируем крутилку\r\n    let response = await UserAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setFetching(false)) //снимаем крутилку\r\n    dispatch(setUsers(response.items)) //сетаем юзеров с респонса\r\n    dispatch(setTotalUsersCount(response.totalCount))//сетаем общее число юзеров\r\n\r\n}\r\nexport const FollowOrUnfollow = (userId,follow) => async (dispatch) => {\r\n    dispatch(toggleFollowProgressing(true, userId))\r\n    if (follow){\r\n        let response = await UserAPI.followUser(userId)\r\n        if (response.resultCode === 0) {\r\n            dispatch(toggleFollow(userId))\r\n        }}\r\n    else {let response = await UserAPI.unfollowUser(userId)\r\n        if (response.resultCode === 0) {\r\n            dispatch(toggleFollow(userId))\r\n        }}\r\n    dispatch(toggleFollowProgressing(false, userId))\r\n}\r\n\r\n\r\nexport default UsersReducer;","const UPDATE_NEWS = 'UPDATE_NEWS'\r\nconst ADD_NEWS = 'ADD_NEWS'\r\n\r\n\r\nlet InitialState = {\r\n    NewsPost: [\r\n        {Text: 'Сегодня баба Нюра засолила огурцы', id: 1, Avtor: 'Vasya Totechkin', Img: ''},\r\n        {Text: 'Сегодня баба Нюра засолила огурцы', id: 2, Avtor: 'Vasya Totechkin', Img: ''},\r\n        {Text: 'Сегодня баба Нюра засолила огурцы', id: 3, Avtor: 'Vasya Totechkin', Img: ''},\r\n        {Text: 'Сегодня баба Нюра засолила огурцы', id: 4, Avtor: 'Vasya Totechkin', Img: ''},\r\n        {Text: 'Сегодня баба Нюра засолила огурцы', id: 5, Avtor: 'Vasya Totechkin', Img: ''}\r\n    ],\r\n    NewsNewsText : 'hey'\r\n}\r\n\r\n\r\nconst NewsReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_NEWS: {\r\n            let NewPost = {\r\n                Text: state.NewsNewsText,\r\n                Id: 5,\r\n                Img: '',\r\n                Avtor: 'Salam'\r\n            }\r\n            return {\r\n                ...state,\r\n                NewsNewsText: '',\r\n                NewsPost: [...state.NewsPost, NewPost]\r\n            }\r\n        }\r\n        case UPDATE_NEWS:\r\n            return {\r\n                ...state,\r\n                NewsNewsText: action.newText\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addNewPost = () => ({type: ADD_NEWS})\r\nexport const addNewText = (text) => ({\r\n    type: UPDATE_NEWS,\r\n    newText: text\r\n})\r\n\r\nexport default NewsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1qYDw\",\"item\":\"Navbar_item__3zJ7y\",\"settings\":\"Navbar_settings__1bVOI\",\"active\":\"Navbar_active__1FSHH\",\"friendsBar\":\"Navbar_friendsBar__DCjSi\"};","import * as axios from \"axios\";\r\n\r\nconst AxiosInstance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'bd00ffb7-cce4-4216-900b-0b45ad38455d'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0'\r\n})\r\n\r\nexport const AuthApi = {\r\n    AuthUser() {\r\n        return AxiosInstance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    AuthLogin(email,password,rememberMe){\r\n        return AxiosInstance.post(`auth/login`, {email,password,rememberMe})\r\n    },\r\n    AuthLogOut(){\r\n        return AxiosInstance.post(`auth/logout`)\r\n\r\n    }\r\n}\r\n\r\nexport const UserAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return AxiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                    return response.data\r\n                }\r\n            )\r\n    },\r\n    followUser(userId) {\r\n        return AxiosInstance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    unfollowUser(userId) {\r\n        return AxiosInstance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getUserProfile(userId) {\r\n        return AxiosInstance.get(`profile/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    getProfileStatus(userId){\r\n        return AxiosInstance.get(`profile/status/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    updateStatus (status){\r\n        return AxiosInstance.put(`profile/status/`,{status: status})\r\n    },\r\n    changeProfile(userId, profile){\r\n        return AxiosInstance.put(`profile`,{userId, ...profile})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    changeMainPhoto(photo){\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photo)\r\n        return AxiosInstance.put(`profile/photo`, formData, {\r\n            headers:{\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img1\":\"ProfileInfo_img1__3Vj5B\",\"DescriptionBlock\":\"ProfileInfo_DescriptionBlock__C-bRr\",\"contacts\":\"ProfileInfo_contacts__3PUYi\",\"inputButton\":\"ProfileInfo_inputButton__tOQHY\",\"input__wrapper\":\"ProfileInfo_input__wrapper__2h0NE\",\"input__file\":\"ProfileInfo_input__file__1C0bl\",\"input__file_icon_wrapper\":\"ProfileInfo_input__file_icon_wrapper__3LDHf\",\"input__file_button_text\":\"ProfileInfo_input__file_button_text__2X1rf\",\"input__file_button\":\"ProfileInfo_input__file_button__2WuXX\"};","export const required = value => {\r\n    if (value) return undefined\r\n    return 'Field is required!';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value='')  => {\r\n    if (!value) {\r\n        return undefined\r\n    }\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dialogs\":\"Dialogs_Dialogs__299da\",\"DialogsItem\":\"Dialogs_DialogsItem__2LzZ5\",\"OnOf\":\"Dialogs_OnOf__1ykwy\",\"Dialog\":\"Dialogs_Dialog__3bHRR\",\"Messages\":\"Dialogs_Messages__336IC\",\"Message\":\"Dialogs_Message__16Ich\",\"active\":\"Dialogs_active__2OoQ0\",\"NewMessage\":\"Dialogs_NewMessage__1dPWM\",\"EnterMessage\":\"Dialogs_EnterMessage__TvDS4\"};","import {Field} from \"redux-form\";\r\nimport React from \"react\";\r\n\r\nexport const FieldCreator = (name, validate, component, placeholder, props, text = '') => {\r\n    return <div>\r\n        {text}\r\n        <Field name={name} validate={validate} component={component} placeholder={placeholder} {...props}/>\r\n    </div>\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const ADD_MESSAGE = 'ADD_DIALOGS_MESSAGE'\r\n\r\n\r\nlet InitialState = {\r\n        DialogsData: [\r\n            {\r\n                Img: 'https://i12.fotocdn.net/s124/7d077c09f4b27b65/gallery_xl/2824373953.jpg',\r\n                Name: 'Ванек',\r\n                id: 1,\r\n                OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg'\r\n            },\r\n            {\r\n                Img: 'http://s3.fotokto.ru/photo/full/281/2819005.jpg',\r\n                Name: 'Братик',\r\n                id: 2,\r\n                OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg'\r\n            },\r\n            {Img: 'https://www.photoforum.ru/f/photo/000/774/774816_50.jpg', Name: 'Пахан', id: 3, OnOf: 'of'},\r\n            {\r\n                Img: 'https://get.pxhere.com/photo/man-boy-model-blue-clothing-neck-sunglasses-glasses-eyewear-aviator-photo-shoot-sensolatino-vision-care-white-collar-worker-1278226.jpg',\r\n                Name: 'Данил',\r\n                id: 4,\r\n                OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg'\r\n            },\r\n            {\r\n                Img: 'https://get.wallhere.com/photo/black-background-sunglasses-glasses-fingers-man-hand-muscle-hairstyle-football-player-tennis-player-facial-hair-wrestler-eyewear-613569.jpg',\r\n                Name: 'Света',\r\n                id: 5,\r\n                OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg'\r\n            },\r\n            {Img: 'https://f3.mylove.ru/J1NuDGy2QF.jpg', Name: 'Кефир', id: 6, OnOf: 'of'},\r\n            {\r\n                Img: 'https://sun9-68.userapi.com/c638031/v638031076/baa0/mIIa28ICfK8.jpg',\r\n                Name: 'Магазин',\r\n                id: 7,\r\n                OnOf: 'of'\r\n            },\r\n            {\r\n                Img: 'https://get.wallhere.com/photo/face-model-glasses-actor-dog-fashion-cool-man-photoshoot-male-photo-shoot-vision-care-interaction-facial-hair-josh-duhamel-581315.jpg',\r\n                Name: 'Федя',\r\n                id: 8,\r\n                OnOf: 'of'\r\n            },\r\n            {\r\n                Img: 'https://ves-rf.ru/sites/default/files/article-img/20140424/putin-v-ochkah1.jpg',\r\n                Name: 'Нагибатор',\r\n                id: 9,\r\n                OnOf: 'of'\r\n            },\r\n            {\r\n                Img: 'https://pbs.twimg.com/profile_images/495205584040259586/EQoA3nOm.jpeg',\r\n                Name: 'Угнетатель ',\r\n                id: 10,\r\n                OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg'\r\n            },\r\n            {\r\n                Img: 'https://get.wallhere.com/photo/white-black-monochrome-portrait-sunglasses-glasses-photography-music-Studio-shades-Rayban-cool-man-beard-male-black-and-white-monochrome-photography-vision-care-facial-hair-eyewear-722192.jpg',\r\n                Name: 'Мать',\r\n                id: 11,\r\n                OnOf: 'of'\r\n            },\r\n\r\n        ],\r\n        MessagesData: {\r\n            MyMessages: [\r\n                {message: 'Шалом', id: 1},\r\n                {message: 'Фарту по жизни', id: 2},\r\n            ], FriendMessages: [\r\n                {message: 'Где деньги', id: 45},\r\n\r\n            ]\r\n        },\r\n}\r\n\r\nconst DialogReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let NewMes = {\r\n                message: action.message,\r\n                id: 3\r\n            };\r\n            return {\r\n                ...state,\r\n                MessagesData: {\r\n                    ...state.MessagesData,\r\n                    MyMessages: [...state.MessagesData.MyMessages,NewMes]\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const AddMessage = (message) => ({type: ADD_MESSAGE, message})\r\n\r\n\r\nexport default DialogReducer;","export const HelperStopSubmit = (errorMessages) => {\r\n    let ErrorsNames = errorMessages.map(error => {\r\n        let newElement = error.split('->')[1]\r\n        return newElement.substring(0, newElement.length - 1).toLowerCase()\r\n    })\r\n    let ErrorObject = {}\r\n    for (let i = 0; i < errorMessages.length; i ++){\r\n        ErrorObject[ErrorsNames[i]] = errorMessages[i]\r\n    }\r\n    return ErrorObject\r\n}","import {UserAPI} from \"../../Api/Api\";\r\nimport {SetCurrentUserProfile} from \"./AuthReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {HelperStopSubmit} from \"../../Utils/HelperStopSubmit\";\r\n\r\n\r\nconst PROFILE_ADD_POST = 'PROFILE_ADD_POST'\r\nconst PROFILE_SET_PROFILE = 'PROFILE_SET_PROFILE'\r\nconst PROFILE_SET_PROFILE_STATUS = 'PROFILE_SET_PROFILE_STATUS'\r\nconst PROFILE_DELETE_POST = 'PROFILE_DELETE_POST'\r\nconst PROFILE_UPDATE_PHOTO = 'PROFILE_UPDATE_PHOTO'\r\nconst PROFILE_IS_FETCHING_PHOTO_TOGGLE = 'PROFILE_IS_FETCHING_PHOTO_TOGGLE'\r\n\r\n\r\nlet InitialState = {\r\n    PostsData: [\r\n        {message: 'Heil Hitler', id: 1, likecount: 1488},\r\n        {message: 'salam', id: 2, likecount: 228},\r\n    ],\r\n    ProfileInfo: null,\r\n    ProfileStatus: '',\r\n    isFetching: false,\r\n}\r\n\r\n\r\nconst ProfileReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case PROFILE_DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                PostsData: state.PostsData.filter(u => u.id !== action.postId)\r\n            }\r\n        }\r\n\r\n        case PROFILE_ADD_POST: {\r\n            let NewPost = {\r\n                message: action.post,\r\n                id: 5,\r\n                likecount: 148,\r\n            }\r\n            return {\r\n                ...state,\r\n                PostsData: [...state.PostsData, NewPost]\r\n            }\r\n        }\r\n        case PROFILE_SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                ProfileInfo: action.ProfileInfo\r\n            }\r\n        case PROFILE_SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                ProfileStatus: action.status\r\n            }\r\n        case PROFILE_UPDATE_PHOTO:\r\n            return {\r\n                ...state,\r\n                ProfileInfo: {...state.ProfileInfo,photos: {...action.photo}},\r\n            }\r\n        case PROFILE_IS_FETCHING_PHOTO_TOGGLE:{\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const deleteProfilePost = (postId) => ({type: PROFILE_DELETE_POST, postId})\r\nexport const addNewPost = (post) => ({type: PROFILE_ADD_POST, post})\r\nexport const setProfile = (ProfileInfo) => ({type: PROFILE_SET_PROFILE, ProfileInfo})\r\nexport const setProfileStatus = (status) => ({type: PROFILE_SET_PROFILE_STATUS, status})\r\nconst updateProfilePhoto = (photo) => ({type: PROFILE_UPDATE_PHOTO, photo})\r\nconst isFetchingPhotoToggle = () => ({type: PROFILE_IS_FETCHING_PHOTO_TOGGLE})\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let response = await UserAPI.getProfileStatus(userId)\r\n    dispatch(setProfileStatus(response))\r\n\r\n}\r\nexport const UpdateProfileStatus = (status) => async (dispatch) => {\r\n    let response = await UserAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setProfileStatus(status))\r\n    }\r\n}\r\nexport  const UpdateProfileInfo = (id, profile) => async (dispatch) => {\r\n    let response = await UserAPI.changeProfile(id, {...profile})\r\n    if (response.resultCode === 0) {\r\n        dispatch(getProfile(id))\r\n        return Promise.resolve()\r\n    }\r\n    else {\r\n        let errorMessages = response.messages.length > 0 ? response.messages : 'Some error'\r\n        dispatch(stopSubmit('ProfileInfoInput', {'contacts' : {...HelperStopSubmit(errorMessages)}}))\r\n        return Promise.reject()\r\n    }\r\n\r\n}\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    let response = await UserAPI.getUserProfile(userId)\r\n    dispatch(setProfile(response))\r\n\r\n}\r\nexport const saveMainPhoto = (photo) => async (dispatch) => {\r\n    dispatch(isFetchingPhotoToggle())\r\n    let response = await UserAPI.changeMainPhoto(photo)\r\n    if (response.data.resultCode === 0){\r\n        dispatch(isFetchingPhotoToggle())\r\n        dispatch(updateProfilePhoto(response.data.data.photos))\r\n        dispatch(SetCurrentUserProfile(response.data.data.photos.large))\r\n    }\r\n}\r\n\r\nexport default ProfileReducer;","let InitialState = {\r\n    FriendsBarData: [\r\n        {\r\n            Img: 'https://i.pinimg.com/736x/7e/ee/0a/7eee0a15c3bb16b777c64116e8cfaafe.jpg',\r\n            Name: 'Danil',\r\n            OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg',\r\n            id: 45\r\n        },\r\n        {\r\n            Img: 'https://i.pinimg.com/736x/89/57/16/8957167672cdfdb7fba47ef531f7a3eb.jpg',\r\n            Name: 'Sveta',\r\n            OnOf: 'of',\r\n            id: 13\r\n        },\r\n        {\r\n            Img: 'https://i.pinimg.com/originals/6c/b6/4c/6cb64c7f040e63059639a6df25969588.jpg',\r\n            Name: 'Kalim',\r\n            OnOf: 'https://banner2.cleanpng.com/20180705/qav/kisspng-computer-icons-online-and-offline-online-shopping-hotspot-5b3e1403a4b394.9852004415307950116746.jpg',\r\n            id: 12\r\n        }\r\n    ]\r\n}\r\n\r\nconst NavbarReducer = (state = InitialState,acton) => {\r\n    return state\r\n}\r\n\r\nexport default NavbarReducer","import {authUser} from \"./AuthReducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'APP_INITIALIZED_SUCCESS'\r\n\r\nlet InitialState = {\r\n    initialized: false\r\n}\r\n\r\nlet AppReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializedApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(authUser())\r\n        promise.then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default AppReducer","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport DialogReducer from \"./Reducers/DialogsReducer\";\r\nimport ProfileReducer from \"./Reducers/ProfileReducer\";\r\nimport NewsReducer from \"./Reducers/NewsReducer\";\r\nimport NavbarReducer from \"./Reducers/NavbarReducer\";\r\nimport UsersReducer from \"./Reducers/UsersReducer\";\r\nimport AuthReducer from \"./Reducers/AuthReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer} from \"redux-form\";\r\nimport AppReducer from \"./Reducers/AppReducer\";\r\n\r\n\r\nlet Reducers = combineReducers({\r\n    DialogsPage : DialogReducer,\r\n    ProfilePage: ProfileReducer,\r\n    NewsPage: NewsReducer,\r\n    NavbarPage: NavbarReducer,\r\n    UsersPage: UsersReducer,\r\n    Auth: AuthReducer,\r\n    form: formReducer,\r\n    App: AppReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(Reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store\r\n\r\nwindow.__store__ = store","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    let ComponentWithSuspense = (props) => {\r\n        return <Suspense fallback={<div>Минуточку...</div>}><Component {...props}/></Suspense>\r\n    }\r\n    return ComponentWithSuspense\r\n}","import React from \"react\";\r\nimport s from './FriendBar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst FriendBar = (props) => {\r\n    let id = '/friends/' + props.id;\r\n    let Online = (props.OnOf == 'of') ? '': <img className={s.OnOf} src= {props.OnOf}/>\r\n    return (\r\n        <div className={s.FriendBar}>\r\n            <img src= {props.Img}/>\r\n            <NavLink activeClassName={s.active} to={id}> {props.Name} {Online} </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendBar","import React from \"react\";\r\nimport FriendBar from \"./FrindBar/FriendBar\";\r\n\r\nconst FriendsBar = (props) => {\r\n    let FrindElements = props.FriendsBarState.map(f => <FriendBar key = {f.id} Img = {f.Img} Name= {f.Name} OnOf = {f.OnOf} id = {f.id}/>)\r\n    return (\r\n        <div> {FrindElements} </div>\r\n    )\r\n}\r\n\r\nexport default FriendsBar","import FriendsBar from './FriendsBar'\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        FriendsBarState: state.NavbarPage.FriendsBarData\r\n    }\r\n}\r\n\r\nconst FriendsBarContainer = connect(mapStateToProps, null)(FriendsBar)\r\n\r\nexport default FriendsBarContainer","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsBarContainer from \"./FrindsBar/FriendsBarContainer\";\r\n\r\n\r\nconst Navbar = (props) => {\r\n    return (<nav className= {s.nav}>\r\n            <div className= {s.item}>  < NavLink activeClassName={s.active} exact to ='/'> Profile</NavLink></div>\r\n            <div className= {s.item}> <NavLink activeClassName={s.active} to ='/dialogs'>  Messages</NavLink> </div>\r\n            <div className={s.item}> <NavLink activeClassName={s.active} to = '/news'>  News</NavLink> </div>\r\n            <div className={s.item}> <NavLink activeClassName={s.active} to='/music'>  Music</NavLink> </div>\r\n            <div className= {s.item}> <NavLink activeClassName={s.active}to= '/friends'> Friends </NavLink> </div>\r\n            <div className= {s.item}> <NavLink activeClassName={s.active}to= '/users'> Find Users </NavLink> </div>\r\n            <div className= {s.friendsBar}> <FriendsBarContainer/> </div>\r\n            <div className= {s.settings}> <NavLink activeClassName={s.active}to= '/settings'>  Settings </NavLink> </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import s from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = React.memo(props => {\r\n    let id = '/dialogs/' + props.id\r\n    let Online = (props.OnOf == 'of') ? '': <img className={s.OnOf} src= {props.OnOf}/>\r\n    return (\r\n        <div className={s.Dialog}><NavLink activeClassName={s.active} to={id}> <img src={props.Img} />  {props.Name} {Online} </NavLink></div>\r\n    )\r\n})\r\n\r\nexport default DialogItem","import s from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Message = React.memo(props => {\r\n    return (<div className={s.Message}>{props.message}</div>\r\n    )\r\n})\r\n\r\nexport default Message","import {maxLengthCreator, required} from \"../../Utils/Validators/validators\";\r\nimport {SpecialFormCreator} from \"../Common/FormsControls/FormControl\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {FieldCreator} from \"../Common/FormsControls/FieldCreator\";\r\n\r\nlet maxLength20 = maxLengthCreator(20)\r\nconst SpecialTextArea = SpecialFormCreator('textarea')\r\n\r\nconst MessageInputForm = (props) => {\r\n    if (props.submitSucceeded){\r\n        props.reset()\r\n    }\r\n    return <form onSubmit={props.handleSubmit}>\r\n        {FieldCreator('messageInput', [required,maxLength20], SpecialTextArea, 'Write message', null)}\r\n        <button>add</button>\r\n    </form>\r\n}\r\n\r\nconst MessageInputReduxForm = reduxForm({form: 'messageInputer'})(MessageInputForm)\r\n\r\nexport default MessageInputReduxForm","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\"\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport MessageInputReduxForm from \"./DialogsForm\";\r\n\r\nconst Dialogs = (props) => {\r\n    let DialogsElements = props.DialogsState.DialogsData.map(d => <DialogItem key = {d.id} Img={d.Img} Name={d.Name} id={d.id} OnOf={d.OnOf}/>);\r\n    let MyMessagesElements = props.DialogsState.MessagesData.MyMessages.map(m => <Message key = {m.id} message={m.message} id={m.id}/>);\r\n\r\n    const addMessage = (dataForm) => {\r\n        props.AddMessage(dataForm.messageInput)\r\n    }\r\n    return (\r\n        <div className={s.Dialogs}>\r\n            <div className={s.DialogsItem}>\r\n                {DialogsElements}\r\n            </div>\r\n            <div className={s.Messages}>\r\n                <div>{MyMessagesElements}</div>\r\n                <div align=\"right\">\r\n                </div>\r\n                <div align=\"right\" className={s.NewMessage}>\r\n                    <MessageInputReduxForm onSubmit = {addMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Dialogs","import React from \"react\";\r\nimport {AddMessage} from \"../../Redux/Reducers/DialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        DialogsState: state.DialogsPage,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {AddMessage}),\r\n    withAuthRedirect\r\n)(Dialogs)","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nconst StatusWithHooks = (props) => {\r\n    let [editMode, setEditeMode] = useState(false)\r\n    let [status, setStatus] = useState(props.ProfileStatus)\r\n\r\n    useEffect(()=>{\r\n        setStatus(props.ProfileStatus)\r\n    },[props.ProfileStatus])\r\n\r\n    const  activeEditMode = () => {\r\n            setEditeMode(true)\r\n    }\r\n    const deactiveEditMode = () => {\r\n        setEditeMode(false)\r\n        props.UpdateProfileStatus(status)\r\n    }\r\n    const changeInputStatus = (e) => {\r\n            setStatus(e.currentTarget.value)\r\n    }\r\n    if (props.IDisCurrent){\r\n\r\n    return <>\r\n        {!editMode &&\r\n        <div><span onDoubleClick={activeEditMode}>Status: <span>{props.ProfileStatus}</span></span></div>}\r\n        {editMode &&\r\n        <div><input onChange={changeInputStatus} autoFocus={true} onBlur={deactiveEditMode}\r\n                    value={status}/></div>}\r\n    </>}\r\n    else {\r\n        return <>\r\n            <div><span>Status: <span>{props.ProfileStatus}</span></span></div>\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nexport default StatusWithHooks","import {maxLengthCreator, required} from \"../../../Utils/Validators/validators\";\r\nimport {SpecialFormCreator} from \"../../Common/FormsControls/FormControl\";\r\nimport {FieldCreator} from \"../../Common/FormsControls/FieldCreator\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport s from \"../../Common/FormsControls/FormControl.module.css\";\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\nconst SpecialTextArea = SpecialFormCreator('textarea')\r\nconst SpecialInput = SpecialFormCreator('input')\r\n\r\nconst ProfileInfoInputForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        {FieldCreator('fullName', [required,maxLength100], SpecialInput, 'Write your name', {})}\r\n        {FieldCreator('aboutMe', [required], SpecialTextArea, 'About you', null)}\r\n        {FieldCreator('lookingForAJob',null, SpecialInput,null,{type: 'checkbox'},'Looking for a job:')}\r\n        {FieldCreator('lookingForAJobDescription', [required], SpecialTextArea, 'Descriptions for looking', null)}\r\n        Your contacts:\r\n        <hr></hr>\r\n        {Object.keys(props.initialValues.contacts).map(key => <ContactsProfileField key = {key} name= {key}/>)}\r\n        <button>add</button>\r\n        <button type={'button'} onClick={props.deactivateMode}>escape</button>\r\n        {props.error && <div className={s.someoneError}>\r\n            <span>{props.error}</span>\r\n        </div>}\r\n    </form>\r\n}\r\n\r\nconst ContactsProfileField = ({name}) => {\r\n    return <div>\r\n        {FieldCreator('contacts.' + name, [maxLength100],SpecialInput,name, null)}\r\n    </div>\r\n}\r\n\r\n\r\nconst ProfileInfoInputReduxForm = reduxForm({form: 'ProfileInfoInput'})(ProfileInfoInputForm)\r\n\r\nexport default ProfileInfoInputReduxForm","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nconst ProfileDescriptionBlock = (props) => {\r\n    return  <div className={s.DescriptionBlock}>\r\n        {props.IDisCurrent && <button onClick={props.activateMode}>change profile</button>}\r\n        <div>About me: {props.ProfileInfo.aboutMe}</div>\r\n        <div>Full Name: {props.ProfileInfo.fullName}</div>\r\n        <div>Looking For A Job: {props.ProfileInfo.lookingForAJob\r\n            ? <span>Yes\r\n                <div>LookingForAJob Description: {props.ProfileInfo.lookingForAJobDescription}</div></span>\r\n            : <span>No</span>\r\n        }</div>\r\n        <div className={s.contacts}>\r\n            {Object.keys(props.ProfileInfo.contacts).map(key => <ContactsProfile key = {key} ContactTitle={key} ContactValue={props.ProfileInfo.contacts[key]}/>\r\n            )}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst ContactsProfile = ({ContactTitle, ContactValue}) => {\r\n    return <div>\r\n        {ContactValue && <>{ContactTitle}: <a href={ContactValue}> {ContactValue}</a></>}\r\n    </div>\r\n}\r\n\r\nexport default ProfileDescriptionBlock","import s from \"./ProfileInfo.module.css\";\r\nimport React from \"react\";\r\n\r\nconst ProfilePhotoInputFile = (props) => {\r\n    return <div className={s.input__wrapper}>\r\n        <input onChange={props.onMainPhotoSelected} type={\"file\"} name=\"file\" id=\"input__file\" className={s.input__file} multiple/>\r\n        <label htmlFor=\"input__file\" className={s.input__file_button}>\r\n                <span className={s.input__file_icon_wrapper}><img src=\"https://i.pinimg.com/736x/55/3f/21/553f212f6a5588d90134c3f29086f2e7.jpg\"\r\n                                                                  alt=\"Сменить фото\" width=\"25\"/>\r\n                </span>\r\n            <span className={s.input__file_button_text}>Сменить фото</span>\r\n        </label>\r\n    </div>\r\n}\r\n\r\nexport default ProfilePhotoInputFile","import s from \"./ProfileInfo.module.css\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport UserPhoto\r\n    from \"../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg\"\r\nimport StatusWithHooks from \"./Status/StatusWithHooks\";\r\nimport ProfileInfoForm from \"./ProfileInfoForm\";\r\nimport ProfileDescriptionBlock from \"./ProfileDescriptionBlock\";\r\nimport ProfilePhotoInputFile from \"./ProfilePhotoInputFile\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    let [ProfileEditMode, setProfileEditeMode] = useState(false)\r\n    let activateMode = () => {\r\n        setProfileEditeMode(true)\r\n    }\r\n    let deactivateMode = () => {\r\n        setProfileEditeMode(false)\r\n    }\r\n    let changeProfile = (data) => {\r\n        props.UpdateProfileInfo(props.CurrentUserId, data)\r\n            .then(() => {\r\n                deactivateMode()\r\n            })\r\n    }\r\n    if (props.SubmitWasOk) {\r\n        deactivateMode()\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.saveMainPhoto(e.target.files[0])\r\n        }\r\n    }\r\n    if (!props.ProfileInfo) {\r\n        return <Preloader/>\r\n    }\r\n    const IDisCurrent = props.ProfileInfo.userId === props.CurrentUserId\r\n    return (\r\n        <div>\r\n            {props.isFetching ? <Preloader/> :\r\n                <div><img className={s.img1}\r\n                          src={props.ProfileInfo.photos.large ? props.ProfileInfo.photos.large : UserPhoto}/>\r\n                </div>}\r\n            {IDisCurrent &&\r\n            <div className={s.inputButton}>\r\n                <ProfilePhotoInputFile onMainPhotoSelected={onMainPhotoSelected}/>\r\n            </div>\r\n            }\r\n            <div>\r\n                <StatusWithHooks UpdateProfileStatus={props.UpdateProfileStatus} ProfileStatus={props.ProfileStatus} IDisCurrent={IDisCurrent}/>\r\n            </div>\r\n            {ProfileEditMode\r\n                ? <ProfileInfoForm initialValues={props.ProfileInfo} deactivateMode={deactivateMode} onSubmit={changeProfile}/>\r\n                : <ProfileDescriptionBlock IDisCurrent = {IDisCurrent} activateMode ={activateMode} ProfileInfo={props.ProfileInfo}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ProfileInfo","import React from 'react';\nimport s from './Post.module.css';\n\nconst Post = (props) => {\n    const id = props.id\n    const deleteProfilePost = () => {\n        props.deleteProfilePost(id)\n    }\n    return(<div className={s.item}>\n            <img src = 'https://avatars.mds.yandex.net/get-zen_doc/171120/pub_5b44a8cd3e56d900a85b258e_5b44aa46a2e4e400a92221a3/scale_1200'/>\n            {props.message}\n            <div><span>\n                Like {' '}\n                {props.likecount}\n            </span></div>\n            <button onClick={deleteProfilePost}>Delete</button>\n            <hr className={s.Hr}/>\n        </div>\n    );\n}\nexport default Post;","\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport {SpecialFormCreator} from \"../../Common/FormsControls/FormControl\";\r\nimport {maxLengthCreator, required} from \"../../../Utils/Validators/validators\";\r\nimport {FieldCreator} from \"../../Common/FormsControls/FieldCreator\";\r\n\r\nconst maxLength30 =  maxLengthCreator(20)\r\nconst SpecialTextArea = SpecialFormCreator('textarea')\r\n\r\nconst PostInputForm = (props) => {\r\n    if (props.submitSucceeded){\r\n        props.reset()\r\n    }\r\n    return <form onSubmit={props.handleSubmit}>\r\n        {FieldCreator('postInput', [required,maxLength30], SpecialTextArea, 'Write new post', null)}\r\n        <button>add</button>\r\n    </form>\r\n\r\n}\r\nconst PostInputReduxForm = reduxForm({form: 'postInput'})(PostInputForm)\r\nexport default PostInputReduxForm","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport PostInputReduxForm from \"./MyPostsForm\";\n\n\nconst MyPosts = React.memo(props => {\n    console.log(props)\n    let PostsElements = [...props.PostsState].map(p => <Post deleteProfilePost = {props.deleteProfilePost} key={p.id} message={p.message} likecount={p.likecount}\n                                                        id={p.id}/>);\n    let addPost = (dataForm) => {\n        props.addNewPost(dataForm.postInput)\n    }\n    return (<div className={s.PostDescription}>\n            <h3> My posts</h3>\n            <div>\n                <PostInputReduxForm onSubmit={addPost}/>\n            </div>\n            <div className={s.posts}>\n                {PostsElements}\n            </div>\n        </div>\n    );\n})\n\nexport default MyPosts;","import React from 'react';\nimport {connect} from \"react-redux\";\nimport MyPosts from \"./MyPosts\";\nimport {addNewPost, deleteProfilePost} from \"../../../Redux/Reducers/ProfileReducer\";\n\n\n\nlet mapStateToProps = (state) => {\n    return {\n        PostsState: state.ProfilePage.PostsData\n    }\n}\nconst MyPostsContainer = connect(mapStateToProps,\n    {addNewPost, deleteProfilePost})(MyPosts)\n\nexport default MyPostsContainer;","import React from 'react';\nimport s from './Profile.module.css';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nconst Profile = (props) => {\n    return (<div className={s.Profile}>\n            <ProfileInfo CurrentUserId = {props.CurrentUserId}\n                UpdateProfileStatus = {props.UpdateProfileStatus}\n                         ProfileStatus = {props.ProfileStatus}\n                         ProfileInfo={props.ProfileInfo}\n                         UpdateProfileInfo = {props.UpdateProfileInfo}\n                         saveMainPhoto = {props.saveMainPhoto}\n                         isFetching = {props.isFetching}\n            />\n            <MyPostsContainer/>\n        </div>\n    );\n}\n\n\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfile,\r\n    getProfileStatus, saveMainPhoto, UpdateProfileInfo,\r\n    UpdateProfileStatus\r\n} from \"../../Redux/Reducers/ProfileReducer\";\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.CurrentUserId\r\n            this.props.getProfile(userId)\r\n            this.props.getProfileStatus(userId)\r\n\r\n        } else {\r\n            this.props.getProfileStatus(userId)\r\n            this.props.getProfile(userId)\r\n        }\r\n    }\r\n    // componentDidUpdate(prevProps, prevState, snapshot) {\r\n    //     if (!this.props.match.params.userId) {\r\n    //         this.props.getProfile(this.props.CurrentUserId)\r\n    //         this.props.getProfileStatus(this.props.CurrentUserId)\r\n    //     }\r\n    // }\r\n\r\n    render() {\r\n        return <Profile {...this.props} ProfileInfo={this.props.ProfileInfo}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        ProfileInfo: state.ProfilePage.ProfileInfo,\r\n        CurrentUserId: state.Auth.CurrentUserId,\r\n        ProfileStatus: state.ProfilePage.ProfileStatus,\r\n        isFetching: state.ProfilePage.isFetching,\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getProfile,\r\n        getProfileStatus, UpdateProfileStatus, UpdateProfileInfo, saveMainPhoto\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n","import React from 'react';\r\nimport UserPhoto from \"../../../accepts/images/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.jpg\"\r\n\r\n\r\nconst HeaderProfile = (props) => {\r\n    const onLogOut = () => {\r\n        props.authLogOut()\r\n    }\r\n    return <div>\r\n        <button onClick={onLogOut}>Log Out</button>\r\n        {props.login}\r\n        {props.CurrentUserPhoto? <img src = {props.CurrentUserPhoto}/>: <img src = {UserPhoto}/> }\r\n    </div>\r\n}\r\n\r\nexport default HeaderProfile;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport HeaderProfile from \"./HeaderProfile/HeaderProfile\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}><NavLink to={`/profile/${props.userId}`}>\r\n            <img src='https://bumper-stickers.ru/69359-thickbox_default/logotip-atlanta-thrashers-atlanta-tresherz.jpg'/>\r\n        </NavLink>\r\n            <div className={s.login}>\r\n                {props.isAuth ?\r\n                    <HeaderProfile login={props.login}\r\n                                   CurrentUserPhoto={props.CurrentUserPhoto}\r\n                                   authLogOut = {props.authLogOut}\r\n                    />\r\n\r\n                    : <NavLink to='/login'>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authLogOut} from \"../../Redux/Reducers/AuthReducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        login: state.Auth.login,\r\n        userId: state.Auth.CurrentUserId,\r\n        isAuth: state.Auth.isAuth,\r\n        CurrentUserPhoto: state.Auth.CurrentUserPhoto\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {authLogOut})(HeaderContainer)","import React from \"react\";\r\nimport PreloaderLogo from '../../../accepts/images/Bean Eater-1s-200px.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst AppPreloader = () => {\r\n    return <div className={s.AppLoadingBlock}>\r\n        <img className={s.AppPreloader} src={PreloaderLogo}/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default AppPreloader","import React from \"react\";\r\nimport './App.css';\r\nimport store from \"./Redux/ReduxStore\";\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializedApp} from \"./Redux/Reducers/AppReducer\";\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport AppPreloader from \"./Components/Common/Preloader/AppPreloader\";\r\nimport {withSuspense} from \"./HOC/withSuspense\";\r\n\r\nconst Music = React.lazy(() => import(\"./Components/Music/Music\"));\r\nconst UsersContainer = React.lazy(() => import(\"./Components/Users/UsersContainer\"));\r\nconst Login = React.lazy(() => import(\"./Components/Login/Login\"));\r\nconst Friends = React.lazy(() => import(\"./Components/Friends/Friends\"));\r\nconst Settings = React.lazy(() => import(\"./Components/Settings/Settings\"));\r\nconst NewsContainer = React.lazy(() => import(\"./Components/News/NewsContainer\"));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializedApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <AppPreloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <SuspenseMainContent/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst MainContent = () => {\r\n    return <div className='app-wrapper-content'>\r\n        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n        <Route path='/users' render={() => <UsersContainer/>}/>\r\n        <Route path='/news' render={() => <NewsContainer/>}/>\r\n        <Route path='/settings' render={() => <Settings/>}/>\r\n        <Route exact path='/' render={() => <ProfileContainer/>}/>\r\n        <Route path='/music' render={() => <Music/>}/>\r\n        <Route path='/login' render={() => <Login/>}/>\r\n        <Route exact path='/friends' render={() => <Friends/>}/>\r\n    </div>\r\n}\r\nconst SuspenseMainContent = withSuspense(MainContent)\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.App.initialized\r\n})\r\nconst AppContainer = compose(\r\n    connect(mapStateToProps, {initializedApp}),\r\n    withRouter,\r\n)(App)\r\n\r\nconst FirstReactApp = () => {\r\n    return <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>\r\n}\r\n\r\nexport default FirstReactApp\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport FirstReactApp from \"./App\";\n\n\nReactDOM.render(\n        <FirstReactApp/>,\n    document.getElementById('root')\n);\n\n\nserviceWorker.unregister();\n","import {AuthApi, UserAPI} from \"../../Api/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_CURRENT_USER_PROFILE = 'SET_CURRENT_USER_PROFILE'\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA'\r\n\r\nlet InitialState = {\r\n    CurrentUserId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    CurrentUserPhoto: null\r\n}\r\n\r\nlet AuthReducer = (state = InitialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case SET_CURRENT_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                CurrentUserPhoto: action.CurrentUserPhoto\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nconst SetAuthUserData = (CurrentUserId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    data: {CurrentUserId, email, login, isAuth}\r\n})\r\nexport const SetCurrentUserProfile = (CurrentUserPhoto) => ({type: SET_CURRENT_USER_PROFILE, CurrentUserPhoto})\r\n\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n    let response = await AuthApi.AuthUser()\r\n    if (response.resultCode === 0) {\r\n        let {id, email, login} = response.data\r\n        dispatch(SetAuthUserData(id, email, login, true))\r\n        let ProfileResponse = await UserAPI.getUserProfile(response.data.id)\r\n        dispatch(SetCurrentUserProfile(ProfileResponse.photos.large))\r\n    }\r\n}\r\n\r\nexport const authLogin = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await AuthApi.AuthLogin(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authUser())\r\n    }\r\n    else {\r\n        let errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: errorMessage}))\r\n    }\r\n\r\n}\r\n\r\nexport const authLogOut = () => async (dispatch) => {\r\n    let response = await AuthApi.AuthLogOut()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(SetAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\nexport default AuthReducer","import React from \"react\";\r\nimport styles from './FormControl.module.css'\r\n\r\n\r\nexport const SpecialFormCreator = (Component) =>  ({input, meta, ...props}) => {\r\n    const hasError = meta.error && meta.touched\r\n    return <div className={styles.formControl + ' ' + (hasError?styles.error:'')}>\r\n        <div>\r\n            <Component {...input} {...props}/>\r\n        </div>\r\n        { hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__12Q8B\",\"error\":\"FormControl_error__PW_OO\",\"someoneError\":\"FormControl_someoneError__2EXic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__3T8h8\",\"AppPreloader\":\"Preloader_AppPreloader__1lSdQ\",\"AppLoadingBlock\":\"Preloader_AppLoadingBlock__MF2lR\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.Auth.isAuth\r\n    }\r\n}\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={\"/login\"}/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","module.exports = __webpack_public_path__ + \"static/media/computer-icons-user-profile-avatar-png-favpng-CXDB2aUAq6zHS7pQSY9GjQ3ZH.79eb8ca5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bean Eater-1s-200px.71c1f798.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FriendBar\":\"FriendBar_FriendBar__E98Ls\",\"OnOf\":\"FriendBar_OnOf__3YZDD\",\"active\":\"FriendBar_active__apofq\"};","import React from \"react\";\r\nimport PreloaderLogo from '../../../accepts/images/Bean Eater-1s-200px.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return <div>\r\n        <img className={s.Preloader} src={PreloaderLogo}/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Preloader"],"sourceRoot":""}